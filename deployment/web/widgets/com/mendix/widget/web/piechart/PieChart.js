define(["exports","../../../shared/charts/amd/shared-charts","react"],(function(e,t,r){"use strict";function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i,n={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */var s,u,a=(i||(i=1,s=n,function(){var e={}.hasOwnProperty;function t(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var n=typeof i;if("string"===n||"number"===n)r.push(i);else if(Array.isArray(i)){if(i.length){var s=t.apply(null,i);s&&r.push(s)}}else if("object"===n){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var u in i)e.call(i,u)&&i[u]&&r.push(u)}}}return r.join(" ")}s.exports?(t.default=t,s.exports=t):window.classNames=t}()),n.exports),l=o(a),c={},p={};var d,f={};var v,g={};var m,b,h={},y={};function O(){return b||(b=1,function(e){var t=h&&h.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),r=h&&h.__exportStar||function(e,r){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||t(r,e,o)};Object.defineProperty(e,"__esModule",{value:!0}),r((m||(m=1,Object.defineProperty(y,"__esModule",{value:!0})),y),e)}(h)),h}var S,_,j,P={},x={};function w(){return _||(_=1,function(e){var t=P&&P.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),r=P&&P.__exportStar||function(e,r){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||t(r,e,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(function(){if(S)return x;function e(e,r,o,i,n){t(((e,t,r)=>r.splice(t,1)),e,o,i,n)}function t(e,r,o,i,n){r.forEach((r=>{var s;r.propertyGroups&&t(e,r.propertyGroups,o,i,n),null===(s=r.properties)||void 0===s||s.forEach(((r,s,u)=>{r.key===o&&(void 0===i||void 0===n?e(r,s,u):r.objects?t(e,r.objects[i].properties,n):r.properties&&t(e,r.properties[i],n))}))}))}return S=1,Object.defineProperty(x,"__esModule",{value:!0}),x.hidePropertyIn=e,x.hidePropertiesIn=function(e,r,o){o.forEach((r=>t(((e,t,r)=>r.splice(t,1)),e,r,void 0,void 0)))},x.hideNestedPropertiesIn=function(t,r,o,i,n){n.forEach((n=>e(t,r,o,i,n)))},x.changePropertyIn=function(e,r,o,i,n,s){t(o,e,i,n,s)},x.transformGroupsIntoTabs=function(e){const t=[];e.forEach((e=>{e.propertyGroups&&(t.push(...e.propertyGroups),e.propertyGroups=[])})),e.push(...t)},x.moveProperty=function(e,t,r){e>=0&&t>=0&&e<r.length&&t<r.length&&e!==t&&r.splice(t,0,...r.splice(e,1))},x}(),e)}(P)),P}var A=(j||(j=1,function(e){var t=c&&c.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,o,i)}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),r=c&&c.__exportStar||function(e,r){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||t(r,e,o)};Object.defineProperty(e,"__esModule",{value:!0}),r((u||(u=1,Object.defineProperty(p,"__esModule",{value:!0}),p.ensure=function(e){if(null==e)throw new Error("Did not expect an argument to be undefined");return e}),p),e),r((d||(d=1,Object.defineProperty(f,"__esModule",{value:!0}),f.mergeNativeStyles=function(e,t){const r=[e,...t.filter((e=>void 0!==e))];return Object.keys(e).reduce(((e,t)=>{const o=r.map((e=>e[t]));return Object.assign(Object.assign({},e),{[t]:(i=o,i.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{}))});var i}),{})},f.extractStyles=function(e,t){return e?Object.entries(e).reduce(((e,r)=>{let[o,i]=e,[n,s]=r;return t.includes(n)?o[n]=s:i[n]=s,[o,i]}),[{},{}]):[{},{}]}),f),e),r((v||(v=1,Object.defineProperty(g,"__esModule",{value:!0}),g.parseInlineStyle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return e.split(";").reduce(((e,t)=>{const r=t.split(":");return 2===r.length&&(e[r[0].trim().replace(/(-.)/g,(e=>e[1].toUpperCase()))]=r[1].trim()),e}),{})}catch(e){return{}}}),g),e),r(O(),e),r(w(),e)}(c)),c);function C(e,r,o){const i=[...e].sort(((e,r)=>{const i=null==o?void 0:o.get(e).value,n=null==o?void 0:o.get(r).value;return t.compareAttrValuesAsc(i,n)}));return"desc"===r&&i.reverse(),i}const M={font:{color:"#FFF",size:12},legend:{font:{family:"Open Sans",size:14,color:"#555"}}},I={responsive:!0},E={type:"pie",hoverinfo:"none",sort:!1};e.PieChart=function(e){var o;const i=(e=>{let{holeRadius:o,customSeriesOptions:i,seriesColorAttribute:n,seriesDataSource:s,seriesName:u,seriesSortAttribute:a,seriesSortOrder:l,seriesValueAttribute:c,onClickAction:p,tooltipHoverText:d,seriesItemSelection:f}=e;const[v,g]=r.useState([]);r.useEffect((()=>{if("available"===s.status&&s.items){const e=s.items.map((e=>{var t;return{itemName:u.get(e).value,itemValue:null===(t=A.ensure(c).get(e).value)||void 0===t?void 0:t.toNumber(),itemColor:null==n?void 0:n.get(e).value,itemSortValue:null==a?void 0:a.get(e).value,itemHoverText:null==d?void 0:d.get(e).value}}));a&&(e.sort(((e,r)=>{let{itemSortValue:o}=e,{itemSortValue:i}=r;return t.compareAttrValuesAsc(o,i)})),"desc"===l&&e.reverse()),g(e)}}),[n,s,u,a,l,c,d]);const m=r.useCallback((e=>{var t;(t=null==p?void 0:p.get(e))&&t.canExecute&&!t.isExecuting&&t.execute(),f&&"Single"===f.type&&f.setSelection(e)}),[p,f]);return r.useMemo((()=>{var e;return[{customSeriesOptions:i,hole:o/100,labels:v.map((e=>{let{itemName:t}=e;return null!=t?t:null})),values:v.map((e=>{let{itemValue:t}=e;return null!=t?t:0})),marker:{colors:v.map((e=>{let{itemColor:t}=e;return t}))},hovertext:v.map((e=>{let{itemHoverText:t}=e;return null!=t?t:""})),hoverinfo:v.some((e=>{let{itemHoverText:t}=e;return void 0!==t&&""!==t}))?"text":"none",dataSourceItems:C(null!==(e=s.items)&&void 0!==e?e:[],l,a),onClick:m}]}),[i,o,v,m,s.items,a,l])})({holeRadius:e.holeRadius,customSeriesOptions:e.customSeriesOptions,seriesColorAttribute:e.seriesColorAttribute,seriesDataSource:e.seriesDataSource,seriesName:e.seriesName,seriesSortAttribute:e.seriesSortAttribute,seriesSortOrder:e.seriesSortOrder,seriesValueAttribute:e.seriesValueAttribute,onClickAction:e.onClickAction,tooltipHoverText:e.tooltipHoverText,seriesItemSelection:e.seriesItemSelection}),n="Single"===(null===(o=e.seriesItemSelection)||void 0===o?void 0:o.type)||e.onClickAction;return r.createElement(t.ChartWidget,{type:"PieChart",className:l("widget-pie-chart",{"widget-pie-chart-selectable":n},e.class),data:i,width:e.width,widthUnit:e.widthUnit,height:e.height,heightUnit:e.heightUnit,showLegend:e.showLegend,xAxisLabel:void 0,yAxisLabel:void 0,gridLinesMode:"none",customLayout:e.customLayout,customConfig:e.customConfigurations,layoutOptions:M,configOptions:I,seriesOptions:E,enableThemeConfig:e.enableThemeConfig,playground:e.playground})}}));
