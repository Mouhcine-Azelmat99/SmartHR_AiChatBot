function _defineProperty(e,t,n){return(t=_toPropertyKey2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey2(e){var t=_toPrimitive2(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive2(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}define(["react/jsx-runtime","react","react-dom","mendix/filters/builders","big.js"],function(e,t,n,r,i){"use strict";function o(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var s=o(t),a=o(n);const l=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};class c{constructor(e,t){_defineProperty(this,"trigger",void 0),_defineProperty(this,"listAction",void 0),_defineProperty(this,"onExecuteAction",e=>{this.listAction&&"get"in this.listAction&&l(this.listAction.get(e))}),this.trigger=e,this.listAction=t}get clickTrigger(){return this.listAction?this.trigger:"none"}update(e){this.listAction=e}}function u(e,t){return"".concat(e,",").concat(t)}function d(e){const[t,n]=e.split(",");return[parseInt(t,10),parseInt(n,10)]}class h{constructor(e,t){_defineProperty(this,"_listeners",void 0),_defineProperty(this,"_focusTarget",void 0),_defineProperty(this,"_positionController",void 0),_defineProperty(this,"_layout",void 0),_defineProperty(this,"dispatch",e=>{const t=this._positionController.dispatch(e,this._layout);void 0!==t&&t!==this._focusTarget&&("Keyboard"===e.type?this._setTargetAndFocus(t):this._setTarget(t))}),this._listeners=[],this._focusTarget=this._getInitPosition(),this._positionController=e,this._layout=t}get focusTarget(){return this._focusTarget}addListener(e){this._listeners.push(e)}removeListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}updateGridLayout(e){this._layout=e,void 0===this._layout.get(d(this._focusTarget))&&this._setTarget(this._getInitPosition())}_setTarget(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!1})}_setTargetAndFocus(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!0})}_emit(e){for(const t of this._listeners)t(e)}_getInitPosition(){return u(0,0)}}const f=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","PageUp","PageDown","End","Home"]);const p={ArrowUp:function(e){let[t,n]=e;return[t,Math.max(0,n-1)]},ArrowRight:function(e){let[t,n]=e;return[t+1,n]},ArrowDown:function(e){let[t,n]=e;return[t,n+1]},ArrowLeft:function(e){let[t,n]=e;return[Math.max(0,t-1),n]},PageUp:(e,t)=>function(e,t){let[n,r]=e;return[n,Math.max(0,r-t)]}(e,t.pageSize),PageDown:(e,t)=>function(e,t,n){let[r,i]=e;return[r,Math.min(n-1,i+t)]}(e,t.pageSize,t.rows),End:(e,t,n)=>{let{ctrlKey:r}=n;return r?[-1,-1]:function(e){let[t,n]=e;return[-1,n]}(e)},Home:(e,t,n)=>{let{ctrlKey:r}=n;return r?[0,0]:function(e){let[t,n]=e;return[0,n]}(e)}};class g{dispatch(e,t){return"Focus"===e.type?this._handleFocusEvent(e.reactEvent):"Mouse"===e.type?this._handleMouseEvent(e.reactEvent):this._handleKeyboardEvent(e.reactEvent,t)}_handleKeyboardEvent(e,t){if(n=e.code,!f.has(n))return;var n;if(!Object.hasOwn(p,e.code))throw new Error("Keyboard nav: can't find handler for ".concat(e.code," key"));e.preventDefault();const r=d(this._getTargetPosition(e));return t.get(p[e.code](r,t,e))}_handleMouseEvent(e){return this._getTargetPosition(e)}_handleFocusEvent(e){return this._getTargetPosition(e)}_getTargetPosition(e){var t;const n=null===(t=e.currentTarget.dataset)||void 0===t?void 0:t.position;if(void 0===n)throw new Error("Keyboard navigation: target position is missing");return n}}class v{constructor(e,t,n){_defineProperty(this,"rows",void 0),_defineProperty(this,"columns",void 0),_defineProperty(this,"pageSize",void 0),_defineProperty(this,"_positions",void 0),this.columns=t,this.rows=e,this.pageSize=n,this._positions=new Set;for(let n=0;n<e;n+=1)for(let e=0;e<t;e+=1)this._positions.add(u(e,n))}get(e){let[t,n]=e;const r=u(t<0?this.columns+t:t,n<0?this.rows+n:n);if(this._positions.has(r))return r}}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var b={};function y(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:b}var _=Object.assign,w=Object.getOwnPropertyDescriptor,S=Object.defineProperty,x=Object.prototype,C=[];Object.freeze(C);var P={};Object.freeze(P);var E="undefined"!=typeof Proxy,O=Object.toString();function A(){E||m("Proxy not available")}function k(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var T=function(){};function I(e){return"function"==typeof e}function j(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function N(e){return null!==e&&"object"==typeof e}function R(e){if(!N(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===O}function M(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function D(e,t,n){S(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function L(e,t,n){S(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function F(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return N(e)&&!0===e[n]}}function V(e){return e instanceof Map}function z(e){return e instanceof Set}var H=void 0!==Object.getOwnPropertySymbols;var B="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:H?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function K(e){return null===e?null:"object"==typeof e?""+e:e}function W(e,t){return x.hasOwnProperty.call(e,t)}var q=Object.getOwnPropertyDescriptors||function(e){var t={};return B(e).forEach(function(n){t[n]=w(e,n)}),t};function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function G(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}function X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Y(e,t)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var te=Symbol("mobx-stored-annotations");function ne(e){return Object.assign(function(t,n){if(ie(n))return e.decorate_20223_(t,n);re(t,n,e)},e)}function re(e,t,n){W(e,te)||D(e,te,J({},e[te])),function(e){return e.annotationType_===he}(n)||(e[te][t]=n)}function ie(e){return"object"==typeof e&&"string"==typeof e.kind}var oe=Symbol("mobx administration"),se=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ht.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return Dt(this)},t.reportChanged=function(){Rt(),Lt(this),Mt()},t.toString=function(){return this.name_},e}(),ae=F("Atom",se);function le(e,t,n){void 0===t&&(t=T),void 0===n&&(n=T);var r,i=new se(e);return t!==T&&cn(sn,i,t,r),n!==T&&ln(i,n),i}var ce={identity:function(e,t){return e===t},structural:function(e,t){return Tr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Tr(e,t,1)}};function ue(e,t,n){return wn(e)?e:Array.isArray(e)?Xe.array(e,{name:n}):R(e)?Xe.object(e,void 0,{name:n}):V(e)?Xe.map(e,{name:n}):z(e)?Xe.set(e,{name:n}):"function"!=typeof e||en(e)||_n(e)?e:M(e)?bn(e):Qt(n,e)}function de(e){return e}var he="override";function fe(e,t){return{annotationType_:e,options_:t,make_:pe,extend_:ge,decorate_20223_:ve}}function pe(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(en(n.value))return 1;var o=me(e,this,t,n,!1);return S(r,t,o),2}function ge(e,t,n,r){var i=me(e,this,t,n);return e.defineProperty_(t,i,r)}function ve(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this;if("field"!=n){var s,a,l,c,u,d;if("method"==n)return en(e)||(a=e,e=ot(null!=(l=null==(c=o.options_)?void 0:c.name)?l:r.toString(),a,null!=(u=null==(d=o.options_)?void 0:d.autoAction)&&u)),null!=(s=this.options_)&&s.bound&&i(function(){var e=this,t=e[r].bind(e);t.isMobxAction=!0,e[r]=t}),e;m("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):\n'"+o.annotationType_+"' can only be used on properties with a function value.")}else i(function(){re(this,r,o)})}function me(e,t,n,r,i){var o,s,a,l,c,u,d,h;void 0===i&&(i=Tt.safeDescriptors),h=r,t.annotationType_,h.value;var f,p=r.value;null!=(o=t.options_)&&o.bound&&(p=p.bind(null!=(f=e.proxy_)?f:e.target_));return{value:ot(null!=(s=null==(a=t.options_)?void 0:a.name)?s:n.toString(),p,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function be(e,t){return{annotationType_:e,options_:t,make_:ye,extend_:_e,decorate_20223_:we}}function ye(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!W(e.target_,t)||!_n(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(_n(n.value))return 1;var o=Se(e,this,t,n,!1,!1);return S(r,t,o),2}function _e(e,t,n,r){var i,o=Se(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function we(e,t){var n,r=t.name,i=t.addInitializer;return _n(e)||(e=bn(e)),null!=(n=this.options_)&&n.bound&&i(function(){var e=this,t=e[r].bind(e);t.isMobXFlow=!0,e[r]=t}),e}function Se(e,t,n,r,i,o){var s;void 0===o&&(o=Tt.safeDescriptors),s=r,t.annotationType_,s.value;var a,l=r.value;(_n(l)||(l=bn(l)),i)&&((l=l.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0);return{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function xe(e,t){return{annotationType_:e,options_:t,make_:Ce,extend_:Pe,decorate_20223_:Ee}}function Ce(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Pe(e,t,n,r){var i;return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,J({},this.options_,{get:n.get,set:n.set}),r)}function Ee(e,t){var n=this,r=t.name;return(0,t.addInitializer)(function(){var t=cr(this)[oe],i=J({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),t.values_.set(r,new pt(i))}),function(){return this[oe].getObservablePropValue_(r)}}function Oe(e,t){return{annotationType_:e,options_:t,make_:Ae,extend_:ke,decorate_20223_:Te}}function Ae(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ke(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:ue,r)}function Te(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(e,t){var r,s,a=cr(e)[oe],l=new dt(t,null!=(r=null==(s=n.options_)?void 0:s.enhancer)?r:ue,"ObservableObject."+i.toString(),!1);a.values_.set(i,l),o.add(e)}if("accessor"==r)return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[oe].getObservablePropValue_(i)},set:function(e){return o.has(this)||s(this,e),this[oe].setObservablePropValue_(i,e)},init:function(e){return o.has(this)||s(this,e),e}}}var Ie="true",je=Ne();function Ne(e){return{annotationType_:Ie,options_:e,make_:Re,extend_:Me,decorate_20223_:De}}function Re(e,t,n,r){var i,o,s,a;if(n.get)return Qe.make_(e,t,n,r);if(n.set){var l=ot(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Tt.safeDescriptors||e.isPlainObject_,set:l})?0:2:(S(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return M(n.value)?(null!=(a=this.options_)&&a.autoBind?bn.bound:bn).make_(e,t,n,r):(null!=(s=this.options_)&&s.autoBind?Qt.bound:Qt).make_(e,t,n,r);var c,u=!1===(null==(i=this.options_)?void 0:i.deep)?Xe.ref:Xe;"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,r)}function Me(e,t,n,r){var i,o,s;if(n.get)return Qe.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Tt.safeDescriptors||e.isPlainObject_,set:ot(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Xe.ref:Xe).extend_(e,t,n,r)}function De(e,t){m("'"+this.annotationType_+"' cannot be used as a decorator")}var Le={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Fe(e){return e||Le}Object.freeze(Le);var Ve=Oe("observable"),ze=Oe("observable.ref",{enhancer:de}),He=Oe("observable.shallow",{enhancer:function(e,t,n){return null==e||hr(e)||Xn(e)||nr(e)||or(e)?e:Array.isArray(e)?Xe.array(e,{name:n,deep:!1}):R(e)?Xe.object(e,void 0,{name:n,deep:!1}):V(e)?Xe.map(e,{name:n,deep:!1}):z(e)?Xe.set(e,{name:n,deep:!1}):void 0}}),Be=Oe("observable.struct",{enhancer:function(e,t){return Tr(e,t)?t:e}}),Ke=ne(Ve);function We(e){return!0===e.deep?ue:!1===e.deep?de:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:ue;var t,n,r}function qe(e,t,n){return ie(t)?Ve.decorate_20223_(e,t):j(t)?void re(e,t,Ve):wn(e)?e:R(e)?Xe.object(e,t,n):Array.isArray(e)?Xe.array(e,t):V(e)?Xe.map(e,t):z(e)?Xe.set(e,t):"object"==typeof e&&null!==e?e:Xe.box(e,t)}_(qe,Ke);var Ue,Ge,Je={box:function(e,t){var n=Fe(t);return new dt(e,We(n),n.name,!0,n.equals)},array:function(e,t){var n=Fe(t);return(!1===Tt.useProxies||!1===n.proxy?Cr:zn)(e,We(n),n.name)},map:function(e,t){var n=Fe(t);return new tr(e,We(n),n.name)},set:function(e,t){var n=Fe(t);return new ir(e,We(n),n.name)},object:function(e,t,n){return Ar(function(){return hn(!1===Tt.useProxies||!1===(null==n?void 0:n.proxy)?cr({},n):function(e,t){var n,r;return A(),e=cr(e,t),null!=(r=(n=e[oe]).proxy_)?r:n.proxy_=new Proxy(e,En)}({},n),e,t)})},ref:ne(ze),shallow:ne(He),deep:Ke,struct:ne(Be)},Xe=_(qe,Je),Ye="computed",$e=xe(Ye),Ze=xe("computed.struct",{equals:ce.structural}),Qe=function(e,t){if(ie(t))return $e.decorate_20223_(e,t);if(j(t))return re(e,t,$e);if(R(e))return ne(xe(Ye,e));var n=R(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new pt(n)};Object.assign(Qe,$e),Qe.struct=ne(Ze);var et,tt=0,nt=1,rt=null!=(Ue=null==(Ge=w(function(){},"name"))?void 0:Ge.configurable)&&Ue,it={value:"action",configurable:!0,writable:!1,enumerable:!1};function ot(e,t,n,r){function i(){return st(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},rt&&(it.value=e,S(i,"name",it)),i}function st(e,t,n,r,i){var o=function(e,t){var n=!1,r=0,i=Tt.trackingDerivation,o=!t||!i;Rt();var s=Tt.allowStateChanges;o&&(St(),s=lt(!0));var a=Ct(!0),l={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:s,prevAllowStateReads_:a,notifySpy_:n,startTime_:r,actionId_:nt++,parentActionId_:tt};return tt=l.actionId_,l}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){tt!==e.actionId_&&m(30);tt=e.parentActionId_,void 0!==e.error_&&(Tt.suppressReactionErrors=!0);ct(e.prevAllowStateChanges_),Pt(e.prevAllowStateReads_),Mt(),e.runAsAction_&&xt(e.prevDerivation_);Tt.suppressReactionErrors=!1}(o)}}function at(e,t){var n=lt(e);try{return t()}finally{ct(n)}}function lt(e){var t=Tt.allowStateChanges;return Tt.allowStateChanges=e,t}function ct(e){Tt.allowStateChanges=e}et=Symbol.toPrimitive;var ut,dt=function(e){function t(t,n,r,i,o){var s;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=ce.default),(s=e.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=o,s.value_=n(t,void 0,r),s}X(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==Tt.UNCHANGED&&this.setNewValue_(e)},n.prepareNewValue_=function(e){if(On(this)){var t=kn(this,{object:this,type:Ln,newValue:e});if(!t)return Tt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Tt.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Tn(this)&&jn(this,{type:Ln,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return An(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Ln,newValue:this.value_,oldValue:void 0}),In(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return K(this.get())},n[et]=function(){return this.valueOf()},t}(se);ut=Symbol.toPrimitive;var ht,ft,pt=function(){function e(e){this.dependenciesState_=ht.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ht.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ft.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||m(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=ot("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ce.structural:ce.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==ht.UP_TO_DATE_)return;e.lowestObserverState_=ht.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===ht.UP_TO_DATE_&&(e.dependenciesState_=ht.POSSIBLY_STALE_,e.onBecomeStale_())})}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing_&&m(32,this.name_,this.derivation),0!==Tt.inBatch||0!==this.observers_.size||this.keepAlive_){if(Dt(this),bt(this)){var e=Tt.trackingContext;this.keepAlive_&&!e&&(Tt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===ht.STALE_)return;e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ht.POSSIBLY_STALE_?t.dependenciesState_=ht.STALE_:t.dependenciesState_===ht.UP_TO_DATE_&&(e.lowestObserverState_=ht.UP_TO_DATE_)})}(this),Tt.trackingContext=e}}else bt(this)&&(this.warnAboutUntrackedRead_(),Rt(),this.value_=this.computeValue_(!1),Mt());var t=this.value_;if(mt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&m(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else m(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===ht.NOT_TRACKING_,n=this.computeValue_(!0),r=t||mt(e)||mt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=lt(!1);if(e)t=yt(this,this.derivation,this.scope_);else if(!0===Tt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new vt(e)}return ct(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(_t(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return tn(function(){var o=n.get();if(!r||t){var s=St();e({observableKind:"computed",debugObjectName:n.name_,type:Ln,object:n,newValue:o,oldValue:i}),xt(s)}r=!1,i=o})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return K(this.get())},t[ut]=function(){return this.valueOf()},e}(),gt=F("ComputedValue",pt);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(ht||(ht={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ft||(ft={}));var vt=function(e){this.cause=void 0,this.cause=e};function mt(e){return e instanceof vt}function bt(e){switch(e.dependenciesState_){case ht.UP_TO_DATE_:return!1;case ht.NOT_TRACKING_:case ht.STALE_:return!0;case ht.POSSIBLY_STALE_:for(var t=Ct(!0),n=St(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(gt(s)){if(Tt.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return xt(n),Pt(t),!0}if(e.dependenciesState_===ht.STALE_)return xt(n),Pt(t),!0}}return Et(e),xt(n),Pt(t),!1}}function yt(e,t,n){var r=Ct(!0);Et(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Tt.runId;var i,o=Tt.trackingDerivation;if(Tt.trackingDerivation=e,Tt.inBatch++,!0===Tt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new vt(e)}return Tt.inBatch--,Tt.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ht.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=n[s];0===a.diffValue_&&(a.diffValue_=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue_&&jt(l,e),l.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,It(c,e))}r!==ht.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Pt(r),i}function _t(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)jt(t[n],e);e.dependenciesState_=ht.NOT_TRACKING_}function wt(e){var t=St();try{return e()}finally{xt(t)}}function St(){var e=Tt.trackingDerivation;return Tt.trackingDerivation=null,e}function xt(e){Tt.trackingDerivation=e}function Ct(e){var t=Tt.allowStateReads;return Tt.allowStateReads=e,t}function Pt(e){Tt.allowStateReads=e}function Et(e){if(e.dependenciesState_!==ht.UP_TO_DATE_){e.dependenciesState_=ht.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ht.UP_TO_DATE_}}var Ot=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},At=!0,kt=!1,Tt=function(){var e=y();return e.__mx_isolated_mobxInstanceCount>0&&!e.__mx_isolated_mobxGlobals&&(At=!1),e.__mx_isolated_mobxGlobals&&e.__mx_isolated_mobxGlobals.version!==(new Ot).version&&(At=!1),At?e.__mx_isolated_mobxGlobals?(e.__mx_isolated_mobxInstanceCount+=1,e.__mx_isolated_mobxGlobals.UNCHANGED||(e.__mx_isolated_mobxGlobals.UNCHANGED={}),e.__mx_isolated_mobxGlobals):(e.__mx_isolated_mobxInstanceCount=1,e.__mx_isolated_mobxGlobals=new Ot):(setTimeout(function(){kt||m(35)},1),new Ot)}();function It(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function jt(e,t){e.observers_.delete(t),0===e.observers_.size&&Nt(e)}function Nt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Tt.pendingUnobservations.push(e))}function Rt(){Tt.inBatch++}function Mt(){if(0===--Tt.inBatch){Ht();for(var e=Tt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof pt&&n.suspend_())}Tt.pendingUnobservations=[]}}function Dt(e){var t=Tt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Tt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&Tt.inBatch>0&&Nt(e),!1)}function Lt(e){e.lowestObserverState_!==ht.STALE_&&(e.lowestObserverState_=ht.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===ht.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=ht.STALE_}))}var Ft=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ht.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ft.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Tt.pendingReactions.push(this),Ht())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Rt(),this.isScheduled_=!1;var e=Tt.trackingContext;if(Tt.trackingContext=this,bt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Tt.trackingContext=e,Mt()}},t.track=function(e){if(!this.isDisposed_){Rt(),this.isRunning_=!0;var t=Tt.trackingContext;Tt.trackingContext=this;var n=yt(this,e,void 0);Tt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&_t(this),mt(n)&&this.reportExceptionInDerivation_(n.cause),Mt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Tt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Tt.suppressReactionErrors||console.error(n,e),Tt.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Rt(),_t(this),Mt()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[oe]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){},e}(),Vt=100,zt=function(e){return e()};function Ht(){Tt.inBatch>0||Tt.isRunningReactions||zt(Bt)}function Bt(){Tt.isRunningReactions=!0;for(var e=Tt.pendingReactions,t=0;e.length>0;){++t===Vt&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Tt.isRunningReactions=!1}var Kt=F("Reaction",Ft);var Wt="action",qt="autoAction",Ut="<unnamed action>",Gt=fe(Wt),Jt=fe("action.bound",{bound:!0}),Xt=fe(qt,{autoAction:!0}),Yt=fe("autoAction.bound",{autoAction:!0,bound:!0});function $t(e){return function(t,n){return I(t)?ot(t.name||Ut,t,e):I(n)?ot(t,n,e):ie(n)?(e?Xt:Gt).decorate_20223_(t,n):j(n)?re(t,n,e?Xt:Gt):j(t)?ne(fe(e?qt:Wt,{name:t,autoAction:e})):void 0}}var Zt=$t(!1);Object.assign(Zt,Gt);var Qt=$t(!0);function en(e){return I(e)&&!0===e.isMobxAction}function tn(e,t){var n,r,i,o,s;void 0===t&&(t=P);var a,l=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Ft(l,function(){this.track(d)},t.onError,t.requiresObservable);else{var c=rn(t),u=!1;a=new Ft(l,function(){u||(u=!0,c(function(){u=!1,a.isDisposed_||a.track(d)}))},t.onError,t.requiresObservable)}function d(){e(a)}return null!=(i=t)&&null!=(o=i.signal)&&o.aborted||a.schedule_(),a.getDisposer_(null==(s=t)?void 0:s.signal)}Object.assign(Qt,Xt),Zt.bound=ne(Jt),Qt.bound=ne(Yt);var nn=function(e){return e()};function rn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:nn}function on(e,t,n){var r,i,o,s;void 0===n&&(n=P);var a,l,c,u=null!=(r=n.name)?r:"Reaction",d=Zt(u,n.onError?(a=n.onError,l=t,function(){try{return l.apply(this,arguments)}catch(e){a.call(this,e)}}):t),h=!n.scheduler&&!n.delay,f=rn(n),p=!0,g=!1,v=n.compareStructural?ce.structural:n.equals||ce.default,m=new Ft(u,function(){p||h?b():g||(g=!0,f(b))},n.onError,n.requiresObservable);function b(){if(g=!1,!m.isDisposed_){var t=!1,r=c;m.track(function(){var n=at(!1,function(){return e(m)});t=p||!v(c,n),c=n}),(p&&n.fireImmediately||!p&&t)&&d(c,r,m),p=!1}}return null!=(i=n)&&null!=(o=i.signal)&&o.aborted||m.schedule_(),m.getDisposer_(null==(s=n)?void 0:s.signal)}var sn="onBO",an="onBUO";function ln(e,t,n){return cn(an,e,t,n)}function cn(e,t,n,r){var i="function"==typeof r?Pr(t,n):Pr(t),o=I(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var e=i[s];e&&(e.delete(o),0===e.size&&delete i[s])}}var un="always";function dn(e){!0===e.isolateGlobalState&&function(){if((Tt.pendingReactions.length||Tt.inBatch||Tt.isRunningReactions)&&m(36),kt=!0,At){var e=y();0===--e.__mx_isolated_mobxInstanceCount&&(e.__mx_isolated_mobxGlobals=void 0),Tt=new Ot}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(Tt.useProxies=r===un||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Tt.verifyProxies=!0),void 0!==i){var o=i===un?un:"observed"===i;Tt.enforceActions=o,Tt.allowStateChanges=!0!==o&&o!==un}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(Tt[t]=!!e[t])}),Tt.allowStateReads=!Tt.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=zt,zt=function(e){return t(function(){return n(e)})})}function hn(e,t,n,r){var i=q(t);return Ar(function(){var t=cr(e,r)[oe];B(i).forEach(function(e){t.extend_(e,i[e],!n||(!(e in n)||n[e]))})}),e}function fn(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(fn)),n}var pn=0;function gn(){this.message="FLOW_CANCELLED"}gn.prototype=Object.create(Error.prototype);var vn=be("flow"),mn=be("flow.bound",{bound:!0}),bn=Object.assign(function(e,t){if(ie(t))return vn.decorate_20223_(e,t);if(j(t))return re(e,t,vn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=arguments,i=++pn,o=Zt(r+" - runid: "+i+" - init",n).apply(this,t),s=void 0,a=new Promise(function(t,n){var a=0;function l(e){var t;s=void 0;try{t=Zt(r+" - runid: "+i+" - yield "+a++,o.next).call(o,e)}catch(e){return n(e)}u(t)}function c(e){var t;s=void 0;try{t=Zt(r+" - runid: "+i+" - yield "+a++,o.throw).call(o,e)}catch(e){return n(e)}u(t)}function u(e){if(!I(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)});return a.cancel=Zt(r+" - runid: "+i+" - cancel",function(){try{s&&yn(s);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(T,T),yn(n),e(new gn)}catch(t){e(t)}}),a};return i.isMobXFlow=!0,i},vn);function yn(e){I(e.cancel)&&e.cancel()}function _n(e){return!0===(null==e?void 0:e.isMobXFlow)}function wn(e){return function(e,t){return!!e&&(void 0!==t?!!hr(e)&&e[oe].values_.has(t):hr(e)||!!e[oe]||ae(e)||Kt(e)||gt(e))}(e)}function Sn(e,t){void 0===t&&(t=void 0),Rt();try{return e.apply(t)}finally{Mt()}}function xn(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r,i;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var o=new Promise(function(n,o){var s,a=Cn(e,n,J({},t,{onError:o}));r=function(){a(),o(new Error("WHEN_CANCELLED"))},i=function(){a(),o(new Error("WHEN_ABORTED"))},null==t||null==(s=t.signal)||null==s.addEventListener||s.addEventListener("abort",i)}).finally(function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",i)});return o.cancel=r,o}(e,t):Cn(e,t,n||{})}function Cn(e,t,n){var r;if("number"==typeof n.timeout){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!s[oe].isDisposed_){if(s(),!n.onError)throw i;n.onError(i)}},n.timeout)}n.name="When";var o=ot("When-effect",t),s=tn(function(t){at(!1,e)&&(t.dispose(),r&&clearTimeout(r),o())},n);return s}function Pn(e){return e[oe]}bn.bound=ne(mn);var En={has:function(e,t){return Pn(e).has_(t)},get:function(e,t){return Pn(e).get_(t)},set:function(e,t,n){var r;return!!j(t)&&(null==(r=Pn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!j(t)&&(null==(n=Pn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=Pn(e).defineProperty_(t,n))||r},ownKeys:function(e){return Pn(e).ownKeys_()},preventExtensions:function(e){m(13)}};function On(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function An(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),k(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function kn(e,t){var n=St();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&m(14),t);i++);return t}finally{xt(n)}}function Tn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function In(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),k(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function jn(e,t){var n=St(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);xt(n)}}function Nn(e,t,n){return Ar(function(){var r=cr(e,n)[oe];null!=t||(t=function(e){return W(e,te)||D(e,te,J({},e[te])),e[te]}(e)),B(t).forEach(function(e){return r.make_(e,t[e])})}),e}var Rn=Symbol("mobx-keys");function Mn(e,t,n){return R(e)?hn(e,e,t,n):(Ar(function(){var r=cr(e,n)[oe];if(!e[Rn]){var i=Object.getPrototypeOf(e),o=new Set([].concat(B(e),B(i)));o.delete("constructor"),o.delete(oe),D(i,Rn,o)}e[Rn].forEach(function(e){return r.make_(e,!t||(!(e in t)||t[e]))})}),e)}var Dn="splice",Ln="update",Fn={get:function(e,t){var n=e[oe];return t===oe?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?W(Hn,t)?Hn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[oe];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){m(15)}},Vn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new se(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return An(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),In(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&m("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&m(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&xr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=C),On(this)){var o=kn(this,{object:this.proxy_,type:Dn,index:e,removedCount:t,added:n});if(!o)return C;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map(function(e){return r.enhancer_(e,void 0)}),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(i,s)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var a=0;a<o.length;a++)this.values_[e+n.length+a]=o[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Tn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Ln,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&jn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Tn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Dn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&jn(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&m(17,e,n.length),e<n.length){this.atom_;var r=n[e];if(On(this)){var i=kn(this,{type:Ln,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else{for(var o=new Array(e+1-n.length),s=0;s<o.length-1;s++)o[s]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function zn(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),A(),Ar(function(){var i=new Vn(n,t,r,!1);L(i.values_,oe,i);var o=new Proxy(i.values_,Fn);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var Hn={clear:function(){return this.splice(0)},replace:function(e){var t=this[oe];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[oe];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[oe].spliceWithArray_(e,t,n)},push:function(){for(var e=this[oe],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[oe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[oe],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Tt.trackingDerivation&&m(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Tt.trackingDerivation&&m(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[oe],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Bn(e,t){"function"==typeof Array.prototype[e]&&(Hn[e]=t(e))}function Kn(e){return function(){var t=this[oe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Wn(e){return function(t,n){var r=this,i=this[oe];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e](function(e,i){return t.call(n,e,i,r)})}}function qn(e){return function(){var t=this,n=this[oe];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Bn("at",Kn),Bn("concat",Kn),Bn("flat",Kn),Bn("includes",Kn),Bn("indexOf",Kn),Bn("join",Kn),Bn("lastIndexOf",Kn),Bn("slice",Kn),Bn("toString",Kn),Bn("toLocaleString",Kn),Bn("toSorted",Kn),Bn("toSpliced",Kn),Bn("with",Kn),Bn("every",Wn),Bn("filter",Wn),Bn("find",Wn),Bn("findIndex",Wn),Bn("findLast",Wn),Bn("findLastIndex",Wn),Bn("flatMap",Wn),Bn("forEach",Wn),Bn("map",Wn),Bn("some",Wn),Bn("toReversed",Wn),Bn("reduce",qn),Bn("reduceRight",qn);var Un,Gn,Jn=F("ObservableArrayAdministration",Vn);function Xn(e){return N(e)&&Jn(e[oe])}var Yn={},$n="add",Zn="delete";Un=Symbol.iterator,Gn=Symbol.toStringTag;var Qn,er,tr=function(){function e(e,t,n){var r=this;void 0===t&&(t=ue),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[oe]=Yn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,I(Map)||m(18),Ar(function(){r.keysAtom_=le("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Tt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new dt(this.has_(e),de,"ObservableMap.key?",!1);this.hasMap_.set(e,r),ln(r,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(On(this)){var r=kn(this,{type:n?Ln:$n,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,On(this))&&!kn(this,{type:Zn,object:this,name:e}))return!1;if(this.has_(e)){var n=Tn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Zn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Sn(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&jn(this,r),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Tt.UNCHANGED){var r=Tn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Ln,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&jn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Sn(function(){var r,i=new dt(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()});var r=Tn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:$n,object:this,name:e,newValue:t}:null;r&&jn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Nr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return Nr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Un]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=Q(this);!(n=r()).done;){var i=n.value,o=i[0],s=i[1];e.call(t,s,o,this)}},t.merge=function(e){var t=this;return nr(e)&&(e=new Map(e)),Sn(function(){R(e)?function(e){var t=Object.keys(e);if(!H)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return x.propertyIsEnumerable.call(e,t)})):t}(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],r=e[1];return t.set(n,r)}):V(e)?(e.constructor!==Map&&m(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!=e&&m(20,e)}),this},t.clear=function(){var e=this;Sn(function(){wt(function(){for(var t,n=Q(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.replace=function(e){var t=this;return Sn(function(){for(var n,r=function(e){if(V(e)||nr(e))return e;if(Array.isArray(e))return new Map(e);if(R(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return m(21,e)}(e),i=new Map,o=!1,s=Q(t.data_.keys());!(n=s()).done;){var a=n.value;if(!r.has(a))if(t.delete(a))o=!0;else{var l=t.data_.get(a);i.set(a,l)}}for(var c,u=Q(r.entries());!(c=u()).done;){var d=c.value,h=d[0],f=d[1],p=t.data_.has(h);if(t.set(h,f),t.data_.has(h)){var g=t.data_.get(h);i.set(h,g),p||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),b=i.keys(),y=v.next(),_=b.next();!y.done;){if(y.value!==_.value){t.keysAtom_.reportChanged();break}y=v.next(),_=b.next()}t.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return In(this,e)},t.intercept_=function(e){return An(this,e)},G(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Gn,get:function(){return"Map"}}]),e}(),nr=F("ObservableMap",tr);var rr={};Qn=Symbol.iterator,er=Symbol.toStringTag;var ir=function(){function e(e,t,n){var r=this;void 0===t&&(t=ue),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[oe]=rr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,I(Set)||m(22),this.enhancer_=function(e,r){return t(e,r,n)},Ar(function(){r.atom_=le(r.name_),e&&r.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Sn(function(){wt(function(){for(var t,n=Q(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}})})},t.forEach=function(e,t){for(var n,r=Q(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,On(this))&&!kn(this,{type:$n,object:this,newValue:e}))return this;if(!this.has(e)){Sn(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var n=Tn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:$n,object:this,newValue:e}:null;n&&jn(this,r)}return this},t.delete=function(e){var t=this;if(On(this)&&!kn(this,{type:Zn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Tn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Zn,object:this,oldValue:e}:null;return Sn(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&jn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Nr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Nr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return or(e)&&(e=new Set(e)),Sn(function(){Array.isArray(e)||z(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&m("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return In(this,e)},t.intercept_=function(e){return An(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Qn]=function(){return this.values()},G(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:er,get:function(){return"Set"}}]),e}(),or=F("ObservableSet",ir),sr=Object.create(null),ar="remove",lr=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=je),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new se("ObservableObject.keys"),this.isPlainObject_=R(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof pt)return n.set(t),!0;if(On(this)){var r=kn(this,{type:Ln,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Tt.UNCHANGED){var i=Tn(this),o=i?{type:Ln,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&jn(this,o)}return!0},t.get_=function(e){return Tt.trackingDerivation&&!W(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),W(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Tt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new dt(e in this.target_,de,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[te])&&n[e])return;m(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==x;){var i=w(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}fr(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&fr(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Rt();var r=this.delete_(e);if(!r)return r;if(On(this)){var i=kn(this,{object:this.proxy_||this.target_,name:e,type:$n,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=J({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else S(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{Mt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1),this.keysAtom_;try{Rt();var i=this.delete_(e);if(!i)return i;if(On(this)){var o=kn(this,{object:this.proxy_||this.target_,name:e,type:$n,newValue:t});if(!o)return null;t=o.newValue}var s=dr(e),a={configurable:!Tt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else S(this.target_,e,a);var l=new dt(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{Mt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Rt();var r=this.delete_(e);if(!r)return r;if(On(this))if(!kn(this,{object:this.proxy_||this.target_,name:e,type:$n,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=dr(e),o={configurable:!Tt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else S(this.target_,e,o);this.values_.set(e,new pt(t)),this.notifyPropertyAddition_(e,void 0)}finally{Mt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!W(this.target_,e))return!0;if(On(this)&&!kn(this,{object:this.proxy_||this.target_,name:e,type:ar}))return null;try{var n,r;Rt();var i,o=Tn(this),s=this.values_.get(e),a=void 0;if(!s&&o)a=null==(i=w(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof dt&&(a=s.value_),Lt(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var l={type:ar,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,o&&jn(this,l)}}finally{Mt()}return!0},t.observe_=function(e,t){return In(this,e)},t.intercept_=function(e){return An(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Tn(this);if(i){var o=i?{type:$n,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&jn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),B(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function cr(e,t){var n;if(W(e,oe))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new lr(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Ne(e):void 0}(t));return D(e,oe,i),e}var ur=F("ObservableObjectAdministration",lr);function dr(e){return sr[e]||(sr[e]={get:function(){return this[oe].getObservablePropValue_(e)},set:function(t){return this[oe].setObservablePropValue_(e,t)}})}function hr(e){return!!N(e)&&ur(e[oe])}function fr(e,t,n){var r;null==(r=e.target_[te])||delete r[n]}var pr,gr,vr=wr(0),mr=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),br=0,yr=function(){};pr=yr,gr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(pr.prototype,gr):void 0!==pr.prototype.__proto__?pr.prototype.__proto__=gr:pr.prototype=gr;var _r=function(e,t,n){function r(t,n,r,i){var o;return void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this,Ar(function(){var e=new Vn(r,n,i,!0);e.proxy_=$(o),L($(o),oe,e),t&&t.length&&o.spliceWithArray(0,0,t),mr&&Object.defineProperty($(o),"0",vr)}),o}X(r,e);var i=r.prototype;return i.concat=function(){this[oe].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return Xn(e)?e.slice():e}))},i[n]=function(){var e=this,t=0;return Nr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},G(r,[{key:"length",get:function(){return this[oe].getArrayLength_()},set:function(e){this[oe].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(yr,Symbol.toStringTag,Symbol.iterator);function wr(e){return{enumerable:!1,configurable:!0,get:function(){return this[oe].get_(e)},set:function(t){this[oe].set_(e,t)}}}function Sr(e){S(_r.prototype,""+e,wr(e))}function xr(e){if(e>br){for(var t=br;t<e+100;t++)Sr(t);br=e}}function Cr(e,t,n){return new _r(e,t,n)}function Pr(e,t){if("object"==typeof e&&null!==e){if(Xn(e))return void 0!==t&&m(23),e[oe].atom_;if(or(e))return e.atom_;if(nr(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||m(25,t,Or(e)),n}if(hr(e)){if(!t)return m(26);var r=e[oe].values_.get(t);return r||m(27,t,Or(e)),r}if(ae(e)||gt(e)||Kt(e))return e}else if(I(e)&&Kt(e[oe]))return e[oe];m(28)}function Er(e,t){return e||m(29),void 0!==t?Er(Pr(e,t)):ae(e)||gt(e)||Kt(e)||nr(e)||or(e)?e:e[oe]?e[oe]:void m(24,e)}function Or(e,t){var n;if(void 0!==t)n=Pr(e,t);else{if(en(e))return e.name;n=hr(e)||nr(e)||or(e)?Er(e):Pr(e)}return n.name_}function Ar(e){var t=St(),n=lt(!0);Rt();try{return e()}finally{Mt(),ct(n),xt(t)}}Object.entries(Hn).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&D(_r.prototype,t,n)}),xr(1e3);var kr=x.toString;function Tr(e,t,n){return void 0===n&&(n=-1),Ir(e,t,n)}function Ir(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var s=kr.call(e);if(s!==kr.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=jr(e),t=jr(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(I(l)&&l instanceof l&&I(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Ir(e[u],t[u],n-1,r,i))return!1}else{var d,h=Object.keys(e);if(u=h.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!W(t,d=h[u])||!Ir(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function jr(e){return Xn(e)?e.slice():V(e)||nr(e)||z(e)||or(e)?Array.from(e.entries()):e}function Nr(e){return e[Symbol.iterator]=Rr,e}function Rr(){return this}["Symbol","Map","Set"].forEach(function(e){void 0===y()[e]&&m("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Or},$mobx:oe});class Mr{constructor(e){_defineProperty(this,"selectionValue",void 0),_defineProperty(this,"type","Single"),this.selectionValue=e}updateProps(e){this.selectionValue=e}isSelected(e){var t;return(null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}reduceTo(e){this.selectionValue.setSelection(e)}remove(e){this.selectionValue.setSelection(void 0)}}class Dr{constructor(e,t){_defineProperty(this,"selectionValue",void 0),_defineProperty(this,"selectableItems",void 0),_defineProperty(this,"type","Multi"),_defineProperty(this,"rangeStart",void 0),_defineProperty(this,"rangeEnd",void 0),this.selectionValue=e,this.selectableItems=t,this.rangeStart=void 0,Nn(this,{selectionStatus:Qe,selectionValue:Xe.ref,selectableItems:Xe.ref,updateProps:Zt})}isSelected(e){return this.selectionValue.selection.some(t=>t.id===e.id)}updateProps(e,t){this.selectionValue=e,this.selectableItems=t}get selectionStatus(){const e=new Set(this.selectionValue.selection.map(e=>e.id)),t=this.selectableItems.reduce((t,n)=>e.has(n.id)?t+1:t,0);return 0===t?"none":t===this.selectableItems.length?"all":"some"}add(e){this._add(e),this._setRangeStart(e),this._setRangeEnd(void 0)}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter(t=>t.id!==e.id)),this._resetRange()}reduceTo(e){this.selectionValue.setSelection([e]),this._setRangeStart(e),this._setRangeEnd(void 0)}_add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e))}_setRangeStart(e){let t=-1;void 0!==e&&(t=this.selectableItems.indexOf(e)),this.rangeStart=t>-1?t:void 0}_setRangeEnd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)return void(this.rangeEnd=void 0);const[r,i]=t,o=this.rangeEnd,s=this.selectableItems.indexOf(r);this.rangeEnd=s>-1?s:void 0,this._updateSelectionWithRange({start:this.rangeStart,end:o,newEnd:s,selectionMode:i})}_updateSelectionWithRange(e){const{start:t,end:n,newEnd:r,selectionMode:i}=e,o="toggle"===i;if(void 0===t||-1===r||n===r)return;if(void 0===n){let e=this._getRange(t,r);return e=o?this._union(this.selectionValue.selection,e):e,void this.selectionValue.setSelection(e)}const s=this._getRange(t,n),a=this._getRange(t,r);let l=o?[...this.selectionValue.selection]:[];l=this._diff(l,s),l=this._union(l,a),this.selectionValue.setSelection(l)}_getRange(e,t){const n=this.selectableItems.length,[r,i]=[Lr(e,0,n),Lr(t,0,n)].sort((e,t)=>e-t);return this.selectableItems.slice(r,i+1)}_resetRange(){this._setRangeStart(void 0),this._setRangeEnd(void 0)}_union(e,t){const n=[...e],r=new Set(e.map(e=>e.id));for(const e of t)r.has(e.id)||(r.add(e.id),n.push(e));return n}_diff(e,t){const n=new Set(e),r=new Set(t.map(e=>e.id));for(const e of n)r.has(e.id)&&n.delete(e);return Array.from(n)}selectAll(){const e=this._union(this.selectableItems,this.selectionValue.selection);this.selectionValue.setSelection(e),this._resetRange()}selectNone(){const e=this._diff(this.selectionValue.selection,this.selectableItems);this.selectionValue.setSelection(e),this._resetRange()}clearSelection(){this.selectionValue.setSelection([]),this._resetRange()}selectUpTo(e,t){void 0===this.rangeStart?(this._add(e),this._setRangeStart(e)):this._setRangeEnd(e,t)}_findIndexInList(e,t,n){const r=this.selectableItems.length-1,i="forward"===t;if("edge"===n)return i?r:0;return Lr(i?e+n:e-n,0,r)}_findIndexInGrid(e,t,n){const{columnIndex:r}=function(e,t,n){if(n<0||n>=t)return{columnIndex:-1,rowIndex:-1};const r=n%e,i=function(e,t){return Math.floor(e/t)}(n,e);return{columnIndex:r,rowIndex:i}}(n,this.selectableItems.length,e);return"PageDown"===t?this.selectableItems.length-(n-r):"Home"===t?e-r:"End"===t?e+(n-(r+1)):r}selectUpToAdjacent(e,t,n,r){if(!1===t)return void this._resetRange();const i=this.selectableItems.findIndex(t=>t.id===e.id);let o=-1;if(o="direction"in r?this._findIndexInList(i,r.direction,r.size):this._findIndexInGrid(i,r.code,r.numberOfColumns),o===i)return;void 0===this.rangeStart&&this._setRangeStart(e);const s=this.selectableItems.at(o);s&&this._setRangeEnd(s,n)}togglePageSelection(){"all"===this.selectionStatus?this.selectNone():this.selectAll()}}const Lr=(e,t,n)=>Math.min(Math.max(e,t),n);function Fr(e,n,r,i){const o=t.useRef([]),s=t.useRef(!1);t.useState(()=>{e&&e.setKeepSelection(function(e){if("function"==typeof e)return e;return"always keep"===e?()=>!0:()=>!1}(i))}),s.current||(s.current="loading"!==(null==n?void 0:n.status)),t.useEffect(()=>{var t;const n=o.current,i=null!==(t=null==e?void 0:e.selection)&&void 0!==t?t:[],a=Array.isArray(i)?i:[i];(function(e,t){if(e.length!==t.length)return!1;const n=new Set(t.map(e=>e.id));return e.every(e=>n.has(e.id))})(n,a)||(o.current=a,s.current&&l(r))},[null==e?void 0:e.selection,r]);const a=t.useRef(void 0);var c,u;void 0!==e&&("Single"===e.type?a.current?a.current.updateProps(e):a.current=new Mr(e):a.current?a.current.updateProps(e,null!==(c=n.items)&&void 0!==c?c:[]):a.current=new Dr(e,null!==(u=n.items)&&void 0!==u?u:[]));return a.current}const Vr=new Set(["KeyA","MetaLeft","MetaRight","ControlLeft","ControlRight"]),zr=(e,t)=>{let n=!1;const[r,i]=function(e,t){let n=0,r=0;return[function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=(new Date).getTime()-r,l=()=>{n=0,r=(new Date).getTime(),e(...o)};n||(a>=t?l():n=window.setTimeout(l,t-a))},()=>{clearTimeout(n),n=0}]}(()=>{n=!0,e()},500);return[{eventName:"onKeyDown",filter:(e,t)=>"Multi"===e.selectionType&&function(e){const t=e.currentTarget===e.target;return"KeyA"===e.code&&(e.metaKey||e.ctrlKey)&&t}(t),handler:r},{eventName:"onKeyUp",filter:(e,t)=>"Multi"===e.selectionType&&Vr.has(t.code)&&n,handler:()=>{n=!1,i(),null==t||t()}}]};function Hr(e,t){return t.metaKey||t.ctrlKey?"toggle":e.selectionMode}const Br=e=>[{eventName:"onKeyDown",filter:(e,t)=>"ArrowUp"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"backward",size:1})},{eventName:"onKeyDown",filter:(e,t)=>"ArrowDown"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"forward",size:1})},{eventName:"onKeyDown",filter:(e,t)=>"PageUp"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"backward",size:t.pageSize})},{eventName:"onKeyDown",filter:(e,t)=>"PageDown"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"forward",size:t.pageSize})},{eventName:"onKeyDown",filter:(e,t)=>"Home"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"backward",size:"edge"})},{eventName:"onKeyDown",filter:(e,t)=>"End"===t.code&&"Multi"===e.selectionType,handler:(t,n)=>e(t.item,n.shiftKey,Hr(t,n),{direction:"forward",size:"edge"})}],Kr="com.mendix.widgets.web.selectable.selectionContext";class Wr{constructor(e,t){var n=this;_defineProperty(this,"selection",void 0),_defineProperty(this,"selectionHelper",void 0),_defineProperty(this,"onSelect",function(){n.selectionHelper&&("Multi"===n.selectionHelper.type?n._onSelectItemMulti(...arguments):n._onSelectItemSingle(...arguments))}),_defineProperty(this,"_onSelectItemMulti",function(e,t){var r;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"Multi"===(null===(r=n.selectionHelper)||void 0===r?void 0:r.type)&&(t?n.selectionHelper.selectUpTo(e,i?"toggle":"clear"):n.selectItem(e,i))}),_defineProperty(this,"_onSelectItemSingle",function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.selectItem(e,r)}),_defineProperty(this,"onSelectAll",e=>{this.selectionHelper&&("Single"!==this.selectionHelper.type?"selectAll"!==e&&"all"===this.selectionHelper.selectionStatus?this.selectionHelper.selectNone():this.selectionHelper.selectAll():console.warn("Datagrid: calling onSelectAll in single selection mode have no effect"))}),_defineProperty(this,"onSelectAdjacent",function(){var e;"Multi"===(null===(e=n.selectionHelper)||void 0===e?void 0:e.type)&&n.selectionHelper.selectUpToAdjacent(...arguments)}),_defineProperty(this,"isSelected",e=>!!this.selectionHelper&&this.selectionHelper.isSelected(e)),_defineProperty(this,"onClearSelection",()=>{var e;"Multi"===(null===(e=this.selectionHelper)||void 0===e?void 0:e.type)&&this.selectionHelper.clearSelection()}),_defineProperty(this,"selectItem",(e,t)=>{void 0!==this.selectionHelper&&(!1!==t?this.selectionHelper.isSelected(e)?this.selectionHelper.remove(e):"Multi"===this.selectionHelper.type?this.selectionHelper.add(e):this.selectionHelper.reduceTo(e):this.selectionHelper.reduceTo(e))}),this.selection=e,this.selectionHelper=t}get selectionType(){if(void 0===this.selection)return"None";if("object"==typeof this.selection)return this.selection.type;if("None"===this.selection||"Single"===this.selection||"Multi"===this.selection)return this.selection;throw new Error("Unknown selection type: ".concat(this.selection))}}function qr(e){var n,r;return null!==(r=(n=t.useRef(null)).current)&&void 0!==r?r:n.current="function"==typeof e?e():e}function Ur(){const e="com.mendix.widgets.web.UUID";return window[e]||(window[e]=1),window[e]++}var Gr=t.createContext(null);function Jr(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=t.useContext(Gr);if(e&&null===n)throw new Error("Could not get a container from a context. Did you forget to pass the container through 'ContainerProvider'?");return n}var Xr=e=>{let{children:n,container:r,isolated:i=!1}=e;const o=Jr(!1),s=i?null:o,a=t.useMemo(()=>{const e=r.clone();return s&&e.extend(s),e},[r,s]);return t.createElement(Gr.Provider,{value:a},n)},Yr=t.createContext([]),$r=e=>{const n=Jr(),r=t.useContext(Yr);return t.useMemo(()=>n.get(e,r),[e,r,n])},Zr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(e=>()=>$r(e))};if(!t.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Nn)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Qr(e){e()}function ei(e){return fn(Pr(e,t));var t}var ti,ni,ri=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(r,i){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(i))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),ii=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:ri)(function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null});function oi(e){e.reaction=new Ft("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)})}var si="function"==typeof Symbol&&Symbol.for,ai=null!==(ni=null===(ti=Object.getOwnPropertyDescriptor(function(){},"name"))||void 0===ti?void 0:ti.configurable)&&void 0!==ni&&ni,li=si?Symbol.for("react.forward_ref"):"function"==typeof t.forwardRef&&t.forwardRef(function(e){return null}).$$typeof,ci=si?Symbol.for("react.memo"):"function"==typeof t.memo&&t.memo(function(e){return null}).$$typeof;function ui(e,n){var r;if(ci&&e.$$typeof===ci)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var i=null!==(r=null==n?void 0:n.forwardRef)&&void 0!==r&&r,o=e,s=e.displayName||e.name;if(li&&e.$$typeof===li&&(i=!0,"function"!=typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,l,c=function(e,n){return function(e,n){void 0===n&&(n="observed");var r=t.useRef(null);if(!r.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:n,subscribe:function(e){return ii.unregister(i),i.onStoreChange=e,i.reaction||(oi(i),i.stateVersion=Symbol()),function(){var e;i.onStoreChange=null,null===(e=i.reaction)||void 0===e||e.dispose(),i.reaction=null}},getSnapshot:function(){return i.stateVersion}};r.current=i}var o,s,a=r.current;if(a.reaction||(oi(a),ii.register(r,a,a)),t.useDebugValue(a.reaction,ei),t.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot),a.reaction.track(function(){try{o=e()}catch(e){s=e}}),s)throw s;return o}(function(){return o(e,n)},s)};return c.displayName=e.displayName,ai&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=t.forwardRef(c)),c=t.memo(c),a=e,l=c,Object.keys(a).forEach(function(e){di[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(a,e))}),c}var di={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=Qr),dn({reactionScheduler:e})}(n.unstable_batchedUpdates),ii.finalizeAllImmediately;const hi=Symbol("DefaultKeyNavContextValue"),fi=t.createContext(hi);function pi(n){let{focusController:r,children:i}=n;const o=t.useMemo(()=>({focusController:r}),[r]);return e.jsx(fi.Provider,{value:o,children:i})}function gi(e){const n=t.useRef(null),r=t.useRef(e.focusTarget),{focusController:i}=function(){const e=t.useContext(fi);if(e===hi)throw new Error("useKeyNavContext: context provider is missing");return e}(),[o,s]=t.useMemo(()=>{const t=u(e.columnIndex,e.rowIndex);return[t===i.focusTarget,t]},[e.columnIndex,e.rowIndex,i.focusTarget]),[a,l]=t.useState({canFocus:!1});return t.useEffect(()=>{const e=e=>l(t=>e.lastPos===s?{canFocus:!1}:e.targetPos===s?{canFocus:e.shouldFocus}:t);return i.addListener(e),()=>i.removeListener(e)},[i,s]),t.useEffect(()=>{const{current:e}=r;if(a.canFocus){const t="function"==typeof e?e():n.current;null==t||t.focus()}},[a]),{ref:n,tabIndex:o?0:-1,"data-position":s}}function vi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mi,bi={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */var yi,_i=(mi||(mi=1,yi=bi,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=r(e,n(i)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return t.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var i="";for(var o in n)e.call(n,o)&&n[o]&&(i=r(i,o));return i}function r(e,t){return t?e?e+" "+t:e+t:e}yi.exports?(t.default=t,yi.exports=t):window.classNames=t}()),bi.exports),wi=vi(_i);const Si=t.forwardRef(function(t,n){let{className:r,borderTop:i,clickable:o,previewAsHidden:s,wrapText:a,alignment:l,tabIndex:c,...u}=t;return e.jsx("div",{className:wi("td",{"td-borders":i,clickable:o,"hidden-column-preview":s,"wrap-text":a,["align-column-".concat(l)]:"string"==typeof l},r),role:"gridcell",tabIndex:null!=c?c:o?0:void 0,ref:n,...u})}),xi=t.memo(Si),Ci=ui(function(n){var r;const i=gi({columnIndex:null!==(r=n.columnIndex)&&void 0!==r?r:-1,rowIndex:n.rowIndex}),o=t.useMemo(()=>n.eventsController.getProps(n.item),[n.item,n.eventsController]),s=Qe(()=>n.column.renderCellContent(n.item)).get();return e.jsx(xi,{alignment:n.column.alignment,borderTop:0===n.rowIndex,className:n.column.columnClass(n.item),wrapText:n.column.wrapText,clickable:n.clickable,previewAsHidden:n.preview&&(!n.column.isAvailable||n.column.isHidden),tabIndex:i.tabIndex,ref:i.ref,"data-position":i["data-position"],onClick:o.onClick,onDoubleClick:o.onDoubleClick,onMouseDown:o.onMouseDown,onKeyDown:o.onKeyDown,onKeyUp:o.onKeyUp,onFocus:o.onFocus,children:s})});function Pi(t){let{className:n}=t;return e.jsx("div",{className:"tr",role:"row",children:e.jsx("div",{className:wi("th mx-refresh-container",n),children:e.jsx("progress",{className:"mx-refresh-indicator"})})})}function Ei(t){let{direction:n}=t;const r="pagination-icon ".concat(n);switch(n){case"forward":return e.jsx("span",{"aria-hidden":!0,children:e.jsxs("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),e.jsx("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})]})});case"step-forward":return e.jsx("span",{"aria-hidden":!0,children:e.jsxs("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),e.jsx("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})]})});case"backward":return e.jsx("span",{"aria-hidden":!0,children:e.jsxs("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),e.jsx("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})]})});case"step-backward":return e.jsx("span",{"aria-hidden":!0,children:e.jsxs("svg",{className:r,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),e.jsx("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})]})});default:return e.jsx("div",{})}}function Oi(n){var r,i,o,s,a,l,c,u,d;const h=void 0!==n.numberOfItems?Math.ceil(n.numberOfItems/n.pageSize):void 0,f=void 0!==h?h-1:0,p=void 0!==h,g="buttons"===n.pagination,v=0===n.numberOfItems?0:g?n.page*n.pageSize+1:1,m=g?(b=n.canNextPage,y=n.numberOfItems,_=n.page,w=n.pageSize,b||!y?0===y?y:(_+1)*w:y):n.page*n.pageSize>(null!==(r=n.numberOfItems)&&void 0!==r?r:0)?null!==(i=n.numberOfItems)&&void 0!==i?i:0:n.page*n.pageSize;var b,y,_,w;const S=e=>{n.setPaginationIndex&&n.setPaginationIndex(e)};if(0===n.numberOfItems&&"always"!==n.showPagingButtons)return null;const x="".concat(g?"".concat(v," to ").concat(m):m," ").concat(p?"of ".concat(null!==(o=n.numberOfItems)&&void 0!==o?o:(null!=h?h:1)*n.pageSize):"");return e.jsxs("div",{"aria-label":null!==(s=n.labelPagination)&&void 0!==s?s:"Pagination",className:"pagination-bar",children:[g&&e.jsxs(t.Fragment,{children:[e.jsx("button",{className:"btn pagination-button",disabled:0===n.page,...Ai(()=>{n.gotoPage(0),S(0)}),"aria-label":null!==(a=n.labelFirstPage)&&void 0!==a?a:"Go to first page",children:e.jsx(Ei,{direction:"step-backward"})}),e.jsx("button",{className:"btn pagination-button",disabled:!n.canPreviousPage,...Ai(()=>{n.previousPage(),S(n.page-1)}),"aria-label":null!==(l=n.labelPreviousPage)&&void 0!==l?l:"Go to previous page",children:e.jsx(Ei,{direction:"backward"})})]}),e.jsxs("span",{className:"sr-only sr-only-focusable",children:[null!==(c=n.labelPagingStatus)&&void 0!==c?c:"Currently showing"," ",x]}),e.jsx("div",{"aria-hidden":!0,className:"paging-status",children:x}),g&&e.jsxs(t.Fragment,{children:[e.jsx("button",{"aria-label":null!==(u=n.labelNextPage)&&void 0!==u?u:"Go to next page",className:"btn pagination-button",disabled:!n.canNextPage,...Ai(()=>{n.nextPage(),S(n.page+1)}),children:e.jsx(Ei,{direction:"forward"})}),p&&e.jsx("button",{"aria-label":null!==(d=n.labelLastPage)&&void 0!==d?d:"Go to last page",className:"btn pagination-button",disabled:n.page===f||0===n.numberOfItems,...Ai(()=>{n.gotoPage(f),S(f)}),children:e.jsx(Ei,{direction:"step-forward"})})]})]})}function Ai(e){return{onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e())}}}var ki;!function(e){e[e.EMISSINGSTORE=2]="EMISSINGSTORE",e[e.ENOCONTEXT=1]="ENOCONTEXT",e[e.ESTORETYPE=3]="ESTORETYPE",e[e.EKEYMISSING=7]="EKEYMISSING",e[e.OPTIONS_NOT_FILTERABLE=8]="OPTIONS_NOT_FILTERABLE",e[e.NOT_FILTERABLE=9]="NOT_FILTERABLE",e[e.UNSUPPORTED_ATTRIBUTE_TYPE=10]="UNSUPPORTED_ATTRIBUTE_TYPE"}(ki||(ki={})),Object.freeze({code:ki.ENOCONTEXT,message:"The filter widget must be placed inside the column or header of the Data grid 2.0 or inside header of the Gallery widget."}),Object.freeze({code:ki.EMISSINGSTORE,message:"Unable to get filter store. Check parent widget configuration."}),Object.freeze({code:ki.EKEYMISSING,message:"The key for filter is missing."}),Object.freeze({code:ki.OPTIONS_NOT_FILTERABLE,message:"Drop-down options can't be filtered with current column configuration. To enable filtering, change 'Option caption type'  to 'Attribute' in column settings."});const Ti=Object.freeze({code:ki.NOT_FILTERABLE,message:"The attribute is not filterable. Please choose a different attribute."}),Ii=Object.freeze({code:ki.UNSUPPORTED_ATTRIBUTE_TYPE,message:"Unsupported attribute type for filtering. Please choose a different attribute."});function ji(e){return{hasError:!0,error:e}}function Ni(e){return{hasError:!1,value:e}}const Ri=Object.freeze({type:"stub",hint:"No filter store available"}),Mi="com.mendix.widgets.web.filterable.filterContext.v2";function Di(){var e,n;return null!==(n=(e=window)[Mi])&&void 0!==n?n:e[Mi]=t.createContext(null)}class Li{constructor(e,t){_defineProperty(this,"parentChannelName",void 0),_defineProperty(this,"filterObserver",void 0),_defineProperty(this,"version",3),_defineProperty(this,"provider",Ni(Ri)),this.parentChannelName=e,this.filterObserver=t}}const Fi=(e,t)=>Object.hasOwn(e,t);function Vi(e){return Fi(e,"arg1")&&Fi(e,"arg2")}function zi(e){return"function"===e.type&&"and"===e.name}function Hi(e){return"function"===e.type&&"or"===e.name}function Bi(e){return Vi(e)&&"literal"===e.arg2.type&&"="===e.name&&"undefined"===e.arg2.valueType}function Ki(e){return Vi(e)&&"literal"===e.arg2.type&&"!="===e.name&&"undefined"===e.arg2.valueType}function Wi(e){const[t,n]=[(i=e).flatMap((e,t)=>void 0===e?[]:[t]),i.filter(e=>void 0!==e)];var i;const o=JSON.stringify([e.length,t]);switch(n.length){case 0:return[void 0,o];case 1:return[n[0],o];default:return[r.and(...n),o]}}function qi(e,t){const[n,r]=JSON.parse(t),i=Array(n).fill(void 0);return 0===r.length?i:1===r.length?(i[r[0]]=e,i):e&&zi(e)?(e.args.forEach((e,t)=>{i[r[t]]=e}),i):i}function Ui(e,t,n){return Hi(e)?Ui(e.args[0],t,n):zi(e)?Gi(e,t,n):Ji(e,t,n)}function Gi(e,t,n){const[r,i]=e.args,[o,s]=[Xi(r,n),Xi(i,n)];return o&&s?[t("between"),o,s]:null}function Ji(e,t,n){const r=Xi(e,n);return null===r?null:Bi(e)?[t("empty"),r]:Ki(e)?[t("notEmpty"),r]:[t(e.name),r]}function Xi(e,t){return Vi(e)?"literal"!==e.arg2.type?null:t(e.arg2):null}function Yi(){const e=new Set;return[t=>{t&&e.add(t)},()=>{for(const t of e)t();e.clear()}]}class $i{constructor(e,t){_defineProperty(this,"inputs",void 0),_defineProperty(this,"stableKey",void 0),_defineProperty(this,"ownMetaKey","CombinedFilter"),e.add(this),this.inputs=t.inputs,this.stableKey=t.stableKey,Nn(this,{filter:Qe,filterWithBag:Qe,hydrate:Zt})}storageKey(e){return"".concat(this.stableKey,"@").concat(e)}readMetaFromStorage(e){const t=sessionStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(t){return console.error("CombinedFilter.readFilterMeta: Error parsing meta for key ".concat(e),t),null}}clearFilterMeta(e){sessionStorage.removeItem(this.storageKey(e))}filterHash(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2166136261;const n=e.length;for(let r=0;r<n;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(JSON.stringify(e)).toString()}restoreMeta(e){const t=this.filterHash(e),n=this.storageKey(t);return this.readMetaFromStorage(n)}hydrate(e){if(!e)return;const t=this.restoreMeta(e);if(!t)return;const n=qi(e,t[this.ownMetaKey]);if(n.length===this.inputs.length)for(let e=0;e<this.inputs.length;e++){const r=this.inputs[e],i={cond:n[e],meta:t[r.metaKey]};r.hydrate(i)}else console.error("CombinedFilter.hydrate: Number of conditions (".concat(n.length,") does not match number of inputs (").concat(this.inputs.length,")"))}get filter(){return this.filterWithBag.filter}get filterWithBag(){const e={},t=[];for(const{condWithMeta:n,metaKey:r}of this.inputs)e[r]=n.meta,t.push(n.cond);const[n,r]=Wi(t);return e[this.ownMetaKey]=r,{filter:n,bag:e,hash:n?this.filterHash(n):null}}saveFilterMeta(e,t){e&&sessionStorage.setItem(this.storageKey(e),JSON.stringify(t))}setup(){const[e,t]=Yi();return e(on(()=>this.filterWithBag,(e,t)=>{t&&t.hash&&this.clearFilterMeta(t.hash),e.hash&&this.saveFilterMeta(e.hash,e.bag)})),t}}class Zi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_defineProperty(this,"gate",void 0),_defineProperty(this,"refreshIntervalMs",void 0),_defineProperty(this,"backgroundCheck",!1),_defineProperty(this,"fetching",!1),_defineProperty(this,"baseLimit",1/0),this.gate=t,this.refreshIntervalMs=n,e.add(this),Mn(this,{setup:!1,baseLimit:!1,updateFlags:Zt,resetFlags:Zt,setRefreshing:Zt,setFetching:Zt,setIsLoaded:Zt})}resetFlags(){this.backgroundCheck=!1,this.fetching=!1}updateFlags(e){this.backgroundCheck&&this.setBackgroundCheck("loading"===e),this.fetching&&this.setFetching("loading"===e)}setBackgroundCheck(e){this.backgroundCheck=e}setFetching(e){this.fetching=e}resetLimit(){this.datasource.setLimit(this.baseLimit)}get isDSLoading(){return"loading"===this.datasource.status}get datasource(){return this.gate.props.datasource}get items(){return this.datasource.items}get isFirstLoad(){return this.isDSLoading&&void 0===this.datasource.items}get isRefreshing(){return this.isDSLoading&&void 0!==this.datasource.items}get isSilentRefresh(){return this.backgroundCheck}get isFetchingNextBatch(){return this.fetching}get limit(){return this.datasource.limit}get offset(){return this.datasource.offset}get totalCount(){return this.datasource.totalCount}get hasMoreItems(){var e;return null!==(e=this.datasource.hasMoreItems)&&void 0!==e&&e}setup(){const[e,t]=Yi();if(e(tn(()=>{this.updateFlags(this.datasource.status)})),this.refreshIntervalMs>0){let t;const n=tn(()=>{this.items,clearInterval(t),t=window.setTimeout(()=>this.backgroundRefresh(),this.refreshIntervalMs)});e(()=>{n(),clearInterval(t)})}return t}backgroundRefresh(){this.isDSLoading||(this.setBackgroundCheck(!0),this.datasource.reload())}requestTotalCount(e){this.datasource.requestTotalCount(e)}setLimit(e){this.setFetching(!0),this.datasource.setLimit(e)}setOffset(e){this.resetFlags(),this.resetLimit(),this.datasource.setOffset(e)}setSortOrder(){this.resetFlags(),this.resetLimit(),this.datasource.setSortOrder(...arguments)}setFilter(){this.resetFlags(),this.resetLimit(),this.datasource.setFilter(...arguments)}setBaseLimit(e){this.baseLimit=e,this.resetLimit()}reload(){const e=this.datasource;return this.datasource.reload(),xn(()=>this.datasource!==e)}fetchPage(e){let{limit:t,offset:n,signal:r}=e;return new Promise((e,i)=>{if(r&&r.aborted)return i(r.reason);xn(()=>this.datasource.offset===n&&this.datasource.limit===t&&"available"===this.datasource.status,{signal:r}).then(()=>{var t;return e(null!==(t=this.datasource.items)&&void 0!==t?t:[])},i),this.datasource.setOffset(n),this.datasource.setLimit(t)})}}class Qi{constructor(){_defineProperty(this,"inProgress",!1),_defineProperty(this,"lengthComputable",!1),_defineProperty(this,"loaded",0),_defineProperty(this,"total",0),_defineProperty(this,"onloadstart",e=>{this.inProgress=!0,this.lengthComputable=e.lengthComputable,this.total=e.total,this.loaded=0}),_defineProperty(this,"onprogress",e=>{this.loaded=e.loaded}),_defineProperty(this,"onloadend",()=>{this.inProgress=!1,this.lengthComputable=!1,this.loaded=0,this.total=0}),Mn(this)}get percentage(){if(!this.lengthComputable||!this.inProgress||this.total<=0)return 0;const e=this.loaded/this.total*100;switch(!0){case isNaN(e):return 0;case isFinite(e):return e;default:return 0}}}class eo{constructor(e,t,n,r){_defineProperty(this,"gate",void 0),_defineProperty(this,"query",void 0),_defineProperty(this,"progress",void 0),_defineProperty(this,"locked",!1),_defineProperty(this,"abortController",void 0),_defineProperty(this,"pageSize",1024),this.gate=t,this.query=n,this.progress=r,e.add(this),Nn(this,{setIsLocked:Zt,canExecute:Qe,isExecuting:Qe,selection:Qe,locked:Xe,selectAllPages:Zt,clearSelection:Zt,abort:Zt})}setup(){return()=>this.abort()}get selection(){const e=this.gate.props.itemSelection;if(void 0!==e&&"Single"!==e.type)return e}get canExecute(){var e;return"Multi"===(null===(e=this.gate.props.itemSelection)||void 0===e?void 0:e.type)&&!this.locked}get isExecuting(){return this.locked}setIsLocked(e){this.locked=e}beforeRunChecks(){const e=this.gate.props.itemSelection;return void 0===e?(console.debug("SelectAllService: selection is undefined. Check widget selection setting."),!1):"Multi"!==e.type?(console.debug("SelectAllService: action can't be executed when selection is 'Single'."),!1):!this.locked||(console.debug("SelectAllService: action is already executing."),!1)}reloadSelection(){var e,t,n,r;const i=this.selection,o=null!==(e=this.query.items)&&void 0!==e?e:[],s=(null!==(t=null===(n=this.selection)||void 0===n?void 0:n.selection)&&void 0!==t?t:[]).length>0?[]:o;return null===(r=this.selection)||void 0===r||r.setSelection(s),xn(()=>this.selection!==i)}async selectAllPages(){var e,t,n;if(!this.beforeRunChecks())return{success:!1};this.setIsLocked(!0);const{offset:r,limit:i}=this.query,o=null!==(e=null===(t=this.selection)||void 0===t?void 0:t.selection)&&void 0!==e?e:[],s="number"==typeof this.query.totalCount,a=null!==(n=this.query.totalCount)&&void 0!==n?n:0;let l=0,c=0,u=!1;const d=e=>new ProgressEvent(e,{loaded:l,total:a,lengthComputable:s}),h=[];this.abortController=new AbortController;const f=this.abortController.signal;performance.mark("SelectAll_Start");try{this.progress.onloadstart(d("loadstart"));let e=!0;for(;e;){const t=await this.query.fetchPage({limit:this.pageSize,offset:c,signal:f});h.push(...t),l+=t.length,c+=this.pageSize,this.progress.onprogress(d("progress")),e=!f.aborted&&this.query.hasMoreItems}u=!0}catch(e){f.aborted||(console.error("SelectAllService: an error was encountered during the 'select all' action."),console.error(e))}finally{var p;await this.query.fetchPage({limit:i,offset:r}),await this.reloadSelection(),this.progress.onloadend(),null===(p=this.selection)||void 0===p||p.setSelection(u?h:o),this.locked=!1,this.abortController=void 0,performance.mark("SelectAll_End");const e=performance.measure("Measure1","SelectAll_Start","SelectAll_End");return console.debug("Data grid 2: 'select all' took ".concat((e.duration/1e3).toFixed(2)," seconds.")),{success:u}}}clearSelection(){var e;this.locked?console.debug("SelectAllService: can't clear selection while executing."):null===(e=this.selection)||void 0===e||e.setSelection([])}abort(){var e;null===(e=this.abortController)||void 0===e||e.abort()}}class to{constructor(e,t){_defineProperty(this,"gate",void 0),_defineProperty(this,"position",void 0),this.gate=e,this.position=t,Mn(this)}get props(){return this.gate.props}get formatSingular(){var e;return(null===(e=this.props.selectedCountTemplateSingular)||void 0===e?void 0:e.value)||"%d item selected"}get formatPlural(){var e;return(null===(e=this.props.selectedCountTemplatePlural)||void 0===e?void 0:e.value)||"%d items selected"}get isTopCounterVisible(){return"top"===this.position&&this.selectedCount>0}get isBottomCounterVisible(){return"bottom"===this.position&&this.selectedCount>0}get clearButtonLabel(){var e;return(null===(e=this.props.clearSelectionButtonLabel)||void 0===e?void 0:e.value)||"Clear selection"}get selectedCount(){const{itemSelection:e}=this.props;return e?"Single"===e.type?0:e.selection.length:0}get selectedCountText(){const e=this.selectedCount;return e>1?this.formatPlural.replace("%d","".concat(e)):1===e?this.formatSingular.replace("%d","1"):""}}var no,ro,io,oo,so=new WeakMap,ao=new Map,lo=new Map;(ro=no||(no={}))[ro.Constant=0]="Constant",ro[ro.Instance=1]="Instance",ro[ro.Factory=2]="Factory",(oo=io||(io={}))[oo.Container=0]="Container",oo[oo.Resolution=1]="Resolution",oo[oo.Singleton=2]="Singleton",oo[oo.Transient=3]="Transient";var co=class{constructor(e){this.impl=e,this.type=no.Constant}},uo=class{constructor(e){this.impl=e,this.type=no.Factory}},ho=class{constructor(e){this.impl=e,this.type=no.Instance}},fo=class extends ho{constructor(){super(...arguments),this.scope=io.Container,this.cache=new WeakMap}},po=class extends ho{constructor(){super(...arguments),this.scope=io.Resolution}},go=class extends ho{constructor(e){super(e),this.impl=e,this.scope=io.Singleton}},vo=class extends ho{constructor(){super(...arguments),this.scope=io.Transient}},mo=e=>{const t=Symbol(e);return{__t:null,__d:e,__s:t,__o:!1,optional:{__t:null,__d:e,__s:t,__o:!0}}},bo=class{constructor(){this.parent=null,this.map=new Map}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bo.notag;const r=this.map.get(t.__s);r?r.set(n,e):this.map.set(t.__s,(new Map).set(n,e))}find(e,t,n){const r=this.map.get(e.__s);if(void 0!==r){if(n){const e=r.get(n);if(e)return e}if(t)for(let e=0,n=t.length;e<n;e+=1){const n=r.get(t[e]);if(n)return n}return r.get(bo.notag)}}resolve(e,t,n,r){const i=this.find(e,n,r);return void 0===i?this.parent?this.parent.resolve(e,t,n,r):null:i instanceof bo?(t.vaults.push(i),i.resolve(e,t,n,r)):i}get(e,t,n,r){const i=this.resolve(e,t,n,r);if(i)return i;for(let i=0,o=t.vaults,s=o.length;i<s;i+=1){const s=o[i].resolve(e,t,n,r);if(s)return s}return null}from(e){const t=new bo;return t.parent=this.parent,this.map.forEach((n,r)=>{t.map.set(r,e(n))}),t}clone(){return this.from(e=>new Map(e))}},yo=bo;yo.notag=Symbol("NO_TAG");var _o=class{constructor(e,t,n,r){this.vault=e,this.tokens=t,this.getVault=n,this.condition=r}from(e){const{tokens:t}=this;for(let n=0,r=t.length;n<r;n+=1)this.vault.set(this.getVault(e),t[n],this.condition)}},wo=class{constructor(e,t,n,r){this.vault=e,this.impl=t,this.token=n,this.condition=r}inContainerScope(){this.set(fo)}inResolutionScope(){this.set(po)}inSingletonScope(){this.set(go)}inTransientScope(){this.set(vo)}set(e){this.vault.set(new e(this.impl),this.token,this.condition)}},So=class{constructor(e,t,n){this.vault=e,this.token=t,this.condition=n}toConstant(e){this.vault.set(new co(e),this.token,this.condition)}toFactory(e,t){this.vault.set(new uo({creator:e,initializer:t}),this.token,this.condition)}toInstance(e){return new wo(this.vault,e,this.token,this.condition)}},xo=class{constructor(e,t){this.vault=e,this.condition=t}static vault(e){return e.vault}bind(e){return new So(this.vault,e,this.condition)}use(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _o(this.vault,t,xo.vault,this.condition)}},Co=class extends xo{when(e){return new xo(this.vault,e)}},Po=class extends Co{constructor(){super(new yo)}},Eo=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.instances=e,this.vaults=t}split(){return new Eo(this.instances,this.vaults.slice())}},Oo=class extends Po{constructor(){super(),this.snapshot=null}extend(e){return this.vault.parent=null===e?null:e.vault,this}clone(){const e=new Oo;return e.vault=this.vault.clone(),e}get(e,t){return this.resolveToken(e,t)}resolveTokens(e,t,n,r){return e.map(e=>this.resolveToken(e,n,r,t.split()))}resolveToken(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Eo;const i=this.vault.get(e,r,t,n);if(i)return this.resolveBinding(i,r);if(!e.__o)throw new Error("No matching bindings found for '".concat(e.__d,"' token."))}resolveBinding(e,t){var n=this;return(e=>e.type===no.Instance)(e)?(e=>e.scope===io.Singleton)(e)?this.resolveCache(e,t,()=>e.cache,t=>{e.cache=t}):(e=>e.scope===io.Container)(e)?this.resolveCache(e,t,()=>e.cache.get(this.vault),t=>{e.cache.set(this.vault,t)}):(e=>e.scope===io.Resolution)(e)?this.resolveCache(e,t,()=>t.instances.get(e),n=>{t.instances.set(e,n)}):this.createInstance(e.impl,t):(e=>e.type===no.Factory)(e)?function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];const s=n.createInstance(e.impl.creator,t);return s instanceof Promise?s.then(t=>Oo.resolveInitialization(t,i,e.impl.initializer)):Oo.resolveInitialization(s,i,e.impl.initializer)}:e.impl}resolveCache(e,t,n,r){const i=n();if(void 0!==i)return i;const o=this.createInstance(e.impl,t);return r(o),o}createInstance(e,t){const n=this.getParameters(e,t),r=so.get(e);if(void 0!==r)return r?e(...n):new e(...n);try{const t=e(...n);return so.set(e,!0),t}catch(t){const r=new e(...n);return so.set(e,!1),r}}getParameters(e,t){const n=ao.get(e);if(n)return this.resolveTokens(n,t,lo.get(e),e);if(0===e.length)return[];throw new Error("Missing required 'injected' registration of '".concat(e.name,"'"))}static resolveInitialization(e,t,n){const r=null==n?void 0:n(e,...t);return r instanceof Promise?r.then(()=>e):e}},Ao=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ao.set(e,n),e};class ko{constructor(e,t,n,r,i){_defineProperty(this,"gate",void 0),_defineProperty(this,"selectService",void 0),_defineProperty(this,"count",void 0),_defineProperty(this,"enableSelectAll",void 0),_defineProperty(this,"barVisible",!1),_defineProperty(this,"clearVisible",!1),_defineProperty(this,"pending",!1),this.gate=t,this.selectService=n,this.count=r,this.enableSelectAll=i,e.add(this),Mn(this,{setClearVisible:Zt,setPending:Zt,hideBar:Zt,showBar:Zt})}get props(){return this.gate.props}setClearVisible(e){this.clearVisible=e}setPending(e){this.pending=e}hideBar(){this.barVisible=!1,this.clearVisible=!1}showBar(){this.barVisible=!0}get total(){var e;return null!==(e=this.props.datasource.totalCount)&&void 0!==e?e:0}get selectAllFormat(){var e,t;return null!==(e=null===(t=this.props.selectAllTemplate)||void 0===t?void 0:t.value)&&void 0!==e?e:"Select all %d rows in the data source"}get selectAllText(){var e,t;return null!==(e=null===(t=this.props.selectAllText)||void 0===t?void 0:t.value)&&void 0!==e?e:"Select all rows in the data source"}get allSelectedText(){var e,t;return(null!==(e=null===(t=this.props.allSelectedText)||void 0===t?void 0:t.value)&&void 0!==e?e:"All %d rows selected.").replace("%d","".concat(this.count.selectedCount))}get isCurrentPageSelected(){var e,t;const n=this.props.itemSelection;if(!n||"Single"===n.type)return!1;const r=new Set(null!==(e=null===(t=this.props.datasource.items)||void 0===t?void 0:t.map(e=>e.id))&&void 0!==e?e:[]);return n.selection.filter(e=>r.has(e.id)).length===r.size&&r.size>0}get isAllItemsSelected(){if(this.total>0)return this.total===this.count.selectedCount;const{offset:e,limit:t,items:n=[],hasMoreItems:r}=this.gate.props.datasource,i="boolean"==typeof r&&!1===r;return 0===e&&t>=n.length&&i&&n.length===this.count.selectedCount}get selectAllLabel(){return this.total>0?this.selectAllFormat.replace("%d","".concat(this.total)):this.selectAllText}get clearSelectionLabel(){return this.count.clearButtonLabel}get selectionStatus(){return this.isAllItemsSelected?this.allSelectedText:this.count.selectedCountText}get isBarVisible(){return this.enableSelectAll&&this.barVisible}get isClearVisible(){return this.clearVisible}get isSelectAllDisabled(){return this.pending}setup(){if(this.enableSelectAll)return on(()=>this.isCurrentPageSelected,e=>{!1===e?this.hideBar():!1===this.isAllItemsSelected&&this.showBar()})}onClear(){this.selectService.clearSelection()}async onSelectAll(){this.setPending(!0);try{const{success:e}=await this.selectService.selectAllPages();this.setClearVisible(e)}finally{this.setPending(!1)}}}class To{constructor(e,t,n,r){_defineProperty(this,"gate",void 0),_defineProperty(this,"progress",void 0),_defineProperty(this,"selectService",void 0),_defineProperty(this,"dialogOpen",!1),_defineProperty(this,"timerId",void 0),_defineProperty(this,"dialogDelayMs",1500),this.gate=t,this.progress=n,this.selectService=r,e.add(this),Mn(this,{setDialogOpen:Zt})}setDialogOpen(e){this.dialogOpen=e}get isOpen(){return this.dialogOpen}get loaded(){return this.progress.loaded}get total(){return this.progress.total}get selectingAllLabel(){var e,t;return null!==(e=null===(t=this.gate.props.selectAllRowsLabel)||void 0===t?void 0:t.value)&&void 0!==e?e:"Selecting all items..."}get cancelSelectionLabel(){var e,t;return null!==(e=null===(t=this.gate.props.cancelSelectionLabel)||void 0===t?void 0:t.value)&&void 0!==e?e:"Cancel selection"}setup(){return on(()=>this.progress.inProgress,e=>{e?this.timerId=setTimeout(()=>{this.setDialogOpen(!0),this.timerId=void 0},this.dialogDelayMs):(this.setDialogOpen(!1),clearTimeout(this.timerId))})}onCancel(){this.selectService.abort()}}class Io{constructor(e){_defineProperty(this,"rules",[]),this.rules=e,Nn(this,{rules:Xe.struct,toggleSort:Zt})}getDirection(e){const t=this.rules.findIndex(t=>t[0]===e);if(-1===t)return;const[,n]=this.rules.at(t);return[n,t+1]}toggleSort(e){const[[t,n]=[]]=this.rules;this.rules=t&&t===e?"asc"!==n?[]:[[e,"desc"]]:[[e,"asc"]]}}class jo{constructor(){_defineProperty(this,"defaultSelected",[]),_defineProperty(this,"blockSetDefaults",!1),_defineProperty(this,"selected",new Set),Nn(this,{selected:Xe.struct,clear:Zt,reset:Zt,toggle:Zt,setSelected:Zt,fromJSON:Zt})}setSelected(e){this.selected=new Set(e)}clear(){this.setSelected([])}reset(){this.setSelected(this.defaultSelected)}toggle(e){const t=new Set(this.selected);this.setSelected(t.delete(e)?t:t.add(e))}toJSON(){return[...this.selected]}fromJSON(e){null==e||function(e){if(Array.isArray(e)){const[t]=e;return No.has(t)}return!1}(e)||(this.setSelected(e),this.blockSetDefaults=!0)}}const No=new Set(["empty","notEmpty","equal","notEqual","greater","greaterEqual","smaller","smallerEqual","between","contains","startsWith","endsWith"]);class Ro{constructor(){let{defaultValue:e="",delay:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_defineProperty(this,"delay",void 0),_defineProperty(this,"disposers",[]),_defineProperty(this,"defaultValue",void 0),_defineProperty(this,"value",void 0),_defineProperty(this,"buffer",void 0),this.defaultValue=e,this.buffer=this.value=this.defaultValue,this.delay=t,Mn(this,{setBuffer:Zt,clear:Zt,reset:Zt})}setBuffer(e){this.buffer=e}reset(){this.buffer=this.value=this.defaultValue}clear(){this.buffer=this.value=""}setup(){return this.disposers.push(tn(()=>{const e=this.buffer;!function(e){st(e.name,!1,e,this,void 0)}(()=>this.value=e)},{delay:this.delay})),()=>this.disposers.forEach(e=>e())}}class Mo extends jo{constructor(e,t){super(),_defineProperty(this,"storeType","select"),_defineProperty(this,"_attributes",[]),_defineProperty(this,"_customOptions",[]),_defineProperty(this,"search",void 0),this.search=new Ro,this._attributes=e,Nn(this,{_attributes:Xe.struct,_customOptions:Xe.struct,allOptions:Qe,options:Qe,selectedOptions:Qe,universe:Qe,condition:Qe,setCustomOptions:Zt,setDefaultSelected:Zt,fromViewState:Zt}),t&&this.fromViewState(t)}get allOptions(){const e=this.selected;if(this._customOptions.length>0)return this._customOptions.map(t=>({...t,selected:e.has(t.value)}));const t=this._attributes.flatMap(t=>{var n;return Array.from(null!==(n=t.universe)&&void 0!==n?n:[],n=>{const r="".concat(n);return{caption:t.formatter?t.formatter.format(n):r,value:r,selected:e.has(r)}})});return t}get options(){return this.search.value?this.allOptions.filter(e=>e.caption.toLowerCase().includes(this.search.value.toLowerCase())):this.allOptions}get selectedOptions(){return[...this.selected].flatMap(e=>{const t=this.allOptions.find(t=>t.value===e);return t?[t]:[]})}get universe(){return new Set(this._attributes.flatMap(e=>{var t;return Array.from(null!==(t=e.universe)&&void 0!==t?t:[],e=>"".concat(e))}))}get condition(){const e=this.selected,t=this._attributes.flatMap(t=>{const n=function(e,t){if(!e)return;if(t.size<1)return;const n=r.attribute(e.id),i=Array.from(t,t=>r.equals(n,r.literal(function(e,t){if("Boolean"===e)return"true"===t;return t}(e.type,t))));return i.length>1?r.or(...i):i[0]}(t,e);return n?[n]:[]});return t.length>1?r.or(...t):t[0]}setup(){const[e,t]=Yi();return e(this.search.setup()),t}setCustomOptions(e){this._customOptions=e}setDefaultSelected(e){!this.blockSetDefaults&&e&&(this.defaultSelected=e,this.setSelected(e),this.blockSetDefaults=!0)}checkAttrs(){return this._attributes.every(e=>/Enum|Boolean/.test(e.type))?null:new TypeError("StaticSelectFilterStore: invalid attribute found. Check widget configuration.")}isValidValue(e){return this.universe.has(e)}fromViewState(e){const t=function(e,t){const n=(e,r)=>{if("or"===r.name)return r.args.reduce(n,e);if("="===r.name||"contains"===r.name){const n=Xi(r,t);null!=n&&e.push(n)}return e};return[e].reduce(n,[])}(e,e=>"string"===e.valueType?e.value:"boolean"===e.valueType?e.value?"true":"false":void 0);t.length<1||(this.setSelected(t),this.blockSetDefaults=!0)}}class Do{constructor(e,t){_defineProperty(this,"_value",void 0),_defineProperty(this,"isValid",!0),_defineProperty(this,"_formatter",void 0),_defineProperty(this,"_lastSetTextValue",""),this._formatter=e,this._value=t,Nn(this,{_value:Xe,value:Qe,isValid:Xe,_lastSetTextValue:Xe,displayValue:Qe,_formatter:Xe.ref})}updateProps(e){this._formatter=e}set value(e){this._value=e,this._lastSetTextValue="",this.isValid=!0}get value(){return this._value}get displayValue(){var e,t;return this.isValid?(null===(e=this._formatter)||void 0===e?void 0:e.format(this.value))||(null===(t=this.value)||void 0===t?void 0:t.toString())||"":this._lastSetTextValue}set displayValue(e){var t;this._lastSetTextValue=e;const n=null===(t=this._formatter)||void 0===t?void 0:t.parse(this._lastSetTextValue);this.isValid=n.valid,n.valid&&!this.equals(this._value,n.value)&&(this._value=n.value)}equals(e,t){throw new Error("equals not implemented")}}class Lo extends Do{constructor(){super(...arguments),_defineProperty(this,"type","number")}equals(e,t){return Object.is(e,t)||!!(e&&t&&e.eq(t))}}class Fo extends Do{constructor(){super(...arguments),_defineProperty(this,"type","date")}equals(e,t){return Object.is(e,t)||!(!e||!t||+e!==+t)}}class Vo extends Do{constructor(){super(...arguments),_defineProperty(this,"type","string")}equals(e,t){return e===t}}class zo{constructor(e,t,n,r){_defineProperty(this,"_attributes",[]),_defineProperty(this,"_filterFunction",void 0),_defineProperty(this,"_isFilterFunctionAdjustable",!0),_defineProperty(this,"arg1",void 0),_defineProperty(this,"arg2",void 0),_defineProperty(this,"isInitialized",!1),_defineProperty(this,"defaultState",void 0),_defineProperty(this,"UNSAFE_setDefaults",(e,t)=>{this.defaultState=e,t||(this.filterFunction=this.defaultState[0],this._isFilterFunctionAdjustable=!1),this.isInitialized||(this.setState(e),this.isInitialized=!0)}),_defineProperty(this,"reset",()=>{[this._filterFunction,this.arg1.value,this.arg2.value]=this.defaultState}),_defineProperty(this,"clear",()=>{this.setState([this.filterFunction])}),this._attributes=r,this.defaultState=[n],this._filterFunction=n,this.arg1=e,this.arg2=t,Nn(this,{_attributes:Xe.ref,_filterFunction:Xe,_isFilterFunctionAdjustable:Xe,isInitialized:Xe,condition:Qe,setState:Zt,UNSAFE_setDefaults:Zt,UNSAFE_overwriteFilterFunction:Zt,filterFunction:Qe,clear:Zt,reset:Zt})}get filterFunction(){return this._filterFunction}set filterFunction(e){this._isFilterFunctionAdjustable&&(this._filterFunction=e)}UNSAFE_overwriteFilterFunction(e){this._filterFunction=e}setState(e){[this.filterFunction,this.arg1.value,this.arg2.value]=e}get condition(){const e=this._attributes.map(e=>function(e,t,n,i){if(!e||!e.filterable||"empty"!==i&&"notEmpty"!==i&&!t||"between"===i&&(!t||!n))return;if("between"===i)return r.and(r.greaterThan(r.attribute(e.id),r.literal(t)),r.lessThan(r.attribute(e.id),r.literal(n)));return{contains:r.contains,startsWith:r.startsWith,endsWith:r.endsWith,greater:r.greaterThan,greaterEqual:r.greaterThanOrEqual,equal:r.equals,notEqual:r.notEqual,smaller:r.lessThan,smallerEqual:r.lessThanOrEqual,empty:r.equals,notEmpty:r.notEqual}[i](r.attribute(e.id),r.literal("empty"===i||"notEmpty"===i?void 0:t))}(e,this.arg1.value,this.arg2.value,this.filterFunction)).filter(e=>void 0!==e);return(null==e?void 0:e.length)>1?r.or(...e):null==e?void 0:e[0]}unpackJsonData(e){if(Array.isArray(e)&&3===e.length)return e}}class Ho extends zo{constructor(e,t){const n=qo(e[0]);super(new Fo(n),new Fo(n),"equal",e),_defineProperty(this,"storeType","input"),_defineProperty(this,"type","date"),_defineProperty(this,"rangeMarkerTag","__RANGE_MARKER__"),_defineProperty(this,"computedState",void 0),_defineProperty(this,"mapFn",e=>{switch(e){case"day:=":default:return"equal";case"day:!=":return"notEqual";case"day:<":return"smaller";case"day:<=":return"smallerEqual";case"day:>":return"greater";case"day:>=":return"greaterEqual"}}),Nn(this,{updateProps:Zt,computedState:Xe.shallow,fromViewState:Zt,fromJSON:Zt}),t&&this.fromViewState(t),this.computedState=[this.filterFunction,this.arg1.value,this.arg2.value],this.setupComputeValues()}get condition(){const e=this._attributes.flatMap(e=>this.getCondition(e,...this.computedState));switch(e.length){case 0:return;case 1:return e[0];default:return r.or(...e)}}setup(){const e=[];return e.push(this.setupComputeValues()),()=>e.forEach(e=>e())}updateProps(e){if(!ce.shallow(this._attributes,e)){this._attributes=e;const t=qo(e[0]);this.arg1.updateProps(t),this.arg2.updateProps(t)}}setupComputeValues(){return on(()=>[this.filterFunction,this.arg1.value,this.arg2.value],e=>{const[t,n,r]=e;"between"===t&&n instanceof Date&&void 0===r||(this.computedState=e)},{equals:ce.shallow})}isRange(e){const[t,n]=Array.isArray(e)?e:[];return t instanceof Date&&n instanceof Date}getCondition(e,t,n,r){if(!e.filterable)return[];if("between"===t){const t=[n,r];return this.isRange(t)?this.getRangeCondition(e,t):[]}return this.getAttrCondition(e,t,n)}getAttrCondition(e,t,n){const[i,o]=[r.attribute(e.id),r.literal(n)];if("empty"===t)return[r.equals(i,r.literal(void 0))];if("notEmpty"===t)return[r.notEqual(i,r.literal(void 0))];if(void 0===n)return[];switch(t){case"greater":return[r.dayGreaterThan(i,o)];case"greaterEqual":return[r.dayGreaterThanOrEqual(i,o)];case"equal":return[r.dayEquals(i,o)];case"notEqual":return[r.dayNotEqual(i,o)];case"smaller":return[r.dayLessThan(i,o)];case"smallerEqual":return[r.dayLessThanOrEqual(i,o)];default:return[]}}getRangeCondition(e,t){let[n,i]=t;const o=r.attribute(e.id);return[r.and(r.dayGreaterThanOrEqual(o,r.literal(n)),r.dayLessThan(o,r.literal(Ko(i))),this.getRangeCondMarker())]}rangeExpToState(e){const t=Gi(e,()=>"between",e=>"DateTime"===e.valueType?e.value:void 0);if(null===t)return null;const[n,r,i]=t;return[n,r,i?Wo(i):void 0]}getRangeCondMarker(){return r.equals(r.literal(this.rangeMarkerTag),r.literal(this.rangeMarkerTag))}isRangeMarker(e){return!!e&&("function"===e.type&&"="===e.name&&"literal"===e.arg1.type&&"literal"===e.arg2.type&&e.arg1.value===this.rangeMarkerTag&&e.arg2.value===this.rangeMarkerTag)}toJSON(){if(this.isInitialized)return[this.filterFunction,this.arg1.value?this.arg1.value.toJSON():null,this.arg2.value?this.arg2.value.toJSON():null]}fromJSON(e){const t=this.unpackJsonData(e);if(!t)return;const[n,r,i]=t;this.setState([n,Bo(r),Bo(i)]),this.isInitialized=!0}fromViewState(e){const t=e=>"DateTime"===e.valueType?e.value:void 0,n=(e=>(Hi(e)&&(e=e.args[0]),Bi(e)?["empty",void 0,void 0]:Ki(e)?["notEmpty",void 0,void 0]:zi(e)&&this.isRangeMarker(e.args.at(2))?this.rangeExpToState(e):Ji(e,this.mapFn,t)))(e);n&&(this.setState(n),this.isInitialized=!0)}}function Bo(e){if(null===e)return;const t=new Date(e);return"Invalid Date"===t.toString()?void 0:t}function Ko(e){const t=new Date(e.getTime());return t.setUTCDate(t.getUTCDate()+1),t}function Wo(e){const t=new Date(e.getTime());return t.setUTCDate(t.getUTCDate()-1),t}function qo(e){return e.formatter?e.formatter:{format:e=>{var t;return null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:""},parse:e=>{const t=Date.parse(e);return isNaN(t)?{valid:!1}:{valid:!0,value:new Date(t)}}}}function Uo(e){switch(e){case"=":default:return"equal";case"!=":return"notEqual";case">":return"greater";case">=":return"greaterEqual";case"<":return"smaller";case"<=":return"smallerEqual";case"between":case"empty":case"notEmpty":return e}}class Go extends zo{constructor(e,t){const n=function(e){var t;if(e&&!1===(null===(t=e.parse("none"))||void 0===t?void 0:t.valid))return e;return{format:e=>e?e.toString():e,parse:e=>{try{return{valid:!0,value:new i.Big(e)}}catch{return""===e?{valid:!0,value:void 0}:{valid:!1}}}}}(e[0].formatter);super(new Lo(n),new Lo(n),"equal",e),_defineProperty(this,"storeType","input"),_defineProperty(this,"type","number"),Nn(this,{updateProps:Zt,fromJSON:Zt,fromViewState:Zt}),t&&this.fromViewState(t)}updateProps(e){ce.shallow(this._attributes,e)||(this._attributes=e)}toJSON(){if(this.isInitialized)return[this.filterFunction,this.arg1.value?this.arg1.value.toJSON():null,this.arg2.value?this.arg2.value.toJSON():null]}fromJSON(e){const t=this.unpackJsonData(e);if(!t)return;const[n,r,i]=t;this.setState([n,Jo(r),Jo(i)]),this.isInitialized=!0}fromViewState(e){const t=Ui(e,e=>Uo(e),e=>"Numeric"===e.valueType?e.value:void 0);t&&(this.setState(t),this.isInitialized=!0)}}function Jo(e){try{return new i.Big(null!=e?e:"")}catch{return}}class Xo extends zo{constructor(e,t){const n=(r=e[0],null!==(i=r.formatter)&&void 0!==i?i:{format:e=>null!=e?e:"",parse:e=>({valid:!0,value:null!=e?e:""})});var r,i;super(new Vo(n),new Vo(n),"equal",e),_defineProperty(this,"storeType","input"),_defineProperty(this,"type","string"),Nn(this,{updateProps:Zt,fromJSON:Zt,fromViewState:Zt}),t&&this.fromViewState(t)}updateProps(e){var t;ce.shallow(this._attributes,e)||(this._attributes=e);const n=null===(t=e.at(0))||void 0===t?void 0:t.formatter;this.arg1.updateProps(n),this.arg2.updateProps(n)}toJSON(){var e,t;if(this.isInitialized)return[this.filterFunction,null!==(e=this.arg1.value)&&void 0!==e?e:null,null!==(t=this.arg2.value)&&void 0!==t?t:null]}fromJSON(e){const t=this.unpackJsonData(e);if(!t)return;const[n,r,i]=t;this.setState([n,null!=r?r:void 0,null!=i?i:void 0]),this.isInitialized=!0}fromViewState(e){const t=Ui(e,e=>"contains"===e?"contains":"starts-with"===e?"startsWith":"ends-with"===e?"endsWith":Uo(e),e=>"string"===e.valueType?e.value:void 0);t&&(this.setState(t),this.isInitialized=!0)}}const{Provider:Yo}=Di();class $o{constructor(e,t,n){_defineProperty(this,"_widget",void 0),_defineProperty(this,"_error",void 0),_defineProperty(this,"_filterStore",null),_defineProperty(this,"_context",void 0),_defineProperty(this,"_filterHost",void 0),this._filterHost=n,this._widget=e.filter;const r=this.createFilterStore(e,null);null===r?this._error=this._filterStore=null:r.hasError?(this._error=r.error,this._filterStore=null):(this._error=null,this._filterStore=r.value),this._context=this.createContext(this._filterStore,t),Nn(this,{condition:Qe})}setup(){const[e,t]=Yi();return this._filterStore&&"setup"in this._filterStore&&e(this._filterStore.setup()),t}createFilterStore(e,t){return Zo(e.attribute)?function(e,t,n){if(!t.filterable)return ji(Ti);switch(e){case"DateTime":return Ni(new Ho([t],n));case"AutoNumber":case"Decimal":case"Integer":case"Long":return Ni(new Go([t],n));case"String":case"HashString":return Ni(new Xo([t],n));case"Boolean":case"Enum":return Ni(new Mo([t],n));default:return ji(Ii)}}(e.attribute.type,e.attribute,t):null}createContext(e,t){return{version:3,parentChannelName:t.filtersChannelName,provider:this._error?ji(this._error):Ni({type:"direct",store:e}),filterObserver:this._filterHost}}renderFilterWidgets(){return e.jsx(Yo,{value:this._context,children:this._widget})}fromViewState(e){var t;null===(t=this._filterStore)||void 0===t||t.fromViewState(e)}get condition(){return this._filterStore?this._filterStore.condition:void 0}get settings(){var e;return null===(e=this._filterStore)||void 0===e?void 0:e.toJSON()}set settings(e){var t,n;void 0===e?null===(t=this._filterStore)||void 0===t||t.reset():null===(n=this._filterStore)||void 0===n||n.fromJSON(e)}}const Zo=e=>!(!e||!1!==e.isList);class Qo{constructor(e){var t;_defineProperty(this,"alignment",void 0),_defineProperty(this,"sortable",void 0),_defineProperty(this,"resizable",void 0),_defineProperty(this,"draggable",void 0),_defineProperty(this,"hidable",void 0),_defineProperty(this,"initiallyHidden",void 0),_defineProperty(this,"wrapText",void 0),_defineProperty(this,"showContentAs",void 0),_defineProperty(this,"weight",void 0),_defineProperty(this,"width",void 0),_defineProperty(this,"minWidth",void 0),_defineProperty(this,"minWidthLimit",void 0),_defineProperty(this,"allowEventPropagation",void 0),this.alignment=e.alignment,this.sortable=e.sortable,this.resizable=e.resizable,this.draggable=e.draggable,this.hidable="no"!==e.hidable,this.initiallyHidden="hidden"===e.hidable,this.wrapText=e.wrapText,this.showContentAs=e.showContentAs,this.weight=null!==(t=e.size)&&void 0!==t?t:1,this.width=e.width,this.minWidth=e.minWidth,this.minWidthLimit=e.minWidthLimit,this.allowEventPropagation=e.allowEventPropagation}get columnWidth(){switch(this.width){case"autoFit":{const e="manual"===this.minWidth?"".concat(this.minWidthLimit,"px"):"minContent"===this.minWidth?"min-content":"auto";return"minmax(".concat(e,", auto)")}case"manual":return"".concat(this.weight,"fr");default:return"1fr"}}}class es{constructor(e,t,n){_defineProperty(this,"columnIndex",void 0),_defineProperty(this,"isHidden",void 0),_defineProperty(this,"size",void 0),_defineProperty(this,"orderWeight",void 0),_defineProperty(this,"headerElementRef",null),_defineProperty(this,"baseInfo",void 0),_defineProperty(this,"parentStore",void 0),_defineProperty(this,"frozenSize",void 0),_defineProperty(this,"_visible",void 0),_defineProperty(this,"_header",void 0),_defineProperty(this,"_columnClass",void 0),_defineProperty(this,"_tooltip",void 0),_defineProperty(this,"_attribute",void 0),_defineProperty(this,"_dynamicText",void 0),_defineProperty(this,"_content",void 0),this.parentStore=n,this.baseInfo=new Qo(t),this.columnIndex=e,this.isHidden=this.baseInfo.initiallyHidden,this.orderWeight=10*e,Nn(this,{_visible:Xe.ref,_header:Xe.ref,_columnClass:Xe.ref,_tooltip:Xe.ref,_attribute:Xe.ref,_dynamicText:Xe.ref,_content:Xe.ref,isHidden:Xe,size:Xe,orderWeight:Xe,updateProps:Zt,toggleHidden:Zt,setSize:Zt,applySettings:Zt,canSort:Qe,header:Qe,loaded:Qe,settings:Qe.struct}),this.updateProps(t)}updateProps(e){this._visible=e.visible,this._header=e.header,this._columnClass=e.columnClass,this._tooltip=e.tooltip,this._attribute=e.attribute,this._content=e.content,this._dynamicText=e.dynamicText}get alignment(){return this.baseInfo.alignment}get initiallyHidden(){return this.baseInfo.initiallyHidden}get wrapText(){return this.baseInfo.wrapText}get canDrag(){return this.baseInfo.draggable}get canHide(){return this.baseInfo.hidable}toggleHidden(){this.isHidden=!this.isHidden}get canResize(){return this.baseInfo.resizable&&!this.parentStore.isLastVisible(this)}setSize(e){this.size=e}get canSort(){var e;return this.baseInfo.sortable&&!(null===(e=this._attribute)||void 0===e||!e.sortable)}get sortDir(){var e;return null===(e=this.parentStore.sorting.getDirection(this.columnId))||void 0===e?void 0:e[0]}get sortWeight(){var e;return null===(e=this.parentStore.sorting.getDirection(this.columnId))||void 0===e?void 0:e[1]}toggleSort(){this.parentStore.sorting.toggleSort(this.columnId)}get columnId(){return this.columnIndex.toString()}get header(){var e,t;return null!==(e=null===(t=this._header)||void 0===t?void 0:t.value)&&void 0!==e?e:""}get isAvailable(){var e;return!this._visible||null!==(e=this._visible.value)&&void 0!==e&&e}get loaded(){return!this._visible||("loading"!==this._visible.status||void 0!==this._visible.value)}get attrId(){var e;return null===(e=this._attribute)||void 0===e?void 0:e.id}setHeaderElementRef(e){this.headerElementRef=e}takeSizeSnapshot(){var e;const t=null===(e=this.headerElementRef)||void 0===e?void 0:e.offsetWidth;this.frozenSize=this.size,t&&this.setSize(t)}renderCellContent(t){switch(this.baseInfo.showContentAs){case"attribute":case"dynamicText":var n,r,i;return e.jsx("span",{className:"td-text",title:null===(n=this._tooltip)||void 0===n||null===(n=n.get(t))||void 0===n?void 0:n.value,children:"attribute"===this.baseInfo.showContentAs?null===(r=this._attribute)||void 0===r||null===(r=r.get(t))||void 0===r?void 0:r.displayValue:null===(i=this._dynamicText)||void 0===i||null===(i=i.get(t))||void 0===i?void 0:i.value});case"customContent":var o;return e.jsx(rs,{allowEventPropagation:this.baseInfo.allowEventPropagation,children:null===(o=this._content)||void 0===o?void 0:o.get(t)});default:throw new Error("Unknown content type: ".concat(this.baseInfo.showContentAs))}}columnClass(e){var t;return null===(t=this._columnClass)||void 0===t?void 0:t.get(e).value}getCssWidth(){return this.size?this.parentStore.isLastVisible(this)?"minmax(min-content, auto)":"".concat(this.size,"px"):this.baseInfo.columnWidth}get settings(){return{columnId:this.columnId,size:this.parentStore.isResizing?this.frozenSize:this.size,hidden:this.isHidden,orderWeight:this.orderWeight,sortDir:this.sortDir,sortWeight:this.sortWeight}}applySettings(e){this.size=e.size,this.canHide&&(this.isHidden=e.hidden),this.orderWeight=10*e.orderWeight}}const ts=e=>{e.stopPropagation()},ns=e=>{"Tab"!==e.code&&e.stopPropagation()};function rs(t){let{children:n,allowEventPropagation:r}=t;const i=r?{}:{onClick:ts,onKeyUp:ts,onKeyDown:ns};return e.jsx("div",{className:"td-custom-content",...i,children:n})}class is{constructor(e,t,n,r){_defineProperty(this,"gate",void 0),_defineProperty(this,"_allColumns",void 0),_defineProperty(this,"_allColumnsById",new Map),_defineProperty(this,"columnFilters",void 0),_defineProperty(this,"metaKey","ColumnGroupStore"),_defineProperty(this,"sorting",void 0),_defineProperty(this,"isResizing",!1),this.gate=t,e.add(this);const{props:i}=t;var o,s;this._allColumns=[],this.columnFilters=[],i.columns.forEach((e,t)=>{const i=new es(t,e,this);this._allColumnsById.set(i.columnId,i),this._allColumns[t]=i,this.columnFilters[t]=new $o(e,n,r)}),this.sorting=new Io((o=i.datasource.sortOrder,s=this._allColumns,o&&o.length?o.map(e=>{var t;const[n,r]=e,i=null===(t=s.find(e=>e.attrId===n))||void 0===t?void 0:t.columnId;if(i)return[i,r]}).filter(e=>!!e):[])),Nn(this,{_allColumns:Xe,isResizing:Xe,loaded:Qe,_allColumnsOrdered:Qe,availableColumns:Qe,visibleColumns:Qe,condWithMeta:Qe({keepAlive:!0}),columnSettings:Qe.struct,filterSettings:Qe({keepAlive:!0}),updateColumns:Zt,setIsResizing:Zt,swapColumns:Zt,setColumnSettings:Zt,hydrate:Zt,sortInstructions:Qe({keepAlive:!0})})}setup(){const[e,t]=Yi();for(const t of this.columnFilters)e(t.setup());return e(tn(()=>{const{props:e}=this.gate;this.updateColumns(e)})),t}updateColumns(e){e.columns.forEach((e,t)=>{this._allColumns[t].updateProps(e)}),this.visibleColumns.length<1&&this._allColumns.forEach(e=>{e.isHidden=!1})}swapColumns(e,t){let[n,r]=t;const i=this._allColumnsById.get(e),o=this._allColumnsById.get(n);i.orderWeight=o.orderWeight+("after"===r?1:-1),this._allColumnsOrdered.forEach((e,t)=>{e.orderWeight=10*t})}setIsResizing(e){this.isResizing=e,this.isResizing&&this._allColumns.forEach(e=>e.takeSizeSnapshot())}get loaded(){return this._allColumns.every(e=>e.loaded)}get _allColumnsOrdered(){return[...this._allColumns].sort((e,t)=>e.orderWeight-t.orderWeight)}get availableColumns(){return[...this._allColumnsOrdered].filter(e=>e.isAvailable)}get visibleColumns(){return[...this.availableColumns].filter(e=>!e.isHidden)}get sortInstructions(){return function(e,t){if(e.length)return e.map(e=>{var n;const[r,i]=e,o=null===(n=t.find(e=>e.columnId===r))||void 0===n?void 0:n.attrId;if(o)return[o,i]}).filter(e=>!!e)}(this.sorting.rules,this._allColumns)}get columnSettings(){return this._allColumns.map(e=>e.settings)}get filterSettings(){return this.columnFilters.reduce((e,t,n)=>(t.settings&&e.set(this._allColumns[n].columnId,t.settings),e),new Map)}setColumnSettings(e){e.forEach(e=>{const t=this._allColumnsById.get(e.columnId);t?t.applySettings(e):console.warn("Error while restoring personalization config. Column '".concat(e.columnId,"' is not found."))}),this.sorting.rules=e.filter(e=>e.sortDir&&void 0!==e.sortWeight).sort((e,t)=>e.sortWeight-t.sortWeight).map(e=>[e.columnId,e.sortDir])}setColumnFilterSettings(e){for(const[r,i]of e){var t,n;const e=null!==(t=null===(n=this._allColumnsById.get(r))||void 0===n?void 0:n.columnIndex)&&void 0!==t?t:NaN,o=this.columnFilters.at(e);o&&(o.settings=i)}}isLastVisible(e){return this.visibleColumns.at(-1)===e}get condWithMeta(){const e=this.columnFilters.map((e,t)=>this._allColumns[t].isHidden?void 0:e.condition),[t,n]=Wi(e);return{cond:t,meta:n}}hydrate(e){let{cond:t,meta:n}=e;qi(t,n).forEach((e,t)=>{const n=this.columnFilters[t];n&&e&&n.fromViewState(e)})}}class os{constructor(e){_defineProperty(this,"gate",void 0),this.gate=e,Mn(this)}get exportDialogLabel(){var e;return null===(e=this.gate.props.exportDialogLabel)||void 0===e?void 0:e.value}get cancelExportLabel(){var e;return null===(e=this.gate.props.cancelExportLabel)||void 0===e?void 0:e.value}get selectRowLabel(){var e;return null===(e=this.gate.props.selectRowLabel)||void 0===e?void 0:e.value}get selectAllRowsLabel(){var e;return null===(e=this.gate.props.selectAllRowsLabel)||void 0===e?void 0:e.value}get gridInteractive(){return!(!this.gate.props.itemSelection&&!this.gate.props.onClick)}}class ss{constructor(e){_defineProperty(this,"_storageAttr",void 0),this._storageAttr=e.configurationAttribute,Nn(this,{_storageAttr:Xe.ref,_value:Qe,settings:Qe.struct,updateProps:Zt})}updateProps(e){this._storageAttr=e.configurationAttribute}get _value(){if(this._storageAttr&&"available"===this._storageAttr.status)return this._storageAttr.value}get settings(){if(this._value)return JSON.parse(this._value)}updateSettings(e){if(e=""===e||null===e?void 0:e,this._storageAttr&&!this._storageAttr.readOnly){const t=JSON.stringify(e);this._storageAttr.value!==t&&this._storageAttr.setValue(t)}}}class as{constructor(e){_defineProperty(this,"key",void 0),this.key=e}get settings(){const e=localStorage.getItem(this.key);return e?JSON.parse(e):void 0}updateSettings(e){const t=JSON.stringify(e);localStorage.getItem(this.key)!==t&&localStorage.setItem(this.key,t)}}class ls{constructor(e,t,n,r){_defineProperty(this,"gate",void 0),_defineProperty(this,"columnsStore",void 0),_defineProperty(this,"customFilters",void 0),_defineProperty(this,"gridName",void 0),_defineProperty(this,"gridColumnsHash",void 0),_defineProperty(this,"schemaVersion",3),_defineProperty(this,"storeFilters",void 0),_defineProperty(this,"storage",void 0),this.gate=t,this.columnsStore=n,this.customFilters=r,e.add(this);const{props:i}=this.gate;var o,s;this.gridName=i.name,this.gridColumnsHash=(o=this.columnsStore._allColumns,s=this.gridName,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2166136261;const n=e.length;for(let r=0;r<n;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(JSON.stringify({name:s,columns:o.map(e=>({columnId:e.columnId,canSort:e.canSort,canHide:e.canHide,canResize:e.canResize,canDrag:e.canDrag}))})).toString()),this.storeFilters=i.storeFiltersInPersonalization,Nn(this,{settings:Qe,applySettings:Zt}),"localStorage"===i.configurationStorageType?this.storage=new as("".concat(this.gridName,"_").concat(this.gridColumnsHash)):this.storage=new ss(i)}setup(){const[e,t]=Yi();return e(this.setupReadReaction()),e(this.setupWriteReaction()),e(tn(()=>{var e,t;null===(e=(t=this.storage).updateProps)||void 0===e||e.call(t,this.gate.props)})),t}setupReadReaction(){return on(()=>{const e=this.storage.settings,t=this.readSettings(this.gridName,this.gridColumnsHash,e);return t.hasError?(t.error instanceof cs&&(console.warn(this.gridName,t.error),console.warn(this.gridName,"Erase settings to prevent errors."),this.storage.updateSettings(void 0)),null):t.value},e=>{null!=e&&this.applySettings(e)},{fireImmediately:!0,equals:ce.structural})}setupWriteReaction(){return on(()=>this.settings,e=>{this.storage.updateSettings(e)},{delay:250,equals:ce.structural})}applySettings(e){this.columnsStore.setColumnSettings(function(e){return e.columns.map(t=>{var n;const r=e.sortOrder.findIndex(e=>e[0]===t.columnId);return{columnId:t.columnId,size:t.size,hidden:t.hidden,orderWeight:e.columnOrder.indexOf(t.columnId),sortWeight:-1!==r?r+1:void 0,sortDir:-1!==r?null===(n=e.sortOrder[r])||void 0===n?void 0:n[1]:void 0}})}(e)),this.storeFilters&&(this.columnsStore.setColumnFilterSettings(e.columnFilters),this.customFilters.settings=new Map(e.customFilters))}readSettings(e,t,n){return null==n?ji(new us):this.isSettingsObject(n)?n.name!==e||n.settingsHash!==t?ji(new Error("Widget configuration for (".concat(e,")[hash:").concat(t,"]")+" doesn't match provided settings (".concat(n.name,")[hash:").concat(n.settingsHash,"].")+" Restoring those settings might result in errors.")):Ni(n):ji(new cs)}isSettingsObject(e){return"object"==typeof e&&null!==e&&"name"in e&&"settingsHash"in e&&"schemaVersion"in e&&e.schemaVersion===this.schemaVersion}get settings(){return function(e,t,n,r,i){const o=n.filter(e=>e.sortDir&&void 0!==e.sortWeight).sort((e,t)=>e.sortWeight-t.sortWeight).map(e=>[e.columnId,e.sortDir]),s=[...n].sort((e,t)=>e.orderWeight-t.orderWeight).map(e=>e.columnId);return{name:e,schemaVersion:3,settingsHash:t,columns:n.map(e=>({columnId:e.columnId,size:e.size,hidden:e.hidden,filterSettings:void 0})),columnFilters:Array.from(r),customFilters:Array.from(i),sortOrder:o,columnOrder:s}}(this.gridName,this.gridColumnsHash,this.columnsStore.columnSettings,this.storeFilters?this.columnsStore.filterSettings:new Map,this.storeFilters?this.customFilters.settings:new Map)}}class cs extends Error{constructor(){super("Invalid settings object"),this.name="InvalidSettingsError"}}class us extends Error{constructor(){super("Settings is undefined"),this.name="UndefinedSettingsError"}}class ds{constructor(e,t,n,r){_defineProperty(this,"query",void 0),_defineProperty(this,"filterHost",void 0),_defineProperty(this,"sortHost",void 0),this.query=t,this.filterHost=n,this.sortHost=r,e.add(this)}setup(){const[e,t]=Yi();return e(on(()=>this.sortHost.sortInstructions,e=>this.query.setSortOrder(e),{fireImmediately:!0})),e(on(()=>this.filterHost.filter,e=>this.query.setFilter(e),{fireImmediately:!0})),t}}class hs{constructor(e,t,n,r){_defineProperty(this,"query",void 0),_defineProperty(this,"exp",void 0),_defineProperty(this,"cols",void 0),_defineProperty(this,"config",void 0),this.query=e,this.exp=t,this.cols=n,this.config=r,Nn(this,{isFirstLoad:Qe,isFetchingNextBatch:Qe,isRefreshing:Qe})}get isFirstLoad(){const{cols:e,exp:t,query:n}=this;return!e.loaded||!t.inProgress&&n.isFirstLoad}get isFetchingNextBatch(){return this.query.isFetchingNextBatch}get isRefreshing(){const{isSilentRefresh:e,isRefreshing:t}=this.query;return this.config.showSilentRefresh?e||t:!e&&t}get showRefreshIndicator(){return!!this.config.refreshIndicator&&this.isRefreshing}}class fs{constructor(e,t,n){_defineProperty(this,"config",void 0),_defineProperty(this,"query",void 0),_defineProperty(this,"pagination",void 0),_defineProperty(this,"paginationKind",void 0),_defineProperty(this,"setPage",e=>{const t=e(this.currentPage);this.isLimitBased?this.query.setLimit(t*this.pageSize):this.query.setOffset(t*this.pageSize)}),this.config=t,this.query=n,e.add(this),this.pagination=t.pagination,this.paginationKind="".concat(this.pagination,".").concat(t.showPagingButtons),this.setInitParams()}get isLimitBased(){return"virtualScrolling"===this.pagination||"loadMore"===this.pagination}get pageSize(){return this.config.pageSize}get currentPage(){const{query:{limit:e,offset:t},pageSize:n}=this;return this.isLimitBased?e/n:t/n}get showPagination(){switch(this.paginationKind){case"buttons.always":return!0;case"buttons.auto":{const{totalCount:e=-1}=this.query;return e>this.query.limit}default:return this.config.showNumberOfRows}}setInitParams(){("buttons"===this.pagination||this.config.showNumberOfRows)&&this.query.requestTotalCount(!0),this.query.setBaseLimit(this.pageSize)}setup(){}}const ps={basicDate:mo("GridBasicData"),columnsStore:mo("ColumnGroupStore"),combinedFilter:mo("CombinedFilter"),combinedFilterConfig:mo("CombinedFilterKey"),config:mo("DatagridConfig"),enableSelectAll:mo("enableSelectAll"),exportProgressService:mo("ExportProgressService"),filterAPI:mo("FilterAPI"),filterHost:mo("FilterHost"),loaderConfig:mo("DatagridLoaderConfig"),loaderVM:mo("DatagridLoaderViewModel"),mainGate:mo("MainGate"),paginationConfig:mo("PaginationConfig"),paginationService:mo("PaginationService"),paramsService:mo("DatagridParamsService"),parentChannelName:mo("parentChannelName"),personalizationService:mo("GridPersonalizationStore"),query:mo("QueryService"),queryGate:mo("GateForQueryService"),refreshInterval:mo("refreshInterval"),selectAllBarVM:mo("SelectAllBarViewModel"),selectAllGate:mo("GateForSelectAllService"),selectAllProgressService:mo("SelectAllProgressService"),selectAllService:mo("SelectAllService"),selectionCounterPosition:mo("SelectionCounterPositionEnum"),selectionCounterVM:mo("SelectionCounterViewModel"),selectionDialogVM:mo("SelectionProgressDialogViewModel"),setupService:mo("DatagridSetupHost")};Ao(is,ps.setupService,ps.mainGate,ps.config,ps.filterHost),Ao(os,ps.mainGate),Ao($i,ps.setupService,ps.combinedFilterConfig),Ao(Li,ps.parentChannelName,ps.filterHost),Ao(ds,ps.setupService,ps.query,ps.combinedFilter,ps.columnsStore),Ao(ls,ps.setupService,ps.mainGate,ps.columnsStore,ps.filterHost),Ao(fs,ps.setupService,ps.paginationConfig,ps.query),Ao(Zi,ps.setupService,ps.queryGate,ps.refreshInterval.optional),Ao(hs,ps.query,ps.exportProgressService,ps.columnsStore,ps.loaderConfig),Ao(to,ps.mainGate,ps.selectionCounterPosition),Ao(eo,ps.setupService,ps.selectAllGate,ps.query,ps.selectAllProgressService),Ao(ko,ps.setupService,ps.mainGate,ps.selectAllService,ps.selectionCounterVM,ps.enableSelectAll),Ao(To,ps.setupService,ps.mainGate,ps.selectAllProgressService,ps.selectAllService);const[gs]=Zr(ps.selectAllBarVM),[vs]=Zr(ps.selectionDialogVM),ms=ui(function(){const t=gs();return t.isBarVisible?e.jsxs("div",{className:"widget-datagrid-select-all-bar",children:[t.selectionStatus,"",t.isClearVisible?e.jsx("button",{className:"widget-datagrid-btn-link",onClick:()=>t.onClear(),children:t.clearSelectionLabel}):e.jsx("button",{disabled:t.isSelectAllDisabled,className:"widget-datagrid-btn-link",onClick:()=>t.onSelectAll(),children:t.selectAllLabel})]}):null});function bs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const n=e.reduce((e,n)=>{let{useScope:r,scopeName:i}=n;return{...e,...r(t)["__scope".concat(i)]}},{});return s.useMemo(()=>({["__scope".concat(r.scopeName)]:n}),[n])}};return i.scopeName=r.scopeName,i}function ys(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function _s(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,n;let r=null===(t=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===t?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null===(n=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===n?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){const e=o(...arguments);return i(...arguments),e}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==s.Fragment&&(i.ref=t?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map(t=>{const r=ys(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():ys(t[e],null)}}}}(t,e):e),s.cloneElement(n,i)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var ws=Symbol("radix.slottable");function Ss(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ws}var xs=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((t,n)=>{const r=function(t){const n=_s(t),r=s.forwardRef((t,r)=>{const{children:i,...o}=t,a=s.Children.toArray(i),l=a.find(Ss);if(l){const t=l.props.children,i=a.map(e=>e===l?s.Children.count(t)>1?s.Children.only(null):s.isValidElement(t)?t.props.children:null:e);return e.jsx(n,{...o,ref:r,children:s.isValidElement(t)?s.cloneElement(t,void 0,i):null})}return e.jsx(n,{...o,ref:r,children:i})});return r.displayName="".concat(t,".Slot"),r}("Primitive.".concat(n)),i=s.forwardRef((t,i)=>{const{asChild:o,...s}=t,a=o?r:n;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),e.jsx(a,{...s,ref:i})});return i.displayName="Primitive.".concat(n),{...t,[n]:i}},{}),Cs="Progress",Ps=100,[Es,Os]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const e=r.map(e=>s.createContext(e));return function(n){const r=(null==n?void 0:n[t])||e;return s.useMemo(()=>({["__scope".concat(t)]:{...n,[t]:r}}),[n,r])}};return i.scopeName=t,[function(n,i){const o=s.createContext(i),a=r.length;r=[...r,i];const l=n=>{var r;const{scope:i,children:l,...c}=n,u=(null==i||null===(r=i[t])||void 0===r?void 0:r[a])||o,d=s.useMemo(()=>c,Object.values(c));return e.jsx(u.Provider,{value:d,children:l})};return l.displayName=n+"Provider",[l,function(e,r){var l;const c=(null==r||null===(l=r[t])||void 0===l?void 0:l[a])||o,u=s.useContext(c);if(u)return u;if(void 0!==i)return i;throw new Error("`".concat(e,"` must be used within `").concat(n,"`"))}]},bs(i,...n)]}(Cs),[As,ks]=Es(Cs),Ts=s.forwardRef((t,n)=>{const{__scopeProgress:r,value:i=null,max:o,getValueLabel:s=Ns,...a}=t;var l,c;!o&&0!==o||Ds(o)||console.error((l="".concat(o),c="Progress","Invalid prop `max` of value `".concat(l,"` supplied to `").concat(c,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Ps,"`.")));const u=Ds(o)?o:Ps;null===i||Ls(i,u)||console.error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Ps," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}("".concat(i),"Progress"));const d=Ls(i,u)?i:null,h=Ms(d)?s(d,u):void 0;return e.jsx(As,{scope:r,value:d,max:u,children:e.jsx(xs.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Ms(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":Rs(d,u),"data-value":null!=d?d:void 0,"data-max":u,...a,ref:n})})});Ts.displayName=Cs;var Is="ProgressIndicator",js=s.forwardRef((t,n)=>{var r;const{__scopeProgress:i,...o}=t,s=ks(Is,i);return e.jsx(xs.div,{"data-state":Rs(s.value,s.max),"data-value":null!==(r=s.value)&&void 0!==r?r:void 0,"data-max":s.max,...o,ref:n})});function Ns(e,t){return"".concat(Math.round(e/t*100),"%")}function Rs(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Ms(e){return"number"==typeof e}function Ds(e){return Ms(e)&&!isNaN(e)&&e>0}function Ls(e,t){return Ms(e)&&!isNaN(e)&&e<=t&&e>=0}js.displayName=Is;var Fs=Ts,Vs=js;function zs(){return e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{d:"M14.205 3.205L12.795 1.795L8 6.585L3.205 1.795L1.795 3.205L6.585 8L1.795 12.795L3.205 14.205L8 9.415L12.795 14.205L14.205 12.795L9.415 8L14.205 3.205Z",fill:"currentColor"})})}function Hs(){return e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[e.jsx("rect",{x:"13.3773",y:"10.5415",width:"5.30402",height:"14.7575",fill:"white"}),e.jsx("path",{d:"M29.71 24.97L23.77 15.11L17.64 4.94C16.89 3.69 15.11 3.69 14.36 4.94L8.23002 15.11L2.29002 24.97C1.50002 26.29 2.42002 28 3.94002 28H28.06C29.58 28 30.5 26.29 29.71 24.97ZM16 25C14.9 25 14 24.1 14 23C14 22 14.74 21.18 15.7 21.03C15.8 21.01 15.9 21 16 21C16.1 21 16.21 21.01 16.3 21.03C17.26 21.18 18 22 18 23C18 24.1 17.1 25 16 25ZM18 19H14V11H18V19Z",fill:"currentColor"})]})}function Bs(n){let{alertLabel:r,cancelLabel:i,failed:o,onCancel:s,progress:a,total:l}=n;const[c]=t.useState(()=>"widget-datagrid-export-alert-".concat(Ur()));return e.jsxs("div",{id:c,className:wi("widget-datagrid-export-alert",{"widget-datagrid-export-alert-failed":o}),role:"status","aria-live":"off","aria-label":r,children:[e.jsx("button",{role:"button",className:"btn btn-image btn-icon widget-datagrid-export-alert-cancel",onClick:s,"aria-label":i,tabIndex:0,children:e.jsx(zs,{})}),e.jsx("div",{className:"widget-datagrid-export-alert-message",children:o?e.jsx(Hs,{}):e.jsx("p",{children:Ws(l)?qs(a,l):a})}),e.jsx(Ks,{progress:a,total:l})]})}function Ks(t){let{progress:n,total:r}=t;const i=Ws(r)&&r;return e.jsx(Fs,{className:"widget-datagrid-export-progress",value:i?n:null,max:r,children:e.jsx(Vs,{className:wi("widget-datagrid-export-progress-indicator",{"widget-datagrid-export-progress-indicator-indeterminate":!i}),style:i?Us(n,r):void 0})})}function Ws(e){return"number"==typeof e&&e>0}function qs(e,t){return"".concat(e," / ").concat(t)}function Us(e,t){return{transform:"translateX(-".concat(100-Gs(e,0,t),"%)")}}function Gs(e,t,n){if(e<t)return 0;if(e>n)return 100;const r=n-t,i=Math.round((e-t)/r*100);return Math.abs(i)}function Js(t){return e.jsxs("div",{className:"widget-datagrid-modal-root",role:"presentation",children:[e.jsx("div",{className:"widget-datagrid-modal-overlay",role:"presentation"}),e.jsx("div",{className:"widget-datagrid-modal-main",role:"presentation",children:t.children})]})}const Xs=ui(function(){const t=vs();return t.isOpen?e.jsx(Js,{children:e.jsx(Bs,{alertLabel:t.selectingAllLabel,cancelLabel:t.cancelSelectionLabel,failed:!1,onCancel:()=>t.onCancel(),progress:t.loaded,total:t.total})}):null}),[Ys]=Zr(ps.basicDate),[$s]=Zr(ps.columnsStore),[Zs]=Zr(ps.config),[Qs]=Zr(ps.filterAPI),[ea]=Zr(ps.exportProgressService),[ta]=Zr(ps.loaderVM),[na]=Zr(ps.mainGate),[ra]=Zr(ps.paginationService);function ia(t){let{open:n,...r}=t;return n?e.jsx(Js,{children:e.jsx(Bs,{...r})}):null}function oa(t){const{className:n,style:r,children:i,...o}=t;return e.jsx("div",{className:wi("widget-datagrid-grid table",n),role:"grid",style:r,...o,children:i})}function sa(t){let{size:n="medium",withMargins:r=!1}=t;return e.jsx("div",{className:wi("widget-datagrid-spinner",{"widget-datagrid-spinner-margin":r}),"aria-busy":!0,"aria-live":"polite",children:e.jsx("div",{className:"widget-datagrid-spinner-loader widget-datagrid-spinner-loader-".concat(n)})})}const aa=t.createContext(null),la=()=>{const e=t.useContext(aa);if(!e)throw new Error("useDatagridRootScope must be used within a root context provider");return e};function ca(t){return e.jsx(xi,{...t,className:"column-selector"})}function ua(t){let{withCheckbox:n=!1}=t;return e.jsxs("div",{className:"widget-datagrid-skeleton","aria-busy":!0,"aria-live":"polite",children:[n&&e.jsx("span",{className:"widget-datagrid-skeleton-loader widget-datagrid-skeleton-loader-small"}),e.jsx("span",{className:"widget-datagrid-skeleton-loader"})]})}function da(n){let{columnsHidable:r,columnsSize:i,pageSize:o,useBorderTop:s=!0}=n;const{selectActionHelper:a}=la();return e.jsx(t.Fragment,{children:Array.from({length:o}).map((t,n)=>{const o=s&&0===n;return e.jsxs("div",{className:"tr",role:"row",children:[a.showCheckboxColumn&&e.jsx(xi,{borderTop:o,className:"widget-datagrid-col-select",tabIndex:-1,children:e.jsx("input",{type:"checkbox"})}),Array.from({length:i}).map((t,r)=>e.jsx(xi,{alignment:"left",borderTop:o,children:e.jsx(ua,{})},"".concat(n,"-").concat(r))),r&&e.jsx(ca,{borderTop:o,tabIndex:-1},"column_selector_cell")]},n)})})}function ha(e){var n,r;const[i,o]=t.useState(!1),s=null!==(r=(n=t.useRef(null)).current)&&void 0!==r?r:n.current=function(e){let{setIsIntersecting:t}=e;return new IntersectionObserver(e=>{let[n]=e;t(n.isIntersecting)})}({setIsIntersecting:o});return t.useEffect(()=>(e.current&&s.observe(e.current),()=>{s.disconnect()}),[s,e]),i}function fa(n){const{children:r,pagination:i,hasMoreItems:o,setPage:s}=n,a="virtualScrolling"===i,[l,c,u]=function(e){const{setPage:n,hasMoreItems:r,isInfinite:i}=e,[o,s]=t.useState(0),a=t.useRef(null),l=ha(a),c=t.useCallback(e=>{Math.floor(e.target.scrollHeight-30-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&r&&n&&n(e=>e+1)},[r,n]),u=t.useCallback(()=>{l&&i&&r&&o<=0&&a.current&&s(a.current.clientHeight-30)},[i,r,o,l]);return t.useLayoutEffect(()=>{setTimeout(()=>u(),100)},[u]),[c,o,a]}({hasMoreItems:o,isInfinite:a,setPage:s});return e.jsx("div",{className:wi("widget-datagrid-grid-body table-content",{"infinite-loading":a},n.className),style:a&&c>0?{maxHeight:"".concat(c,"px")}:{},role:"rowgroup",ref:u,onScroll:a?l:void 0,children:n.isFirstLoad?e.jsx(pa,{...n,rowsSize:n.rowsSize>0?n.rowsSize:n.pageSize}):e.jsxs(t.Fragment,{children:[r,n.isFetchingNextBatch&&e.jsx(pa,{...n,rowsSize:n.pageSize,useBorderTop:!1})]})})}function pa(t){return"spinner"===t.loadingType?e.jsx("div",{className:"widget-datagrid-loader-container",children:e.jsx(sa,{withMargins:!0,size:"large"})}):e.jsx(da,{columnsHidable:t.columnsHidable,columnsSize:t.columnsSize,pageSize:t.rowsSize,useBorderTop:t.useBorderTop})}function ga(n){let{value:r,className:i,...o}=n;const s=t.useRef(null);return t.useEffect(()=>{s.current&&("all"===r||"none"===r?s.current.indeterminate=!1:"some"===r&&(s.current.indeterminate=!0))},[r]),e.jsx("input",{...o,type:"checkbox",className:wi("three-state-checkbox",i),ref:s,checked:"none"!==r})}function va(){const{selectActionHelper:n,selectionHelper:r}=la(),{showCheckboxColumn:i,showSelectAllToggle:o,onSelectAll:s}=n,{selectAllRowsLabel:a}=Ys();return!1===i?e.jsx(t.Fragment,{}):e.jsx("div",{className:"th widget-datagrid-col-select",role:"columnheader",children:o&&e.jsx(ma,{status:"Multi"===(null==r?void 0:r.type)?r.selectionStatus:"none",onChange:s,"aria-label":a})})}function ma(t){var n;return"unknown"===t.status?(console.error("Data grid 2: don't know how to render column checkbox with selectionStatus=unknown"),null):e.jsx(ga,{value:t.status,onChange:t.onChange,"aria-label":null!==(n=t["aria-label"])&&void 0!==n?n:"Select all rows"})}function ba(e){const n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current&&n.current.apply(void 0,t)},[])}function ya(n){let{minWidth:r=50,setColumnWidth:i,onResizeEnds:o,onResizeStart:s}=n;const[a,l]=t.useState(!1),[c,u]=t.useState(0),[d,h]=t.useState(0),f=t.useRef(null),p=ba(s),g=t.useCallback(e=>{const t=e.touches?e.touches[0].screenX:e.screenX;if(u(t),l(!0),f.current){const e=f.current.parentElement;h(e.offsetWidth)}p()},[p]),v=t.useCallback(()=>{a&&(l(!1),h(0),null==o||o())},[o,a]),m=ba(i),b=t.useCallback(e=>{if(!a)return;const t=e.touches?e.touches[0].screenX:e.screenX;if(d){let e=d-(c-t);e<r&&(e=r),m(e)}},[a,d,c,r,m]);return t.useEffect(()=>(document.addEventListener("mousemove",b),document.addEventListener("mouseup",v),document.addEventListener("touchmove",b),document.addEventListener("touchend",v),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",v)}),[b,v]),e.jsx("div",{"aria-hidden":!0,ref:f,className:"column-resizer",onMouseDown:g,onTouchStart:g,children:e.jsx("div",{className:"column-resizer-bar"})})}function _a(){return"undefined"!=typeof window}function wa(e){return Ca(e)?(e.nodeName||"").toLowerCase():"#document"}function Sa(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function xa(e){var t;return null==(t=(Ca(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ca(e){return!!_a()&&(e instanceof Node||e instanceof Sa(e).Node)}function Pa(e){return!!_a()&&(e instanceof Element||e instanceof Sa(e).Element)}function Ea(e){return!!_a()&&(e instanceof HTMLElement||e instanceof Sa(e).HTMLElement)}function Oa(e){return!(!_a()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Sa(e).ShadowRoot)}const Aa=new Set(["inline","contents"]);function ka(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ha(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Aa.has(i)}const Ta=new Set(["table","td","th"]);function Ia(e){return Ta.has(wa(e))}const ja=[":popover-open",":modal"];function Na(e){return ja.some(t=>{try{return e.matches(t)}catch(e){return!1}})}const Ra=["transform","translate","scale","rotate","perspective"],Ma=["transform","translate","scale","rotate","perspective","filter"],Da=["paint","layout","strict","content"];function La(e){const t=Fa(),n=Pa(e)?Ha(e):e;return Ra.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||Ma.some(e=>(n.willChange||"").includes(e))||Da.some(e=>(n.contain||"").includes(e))}function Fa(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const Va=new Set(["html","body","#document"]);function za(e){return Va.has(wa(e))}function Ha(e){return Sa(e).getComputedStyle(e)}function Ba(e){return Pa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ka(e){if("html"===wa(e))return e;const t=e.assignedSlot||e.parentNode||Oa(e)&&e.host||xa(e);return Oa(t)?t.host:t}function Wa(e){const t=Ka(e);return za(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ea(t)&&ka(t)?t:Wa(t)}function qa(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Wa(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Sa(i);if(o){const e=Ua(s);return t.concat(s,s.visualViewport||[],ka(i)?i:[],e&&n?qa(e):[])}return t.concat(i,qa(i,[],n))}function Ua(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ga(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function Ja(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Oa(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function Xa(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function Ya(e){return!Xa().includes("jsdom/")&&(!$a()&&0===e.width&&0===e.height||$a()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function $a(){const e=/android/i;return e.test(function(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}())||e.test(Xa())}function Za(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Qa(e){return(null==e?void 0:e.ownerDocument)||document}function el(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function tl(e){return"composedPath"in e?e.composedPath()[0]:e.target}function nl(e){return Ea(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function rl(e){e.preventDefault(),e.stopPropagation()}const il=Math.min,ol=Math.max,sl=Math.round,al=Math.floor,ll=e=>({x:e,y:e});function cl(e,t){return"function"==typeof e?e(t):e}function ul(e){return e.split("-")[0]}function dl(e){return e.split("-")[1]}const hl=new Set(["top","bottom"]);function fl(e){return hl.has(ul(e))?"y":"x"}function pl(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}
/*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  */var gl=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),vl="undefined"==typeof Element,ml=vl?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,bl=!vl&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},yl=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},_l=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!yl(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{ml.call(s,gl)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var c=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),u=!yl(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else o.unshift.apply(o,s.children)}}return i},wl=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Sl=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!wl(e)?0:e.tabIndex},xl=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Cl=function(e){return"INPUT"===e.tagName},Pl=function(e){return function(e){return Cl(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||bl(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},El=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ol=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=ml.call(e,"details>summary:first-of-type")?e.parentElement:e;if(ml.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return El(e)}else{if("function"==typeof r){for(var o=e;e;){var s=e.parentElement,a=bl(e);if(s&&!s.shadowRoot&&!0===r(s))return El(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,n,r,i,o=e&&bl(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&s;){var l,c,u;a=!(null===(c=s=null===(l=o=bl(s))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Al=function(e,t){return!(t.disabled||yl(t)||function(e){return Cl(e)&&"hidden"===e.type}(t)||Ol(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!ml.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},kl=function(e,t){return!(Pl(t)||Sl(t)<0||!Al(e,t))},Tl=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Il=function e(t){var n=[],r=[];return t.forEach(function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var n=Sl(e);return n<0&&t&&!wl(e)?0:n}(s,o),l=o?e(t.candidates):s;0===a?o?n.push.apply(n,l):n.push(s):r.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:l})}),r.sort(xl).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},jl=function(e,t){var n;return n=(t=t||{}).getShadowRoot?_l([e],t.includeContainer,{filter:kl.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Tl}):function(e,t,n){if(yl(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(gl));return t&&ml.call(e,gl)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,kl.bind(null,t)),Il(n)};function Nl(e,t,n){let{reference:r,floating:i}=e;const o=fl(t),s=function(e){return"x"===fl(e)?"y":"x"}(t),a="y"===s?"height":"width";const l=ul(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(dl(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}function Rl(e){const t=Ha(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ea(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=sl(n)!==o||sl(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Ml(e){return Pa(e)?e:e.contextElement}function Dl(e){const t=Ml(e);if(!Ea(t))return ll(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=Rl(t);let s=(o?sl(n.width):n.width)/r,a=(o?sl(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Ll=ll(0);function Fl(e){const t=Sa(e);return Fa()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ll}function Vl(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Ml(e);let s=ll(1);t&&(r?Pa(r)&&(s=Dl(r)):s=Dl(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Sa(e))&&t}(o,n,r)?Fl(o):ll(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=Sa(o),t=r&&Pa(r)?Sa(r):r;let n=e,i=Ua(n);for(;i&&r&&t!==n;){const e=Dl(i),t=i.getBoundingClientRect(),r=Ha(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,n=Sa(i),i=Ua(n)}}return pl({width:u,height:d,x:l,y:c})}function zl(e,t){const n=Ba(e).scrollLeft;return t?t.left+n:Vl(xa(e)).left+n}function Hl(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-zl(e,n),y:n.top+t.scrollTop}}const Bl=new Set(["absolute","fixed"]);function Kl(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Sa(e),r=xa(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=Fa();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}const c=zl(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else c<=25&&(o+=c);return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=xa(e),n=Ba(e),r=e.ownerDocument.body,i=ol(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ol(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+zl(e);const a=-n.scrollTop;return"rtl"===Ha(r).direction&&(s+=ol(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(xa(e));else if(Pa(t))r=function(e,t){const n=Vl(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ea(e)?Dl(e):ll(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=Fl(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return pl(r)}function Wl(e,t){const n=Ka(e);return!(n===t||!Pa(n)||za(n))&&("fixed"===Ha(n).position||Wl(n,t))}function ql(e,t,n){const r=Ea(t),i=xa(t),o="fixed"===n,s=Vl(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ll(0);function c(){l.x=zl(i)}if(r||!r&&!o)if(("body"!==wa(t)||ka(i))&&(a=Ba(t)),r){const e=Vl(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?ll(0):Hl(i,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function Ul(e){return"static"===Ha(e).position}function Gl(e,t){if(!Ea(e)||"fixed"===Ha(e).position)return null;if(t)return t(e);let n=e.offsetParent;return xa(e)===n&&(n=n.ownerDocument.body),n}function Jl(e,t){const n=Sa(e);if(Na(e))return n;if(!Ea(e)){let t=Ka(e);for(;t&&!za(t);){if(Pa(t)&&!Ul(t))return t;t=Ka(t)}return n}let r=Gl(e,t);for(;r&&Ia(r)&&Ul(r);)r=Gl(r,t);return r&&za(r)&&Ul(r)&&!La(r)?n:r||function(e){let t=Ka(e);for(;Ea(t)&&!za(t);){if(La(t))return t;if(Na(t))return null;t=Ka(t)}return null}(e)||n}const Xl={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=xa(r),a=!!t&&Na(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=ll(1);const u=ll(0),d=Ea(r);if((d||!d&&!o)&&(("body"!==wa(r)||ka(s))&&(l=Ba(r)),Ea(r))){const e=Vl(r);c=Dl(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||o?ll(0):Hl(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:xa,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?Na(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=qa(e,[],!1).filter(e=>Pa(e)&&"body"!==wa(e)),i=null;const o="fixed"===Ha(e).position;let s=o?Ka(e):e;for(;Pa(s)&&!za(s);){const t=Ha(s),n=La(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&Bl.has(i.position)||ka(s)&&!n&&Wl(e,s))?r=r.filter(e=>e!==s):i=t,s=Ka(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=Kl(t,n,i);return e.top=ol(r.top,e.top),e.right=il(r.right,e.right),e.bottom=il(r.bottom,e.bottom),e.left=ol(r.left,e.left),e},Kl(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Jl,getElementRects:async function(e){const t=this.getOffsetParent||Jl,n=this.getDimensions,r=await n(e.floating);return{reference:ql(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Rl(e);return{width:t,height:n}},getScale:Dl,isElement:Pa,isRTL:function(e){return"rtl"===Ha(e).direction}};function Yl(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $l(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Ml(e),u=i||o?[...c?qa(c):[],...qa(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const d=c&&a?function(e,t){let n,r=null;const i=xa(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||t(),!h||!f)return;const p={rootMargin:-al(d)+"px "+-al(i.clientWidth-(u+h))+"px "+-al(i.clientHeight-(d+f))+"px "+-al(u)+"px",threshold:ol(0,il(1,l))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||Yl(c,e.getBoundingClientRect())||s(),g=!1}try{r=new IntersectionObserver(v,{...p,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(v,p)}r.observe(e)}(!0),o}(c,n):null;let h,f=-1,p=null;s&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let g=l?Vl(e):null;return l&&function t(){const r=Vl(e);g&&!Yl(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Zl=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=cl(e,t),u=await async function(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=cl(t,e),p=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(f),g=a[h?"floating"===d?"reference":"floating":d],v=pl(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(g)))||n?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),m="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),y=await(null==o.isElement?void 0:o.isElement(b))&&await(null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},_=pl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:b,strategy:l}):m);return{top:(v.top-_.top+p.top)/y.y,bottom:(_.bottom-v.bottom+p.bottom)/y.y,left:(v.left-_.left+p.left)/y.x,right:(_.right-v.right+p.right)/y.x}}(t,c),d=ul(i),h=dl(i),f="y"===fl(i),{width:p,height:g}=o.floating;let v,m;"top"===d||"bottom"===d?(v=d,m=h===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,v="end"===h?"top":"bottom");const b=g-u.top-u.bottom,y=p-u.left-u.right,_=il(g-u[v],b),w=il(p-u[m],y),S=!t.middlewareData.shift;let x=_,C=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(x=b),S&&!h){const e=ol(u.left,0),t=ol(u.right,0),n=ol(u.top,0),r=ol(u.bottom,0);f?C=p-2*(0!==e||0!==t?e+t:ol(u.left,u.right)):x=g-2*(0!==n||0!==r?n+r:ol(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:x});const P=await s.getDimensions(a.floating);return p!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}},Ql=(e,t,n)=>{const r=new Map,i={platform:Xl,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Nl(c,r,l),h=r,f={},p=0;for(let n=0;n<a.length;n++){const{name:o,fn:g}=a[n],{x:v,y:m,data:b,reset:y}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=m?m:d,f={...f,[o]:{...f[o],...b}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:u,y:d}=Nl(c,h,l))),n=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:o})};var ec="undefined"!=typeof document?t.useLayoutEffect:function(){};function tc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!tc(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!tc(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function nc(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rc(e,t){const n=nc(e);return Math.round(t*n)/n}function ic(e){const t=s.useRef(e);return ec(()=>{t.current=e}),t}const oc={...s},sc=oc.useInsertionEffect||(e=>e());function ac(e){const t=s.useRef(()=>{});return sc(()=>{t.current=e}),s.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}var lc="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}let uc=!1,dc=0;const hc=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+dc++;const fc=oc.useId||function(){const[e,t]=s.useState(()=>uc?hc():void 0);return lc(()=>{null==e&&t(hc())},[]),s.useEffect(()=>{uc=!0},[]),e};const pc=s.createContext(null),gc=s.createContext(null),vc=()=>s.useContext(gc);function mc(e){return"data-floating-ui-"+e}function bc(e){const n=t.useRef(e);return lc(()=>{n.current=e}),n}let yc=0;function _c(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(yc);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():yc=requestAnimationFrame(o)}function wc(e,t){let n=e.filter(e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}),r=n;for(;r.length;)r=e.filter(e=>{var t;return null==(t=r)?void 0:t.some(t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)})}),n=n.concat(r);return n}let Sc=new WeakMap,xc=new WeakSet,Cc={},Pc=0;const Ec=e=>e&&(e.host||Ec(e.parentNode));function Oc(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=(a=t,e.map(e=>{if(a.contains(e))return e;const t=Ec(e);return a.contains(t)?t:null}).filter(e=>null!=e));var a;const l=new Set,c=new Set(s),u=[];Cc[i]||(Cc[i]=new WeakMap);const d=Cc[i];return s.forEach(function e(t){if(!t||l.has(t))return;l.add(t),t.parentNode&&e(t.parentNode)}),function e(t){if(!t||c.has(t))return;[].forEach.call(t.children,t=>{if("script"!==wa(t))if(l.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=(Sc.get(t)||0)+1,s=(d.get(t)||0)+1;Sc.set(t,r),d.set(t,s),u.push(t),1===r&&n&&xc.add(t),1===s&&t.setAttribute(i,""),!n&&o&&t.setAttribute(o,"true")}})}(t),l.clear(),Pc++,()=>{u.forEach(e=>{const t=(Sc.get(e)||0)-1,n=(d.get(e)||0)-1;Sc.set(e,t),d.set(e,n),t||(!xc.has(e)&&o&&e.removeAttribute(o),xc.delete(e)),n||e.removeAttribute(i)}),Pc--,Pc||(Sc=new WeakMap,Sc=new WeakMap,xc=new WeakSet,Cc={})}}function Ac(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=Qa(e[0]).body;return Oc(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const kc=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Tc(e,t){const n=jl(e,kc());"prev"===t&&n.reverse();const r=n.indexOf(Ga(Qa(e)));return n.slice(r+1)[0]}function Ic(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Ja(n,r)}const jc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function Nc(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const Rc=s.forwardRef(function(e,t){const[n,r]=s.useState();lc(()=>(/apple/i.test(navigator.vendor)&&r("button"),document.addEventListener("keydown",Nc),()=>{document.removeEventListener("keydown",Nc)}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[mc("focus-guard")]:"",style:jc};return s.createElement("span",cc({},e,i))}),Mc=s.createContext(null),Dc="data-floating-ui-focusable";let Lc=[];function Fc(e){Lc=Lc.filter(e=>e.isConnected);let t=e;if(t&&"body"!==wa(t)){if(!function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==ml.call(e,gl)&&kl(t,e)}(t,kc())){const e=jl(t,kc())[0];e&&(t=e)}Lc.push(t),Lc.length>20&&(Lc=Lc.slice(-20))}}function Vc(){return Lc.slice().reverse().find(e=>e.isConnected)}const zc=s.forwardRef(function(e,t){return s.createElement("button",cc({},e,{type:"button",ref:t,tabIndex:-1,style:jc}))});function Hc(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:a=0,returnFocus:l=!0,restoreFocus:c=!1,modal:u=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:h=!0}=e,{open:f,refs:p,nodeId:g,onOpenChange:v,events:m,dataRef:b,floatingId:y,elements:{domReference:_,floating:w}}=t,S="number"==typeof a&&a<0,x=!!(C=_)&&"combobox"===C.getAttribute("role")&&nl(C)&&S;var C;const P="undefined"==typeof HTMLElement||!("inert"in HTMLElement.prototype)||o,E=bc(i),O=bc(a),A=bc(l),k=vc(),T=s.useContext(Mc),I=s.useRef(null),j=s.useRef(null),N=s.useRef(!1),R=s.useRef(!1),M=s.useRef(-1),D=null!=T,L=(F=w)?F.hasAttribute(Dc)?F:F.querySelector("["+Dc+"]")||F:null;var F;const V=ac(function(e){return void 0===e&&(e=L),e?jl(e,kc()):[]}),z=ac(e=>{const t=V(e);return E.current.map(e=>_&&"reference"===e?_:L&&"floating"===e?L:t).filter(Boolean).flat()});function H(e){return!r&&d&&u?s.createElement(zc,{ref:"start"===e?I:j,onClick:e=>v(!1,e.nativeEvent)},"string"==typeof d?d:"Dismiss"):null}s.useEffect(()=>{if(r)return;if(!u)return;function e(e){if("Tab"===e.key){Ja(L,Ga(Qa(L)))&&0===V().length&&!x&&rl(e);const t=z(),n=tl(e);"reference"===E.current[0]&&n===_&&(rl(e),e.shiftKey?_c(t[t.length-1]):_c(t[1])),"floating"===E.current[1]&&n===L&&e.shiftKey&&(rl(e),_c(t[0]))}}const t=Qa(L);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[r,_,L,u,E,x,V,z]),s.useEffect(()=>{if(!r&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=tl(e),n=V().indexOf(t);-1!==n&&(M.current=n)}},[r,w,V]),s.useEffect(()=>{if(!r&&h)return w&&Ea(_)?(_.addEventListener("focusout",t),_.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{_.removeEventListener("focusout",t),_.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)}):void 0;function e(){R.current=!0,setTimeout(()=>{R.current=!1})}function t(e){const t=e.relatedTarget;queueMicrotask(()=>{const n=!(Ja(_,t)||Ja(w,t)||Ja(t,w)||Ja(null==T?void 0:T.portalNode,t)||null!=t&&t.hasAttribute(mc("focus-guard"))||k&&(wc(k.nodesRef.current,g).find(e=>{var n,r;return Ja(null==(n=e.context)?void 0:n.elements.floating,t)||Ja(null==(r=e.context)?void 0:r.elements.domReference,t)})||function(e,t){var n;let r=[],i=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;i;){const t=e.find(e=>e.id===i);i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(k.nodesRef.current,g).find(e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t})));if(c&&n&&Ga(Qa(L))===Qa(L).body){Ea(L)&&L.focus();const e=M.current,t=V(),n=t[e]||t[t.length-1]||L;Ea(n)&&n.focus()}!x&&u||!t||!n||R.current||t===Vc()||(N.current=!0,v(!1,e,"focus-out"))})}},[r,_,w,L,u,g,k,T,v,h,c,V,x]),s.useEffect(()=>{var e;if(r)return;const t=Array.from((null==T||null==(e=T.portalNode)?void 0:e.querySelectorAll("["+mc("portal")+"]"))||[]);if(w){const e=[w,...t,I.current,j.current,E.current.includes("reference")||x?_:null].filter(e=>null!=e),n=u||x?Ac(e,P,!P):Ac(e);return()=>{n()}}},[r,_,w,u,E,T,x,P]),lc(()=>{if(r||!Ea(L))return;const e=Ga(Qa(L));queueMicrotask(()=>{const t=z(L),n=O.current,r=("number"==typeof n?t[n]:n.current)||L,i=Ja(L,e);S||i||!f||_c(r,{preventScroll:r===L})})},[r,f,L,S,z,O]),lc(()=>{if(r||!L)return;let e=!1;const t=Qa(L),n=Ga(t);let i=b.current.openEvent;function o(t){let{open:n,reason:r,event:o,nested:s}=t;n&&(i=o),"escape-key"===r&&p.domReference.current&&Fc(p.domReference.current),"hover"===r&&"mouseleave"===o.type&&(N.current=!0),"outside-press"===r&&(s?(N.current=!1,e=!0):N.current=!(function(e){return!(0!==e.mozInputSource||!e.isTrusted)||($a()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}(o)||Ya(o)))}Fc(n),m.on("openchange",o);const s=t.createElement("span");return s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),Object.assign(s.style,jc),D&&_&&_.insertAdjacentElement("afterend",s),()=>{m.off("openchange",o);const n=Ga(t),r=Ja(w,n)||k&&wc(k.nodesRef.current,g).some(e=>{var t;return Ja(null==(t=e.context)?void 0:t.elements.floating,n)});(r||i&&["click","mousedown"].includes(i.type))&&p.domReference.current&&Fc(p.domReference.current);const a="boolean"==typeof A.current?Vc()||s:A.current.current||s;queueMicrotask(()=>{A.current&&!N.current&&Ea(a)&&(a===n||n===t.body||r)&&a.focus({preventScroll:e}),s.remove()})}},[r,w,L,A,b,p,m,k,g,D,_]),s.useEffect(()=>{queueMicrotask(()=>{N.current=!1})},[r]),lc(()=>{if(!r&&T)return T.setFocusManagerState({modal:u,closeOnFocusOut:h,open:f,onOpenChange:v,refs:p}),()=>{T.setFocusManagerState(null)}},[r,T,u,f,v,p,h]),lc(()=>{if(r)return;if(!L)return;if("function"!=typeof MutationObserver)return;if(S)return;const e=()=>{const e=L.getAttribute("tabindex"),t=V(),n=Ga(Qa(w)),r=t.indexOf(n);-1!==r&&(M.current=r),E.current.includes("floating")||n!==p.domReference.current&&0===t.length?"0"!==e&&L.setAttribute("tabindex","0"):"-1"!==e&&L.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(L,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[r,w,L,p,E,V,S]);const B=!r&&P&&(!u||!x)&&(D||u);return s.createElement(s.Fragment,null,B&&s.createElement(Rc,{"data-type":"inside",ref:null==T?void 0:T.beforeInsideRef,onFocus:e=>{if(u){const e=z();_c("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=T&&T.preserveTabOrder&&T.portalNode)if(N.current=!1,Ic(e,T.portalNode)){const e=Tc(document.body,"next")||_;null==e||e.focus()}else{var t;null==(t=T.beforeOutsideRef.current)||t.focus()}}}),!x&&H("start"),n,H("end"),B&&s.createElement(Rc,{"data-type":"inside",ref:null==T?void 0:T.afterInsideRef,onFocus:e=>{if(u)_c(z()[0]);else if(null!=T&&T.preserveTabOrder&&T.portalNode)if(h&&(N.current=!0),Ic(e,T.portalNode)){const e=Tc(document.body,"prev")||_;null==e||e.focus()}else{var t;null==(t=T.afterOutsideRef.current)||t.focus()}}}))}function Bc(e){return Ea(e.target)&&"BUTTON"===e.target.tagName}function Kc(e){return nl(e)}const Wc={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},qc={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Uc=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function Gc(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=fc(),o=s.useRef({}),[a]=s.useState(()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==n))||[])}}}()),l=null!=((null==(c=s.useContext(pc))?void 0:c.id)||null);var c;const[u,d]=s.useState(r.reference),h=ac((e,t,r)=>{o.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),f=s.useMemo(()=>({setPositionReference:d}),[]),p=s.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return s.useMemo(()=>({dataRef:o,open:t,onOpenChange:h,elements:p,events:a,floatingId:i,refs:f}),[t,h,p,a,i,f])}function Jc(e){void 0===e&&(e={});const{nodeId:t}=e,n=Gc({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,l]=s.useState(null),[c,u]=s.useState(null),d=(null==i?void 0:i.domReference)||o,h=s.useRef(null),f=vc();lc(()=>{d&&(h.current=d)},[d]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,f]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=s.useState(r);tc(p,r)||g(r);const[v,m]=s.useState(null),[b,y]=s.useState(null),_=s.useCallback(e=>{e!==C.current&&(C.current=e,m(e))},[]),w=s.useCallback(e=>{e!==P.current&&(P.current=e,y(e))},[]),S=o||v,x=l||b,C=s.useRef(null),P=s.useRef(null),E=s.useRef(h),O=null!=u,A=ic(u),k=ic(i),T=ic(d),I=s.useCallback(()=>{if(!C.current||!P.current)return;const e={placement:t,strategy:n,middleware:p};k.current&&(e.platform=k.current),Ql(C.current,P.current,e).then(e=>{const t={...e,isPositioned:!1!==T.current};j.current&&!tc(E.current,t)&&(E.current=t,a.flushSync(()=>{f(t)}))})},[p,t,n,k,T]);ec(()=>{!1===d&&E.current.isPositioned&&(E.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[d]);const j=s.useRef(!1);ec(()=>(j.current=!0,()=>{j.current=!1}),[]),ec(()=>{if(S&&(C.current=S),x&&(P.current=x),S&&x){if(A.current)return A.current(S,x,I);I()}},[S,x,I,A,O]);const N=s.useMemo(()=>({reference:C,floating:P,setReference:_,setFloating:w}),[_,w]),R=s.useMemo(()=>({reference:S,floating:x}),[S,x]),M=s.useMemo(()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=rc(R.floating,h.x),r=rc(R.floating,h.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...nc(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,c,R.floating,h.x,h.y]);return s.useMemo(()=>({...h,update:I,refs:N,elements:R,floatingStyles:M}),[h,I,N,R,M])}({...e,elements:{...i,...c&&{reference:c}}}),g=s.useCallback(e=>{const t=Pa(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u(t),p.refs.setReference(t)},[p.refs]),v=s.useCallback(e=>{(Pa(e)||null===e)&&(h.current=e,l(e)),(Pa(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!Pa(e))&&p.refs.setReference(e)},[p.refs]),m=s.useMemo(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:h}),[p.refs,v,g]),b=s.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),y=s.useMemo(()=>({...p,...r,refs:m,elements:b,nodeId:t}),[p,m,b,t,r]);return lc(()=>{r.dataRef.current.floatingContext=y;const e=null==f?void 0:f.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),s.useMemo(()=>({...p,context:y,refs:m,elements:b}),[p,m,b,y])}const Xc="active",Yc="selected";function $c(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[Xc]:t,[Yc]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[Dc]:""},...o,...t.map(t=>{const r=t?t[n]:null;return"function"==typeof r?e?r(e):null:r}).concat(e).reduce((e,t)=>t?(Object.entries(t).forEach(t=>{let[n,o]=t;var s;i&&[Xc,Yc].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(s=r.get(n))||s.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)})):e[n]=o)}),e):e,{})}}function Zc(){return e.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.589893 7.715C0.724893 7.52 3.91989 3 7.99989 3C12.0799 3 15.2749 7.52 15.4099 7.715L15.6099 8L15.4099 8.285C15.2749 8.48 12.0799 13 7.99989 13C3.91989 13 0.724893 8.48 0.589893 8.285L0.389893 8L0.589893 7.715ZM1.62489 8C2.37489 8.96 4.98989 12 7.99989 12C11.0099 12 13.6249 8.96 14.3749 8C13.6249 7.04 11.0099 4 7.99989 4C4.98989 4 2.37489 7.04 1.62489 8ZM5.5 8C5.5 6.62 6.62 5.5 8 5.5C9.38 5.5 10.5 6.62 10.5 8C10.5 9.38 9.38 10.5 8 10.5C6.62 10.5 5.5 9.38 5.5 8ZM6.5 8C6.5 8.825 7.175 9.5 8 9.5C8.825 9.5 9.5 8.825 9.5 8C9.5 7.175 8.825 6.5 8 6.5C7.175 6.5 6.5 7.175 6.5 8Z",fill:"currentColor"})})}function Qc(r){var i;const{visibleLength:o}=r,[a,l]=t.useState(!1),[c,u]=t.useState(0),{refs:d,floatingStyles:h,context:f,update:p}=Jc({open:a,placement:"bottom-end",strategy:"fixed",onOpenChange:l,middleware:[(g={apply(e){let{availableHeight:t}=e;n.flushSync(()=>{u(t)})}},{...Zl(g),options:[g,v]})],transform:!1});var g,v;t.useEffect(()=>{if(a&&d.reference.current&&d.floating.current)return $l(d.reference.current,d.floating.current,p)},[a,d.reference,d.floating,p]);const m=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:a=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:f=!1,bubbles:p,capture:g}=t,v=vc(),m=ac("function"==typeof c?c:()=>!1),b="function"==typeof c?m:c,y=s.useRef(!1),_=s.useRef(!1),{escapeKey:w,outsidePress:S}=Uc(p),{escapeKey:x,outsidePress:C}=Uc(g),P=s.useRef(!1),E=ac(e=>{var t;if(!n||!a||!l||"Escape"!==e.key)return;if(P.current)return;const i=null==(t=o.current.floatingContext)?void 0:t.nodeId,s=v?wc(v.nodesRef.current,i):[];if(!w&&(e.stopPropagation(),s.length>0)){let e=!0;if(s.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)}),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")}),O=ac(e=>{var t;const n=()=>{var t;E(e),null==(t=tl(e))||t.removeEventListener("keydown",n)};null==(t=tl(e))||t.addEventListener("keydown",n)}),A=ac(e=>{var t;const n=y.current;y.current=!1;const s=_.current;if(_.current=!1,"click"===u&&s)return;if(n)return;if("function"==typeof b&&!b(e))return;const a=tl(e),l="["+mc("inert")+"]",c=Qa(i.floating).querySelectorAll(l);let d=Pa(a)?a:null;for(;d&&!za(d);){const e=Ka(d);if(za(e)||!Pa(e))break;d=e}if(c.length&&Pa(a)&&!a.matches("html,body")&&!Ja(a,i.floating)&&Array.from(c).every(e=>!Ja(d,e)))return;if(Ea(a)&&I){const t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,n=a.clientHeight>0&&a.scrollHeight>a.clientHeight;let r=n&&e.offsetX>a.clientWidth;if(n&&"rtl"===Ha(a).direction&&(r=e.offsetX<=a.offsetWidth-a.clientWidth),r||t&&e.offsetY>a.clientHeight)return}const h=null==(t=o.current.floatingContext)?void 0:t.nodeId,f=v&&wc(v.nodesRef.current,h).some(t=>{var n;return el(e,null==(n=t.context)?void 0:n.elements.floating)});if(el(e,i.floating)||el(e,i.domReference)||f)return;const p=v?wc(v.nodesRef.current,h):[];if(p.length>0){let e=!0;if(p.forEach(t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)}),!e)return}r(!1,e,"outside-press")}),k=ac(e=>{var t;const n=()=>{var t;A(e),null==(t=tl(e))||t.removeEventListener(u,n)};null==(t=tl(e))||t.addEventListener(u,n)});s.useEffect(()=>{if(!n||!a)return;o.current.__escapeKeyBubbles=w,o.current.__outsidePressBubbles=S;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function s(){window.clearTimeout(e),P.current=!0}function c(){e=window.setTimeout(()=>{P.current=!1},Fa()?5:0)}const d=Qa(i.floating);l&&(d.addEventListener("keydown",x?O:E,x),d.addEventListener("compositionstart",s),d.addEventListener("compositionend",c)),b&&d.addEventListener(u,C?k:A,C);let h=[];return f&&(Pa(i.domReference)&&(h=qa(i.domReference)),Pa(i.floating)&&(h=h.concat(qa(i.floating))),!Pa(i.reference)&&i.reference&&i.reference.contextElement&&(h=h.concat(qa(i.reference.contextElement)))),h=h.filter(e=>{var t;return e!==(null==(t=d.defaultView)?void 0:t.visualViewport)}),h.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{l&&(d.removeEventListener("keydown",x?O:E,x),d.removeEventListener("compositionstart",s),d.removeEventListener("compositionend",c)),b&&d.removeEventListener(u,C?k:A,C),h.forEach(e=>{e.removeEventListener("scroll",t)}),window.clearTimeout(e)}},[o,i,l,b,u,n,r,f,a,w,S,E,x,O,A,C,k]),s.useEffect(()=>{y.current=!1},[b,u]);const T=s.useMemo(()=>({onKeyDown:E,[Wc[h]]:e=>{d&&r(!1,e.nativeEvent,"reference-press")}}),[E,r,d,h]),I=s.useMemo(()=>({onKeyDown:E,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[qc[u]]:()=>{y.current=!0}}),[E,u]);return s.useMemo(()=>a?{reference:T,floating:I}:{},[a,T,I])}(f),b=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:a=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0,stickIfOpen:h=!0}=t,f=s.useRef(),p=s.useRef(!1),g=s.useMemo(()=>({onPointerDown(e){f.current=e.pointerType},onMouseDown(e){const t=f.current;0===e.button&&"click"!==l&&(Za(t,!0)&&u||(!n||!c||i.current.openEvent&&h&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=f.current;"mousedown"===l&&f.current?f.current=void 0:Za(t,!0)&&u||(!n||!c||i.current.openEvent&&h&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){f.current=void 0,e.defaultPrevented||!d||Bc(e)||(" "!==e.key||Kc(o)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||Bc(e)||Kc(o)||" "===e.key&&p.current&&(p.current=!1,r(!n||!c,e.nativeEvent,"click"))}}),[i,o,l,u,d,r,n,h,c]);return s.useMemo(()=>a?{reference:g}:{},[a,g])}(f),{getReferenceProps:y,getFloatingProps:_}=function(e){void 0===e&&(e=[]);const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),i=s.useCallback(t=>$c(t,e,"reference"),t),o=s.useCallback(t=>$c(t,e,"floating"),n),a=s.useCallback(t=>$c(t,e,"item"),r);return s.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:a}),[i,o,a])}([b,m]),w=null!==(i=r.label)&&void 0!==i?i:"Column selector",S=t.useMemo(()=>r.columns.findIndex(e=>e.canHide),[r.columns]),x=t.useMemo(()=>r.columns.map(e=>e.canHide).lastIndexOf(!0),[r.columns]),C=e.jsx("ul",{ref:d.setFloating,id:"".concat(r.id,"-column-selectors"),className:"column-selectors","data-focusindex":0,role:"menu",style:{...h,maxHeight:c},..._(),children:r.columns.map((t,n)=>{const i=!t.isHidden,s=i&&1===o,a=()=>{s||t.toggleHidden()};return t.canHide?e.jsxs("li",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),e.stopPropagation(),a()):("Tab"===e.key&&(n===x||e.shiftKey&&n===S)||"Escape"===e.key)&&(e.preventDefault(),l(!1))},role:"menuitem",tabIndex:0,children:[e.jsx("input",{checked:i,disabled:s,id:"".concat(r.id,"_checkbox_toggle_").concat(n),style:{pointerEvents:"none"},type:"checkbox",tabIndex:-1,onChange:eu}),e.jsx("label",{htmlFor:"".concat(r.id,"_checkbox_toggle_").concat(n),style:{pointerEvents:"none"},children:t.header.trim()||"<...>"})]},t.columnId):null})});return e.jsxs("div",{"aria-label":w,className:"th column-selector",role:"columnheader",title:w,children:[e.jsx("div",{className:"column-selector-content",children:e.jsx("button",{"aria-label":w,ref:d.setReference,className:"btn btn-default column-selector-button",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation())},...y(),"aria-haspopup":!0,"aria-expanded":a,"aria-controls":"".concat(r.id,"-column-selectors"),children:e.jsx(Zc,{})})}),a&&e.jsx(Hc,{context:f,modal:!1,children:C})]})}function eu(){}function tu(){return e.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"svg-inline--fa fa-long-arrow-alt-down fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512",children:e.jsx("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"})})}function nu(){return e.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-up",className:"svg-inline--fa fa-long-arrow-alt-up fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512",children:e.jsx("path",{fill:"currentColor",d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"})})}function ru(){return e.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrows-alt-v",className:"svg-inline--fa fa-arrows-alt-v fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512",children:e.jsx("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"})})}function iu(n){var r,i,o,s,a;const l=n.sortable&&n.column.canSort,c=function(e,n,r,i,o,s){const a=t.useCallback(e=>{var t,n,r;const i=e.target.closest(".th"),o=null!==(t=i.dataset.columnId)&&void 0!==t?t:"",a=null===(n=i.previousElementSibling)||void 0===n||null===(n=n.dataset)||void 0===n?void 0:n.columnId,l=null===(r=i.nextElementSibling)||void 0===r||null===(r=r.dataset)||void 0===r?void 0:r.columnId;s([a,o,l])},[s]),l=t.useCallback(e=>{if(!o)return;const t=e.currentTarget.dataset.columnId;if(!t)return;e.preventDefault();const[n,s,a]=o;if(t===s)return void(void 0!==r&&i(void 0));let l;if(t===n)l=!1;else if(t===a)l=!0;else{const t=e.currentTarget.getBoundingClientRect();l=t.width/2+("after"===(null==r?void 0:r[1])?-10:10)<e.clientX-t.left}const c=l?"after":"before";t===(null==r?void 0:r[0])&&c===(null==r?void 0:r[1])||i([t,c])},[o,r,i]),c=t.useCallback(e=>{e.preventDefault()},[]),u=t.useCallback(()=>{s(void 0),i(void 0)},[i,s]),d=t.useCallback(e=>{u(),o&&r&&n(o[1],r)},[u,n,o,r]);return e?{draggable:!0,onDragStart:a,onDragOver:l,onDrop:d,onDragEnter:c,onDragEnd:u}:{}}(n.draggable&&null!==(r=n.column.canDrag)&&void 0!==r&&r,n.swapColumns,n.dropTarget,n.setDropTarget,n.isDragging,n.setIsDragging),u=l?function(t){switch(t.sortDir){case"asc":return e.jsx(nu,{});case"desc":return e.jsx(tu,{});default:return e.jsx(ru,{})}}(n.column):null,d=l?(h=n.column,{onClick:()=>{h.toggleSort()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h.toggleSort())},role:"button",tabIndex:0}):null;var h;const f=n.column.header.trim();return e.jsxs("div",{"aria-sort":ou(l,n.column),className:wi("th",{"hidden-column-preview":n.preview&&(!n.column.isAvailable||n.hidable&&n.column.isHidden)},{["drop-".concat(null===(i=n.dropTarget)||void 0===i?void 0:i[1])]:n.column.columnId===(null===(o=n.dropTarget)||void 0===o?void 0:o[0]),dragging:n.column.columnId===(null===(s=n.isDragging)||void 0===s?void 0:s[1]),"dragging-over-self":n.column.columnId===(null===(a=n.isDragging)||void 0===a?void 0:a[1])&&!n.dropTarget}),role:"columnheader",style:l?void 0:{cursor:"unset"},title:f,ref:e=>n.column.setHeaderElementRef(e),"data-column-id":n.column.columnId,onDrop:c.onDrop,onDragEnter:c.onDragEnter,onDragOver:c.onDragOver,children:[e.jsxs("div",{className:wi("column-container"),id:"".concat(n.gridId,"-column").concat(n.column.columnId),draggable:c.draggable,onDragStart:c.onDragStart,onDragEnd:c.onDragEnd,children:[e.jsxs("div",{className:wi("column-header",{clickable:l},n.className),style:{pointerEvents:n.isDragging?"none":void 0},...d,"aria-label":l?"sort "+f:f,children:[e.jsx("span",{children:f.length>0?f:""}),u]}),n.filterable&&n.filterWidget]}),n.resizable&&n.column.canResize&&n.resizer]})}function ou(e,t){if(e)switch(t.sortDir){case"asc":return"ascending";case"desc":return"descending";default:return"none"}}function su(t){let{size:n}=t;return e.jsx("div",{className:"tr",role:"row",children:Array.from({length:n}).map((t,n)=>e.jsx("div",{className:"th",role:"columnheader",children:e.jsx("div",{className:"column-container",children:e.jsx("div",{className:"column-header align-column-left",children:e.jsx("span",{children:e.jsx(ua,{})})})})},n))},"headers_row")}function au(n){let{availableColumns:r,columns:i,setIsResizing:o,columnsDraggable:s,columnsFilterable:a,columnsHidable:l,columnsResizable:c,columnsSortable:u,columnsSwap:d,filterRenderer:h,headerWrapperRenderer:f,id:p,isLoading:g,preview:v}=n;const[m,b]=t.useState(void 0),[y,_]=t.useState(),w=t.useCallback(t=>e.jsx("div",{className:"filter",style:{pointerEvents:y?"none":void 0},children:t}),[y]);return g?e.jsx(su,{size:i.length}):e.jsx("div",{className:"widget-datagrid-grid-head",role:"rowgroup",children:e.jsxs("div",{className:"tr",role:"row",children:[e.jsx(va,{},"headers_column_select_all"),i.map((t,n)=>f(n,e.jsx(iu,{className:"align-column-".concat(t.alignment),gridId:p,column:t,draggable:s,dropTarget:m,filterable:a,filterWidget:h(w,t.columnIndex),hidable:l,isDragging:y,preview:v,resizable:c&&i.at(-1)!==t,resizer:e.jsx(ya,{onResizeStart:()=>o(!0),onResizeEnds:()=>o(!1),setColumnWidth:e=>t.setSize(e)}),swapColumns:d,setDropTarget:b,setIsDragging:_,sortable:u},"".concat(t.columnId)))),l&&e.jsx(Qc,{columns:r,id:p,visibleLength:i.length},"headers_column_selector")]},"headers_row")})}function lu(t){let{item:n,rowIndex:r,lastRow:i,...o}=t;const s=gi({columnIndex:0,rowIndex:r}),{selectActionHelper:a,checkboxEventsController:l}=la(),{selectRowLabel:c,gridInteractive:u}=Ys();return e.jsx(xi,{...o,clickable:u,className:"widget-datagrid-col-select",tabIndex:-1,children:e.jsx("input",{checked:a.isSelected(n),type:"checkbox",tabIndex:s.tabIndex,"data-position":s["data-position"],onChange:uu,onFocus:i?cu:void 0,ref:s.ref,"aria-label":"".concat(null!=c?c:"Select row"," ").concat(r+1),...l.getProps(n)})})}function cu(e){var t;"function"==typeof(null===(t=e.target.parentElement)||void 0===t?void 0:t.scrollIntoView)&&e.target.parentElement.scrollIntoView(!1)}function uu(){}function du(t){const{CellComponent:n,selectActionHelper:r,preview:i,totalRows:o,eventsController:s}=t,a=r.isSelected(t.item),l="None"===r.selectionType?void 0:a,c=0===t.index;return e.jsxs("div",{className:wi("tr",{"tr-selected":a,"tr-preview":i},t.className),role:"row","aria-selected":l,children:[r.showCheckboxColumn&&e.jsx(lu,{item:t.item,borderTop:c,rowIndex:t.index,lastRow:t.index===o-1},"checkbox_cell"),t.columns.map((o,a)=>{var l;const c=e.jsx(n,{column:o,rowIndex:t.index,columnIndex:r.showCheckboxColumn?a+1:a,item:t.item,clickable:t.clickable,preview:i,eventsController:s},"row_".concat(t.item.id,"_col_").concat(o.columnId));return i?null===(l=t.selectableWrapper)||void 0===l?void 0:l.call(t,a,c):c}),t.showSelectorCell&&e.jsx(ca,{borderTop:c,clickable:t.clickable,tabIndex:-1},"column_selector_cell")]})}function hu(t){return e.jsx(pi,{focusController:t.focusController,children:t.rows.map((n,r)=>{var i;return e.jsx(du,{totalRows:t.rows.length,clickable:t.interactive,selectActionHelper:t.selectActionHelper,preview:t.preview,eventsController:t.eventsController,CellComponent:t.Cell,className:null===(i=t.rowClass)||void 0===i?void 0:i.call(t,n),columns:t.columns,index:r,item:n,showSelectorCell:t.columnsHidable,selectableWrapper:t.selectableWrapper},"row_".concat(n.id))})})}function fu(t){let{children:n,className:r}=t;return e.jsx("div",{className:wi("widget-datagrid-content",r),children:n})}function pu(n){let{condition:r,children:i}=n;return r?e.jsx(t.Fragment,{children:i}):null}const[gu]=Zr(ps.selectionCounterVM),vu=ui(function(){const t=gu(),{selectActionHelper:n}=la();return e.jsxs("div",{className:"widget-datagrid-selection-counter",children:[e.jsx("span",{className:"widget-datagrid-selection-text","aria-live":"polite","aria-atomic":"true",children:t.selectedCountText}),"|",e.jsx("button",{className:"widget-datagrid-btn-link",onClick:n.onClearSelection,children:t.clearButtonLabel})]})}),mu=ui(function(t){const{pagination:n,paginationType:r,loadMoreButtonCaption:i,hasMoreItems:o,setPage:s,...a}=t,l=gu();return e.jsx("div",{...a,className:"widget-datagrid-footer table-footer",children:e.jsxs("div",{className:"widget-datagrid-paging-bottom",children:[e.jsx("div",{className:"widget-datagrid-pb-start",children:e.jsx(pu,{condition:l.isBottomCounterVisible,children:e.jsx(vu,{})})}),o&&"loadMore"===r&&e.jsx("div",{className:"widget-datagrid-pb-middle",children:e.jsx("button",{className:"btn btn-primary widget-datagrid-load-more",onClick:()=>s&&s(e=>e+1),tabIndex:0,children:i})}),e.jsx("div",{className:"widget-datagrid-pb-end",children:n})]})})});function bu(t){const{children:n,headerTitle:r,...i}=t;return n?e.jsx("div",{...i,className:"widget-datagrid-header header-filters","aria-label":r||void 0,children:n}):null}const yu=ui(function(n){const r=t.useRef(null),{className:i,selectionMethod:o,selection:s,exporting:a,children:l,...c}=n,{isOpen:u}=vs(),d=t.useMemo(()=>{const e={...n.style};return(a||u)&&r.current&&(e.height=r.current.offsetHeight),e},[n.style,a,u]);return e.jsx("div",{...c,ref:r,style:d,className:wi(i,"widget-datagrid",{"widget-datagrid-exporting":a,"widget-datagrid-selecting-all-pages":u,"widget-datagrid-selectable-rows":s,"widget-datagrid-selection-method-checkbox":s&&"checkbox"===o,"widget-datagrid-selection-method-click":s&&"rowClick"===o}),children:l})}),_u=ui(function(t){const{pagination:n,...r}=t,i=gu();return e.jsx("div",{...r,className:"widget-datagrid-top-bar table-header",children:e.jsxs("div",{className:"widget-datagrid-padding-top",children:[e.jsx("div",{className:"widget-datagrid-tb-start",children:e.jsx(pu,{condition:i.isTopCounterVisible,children:e.jsx(vu,{})})}),e.jsx("div",{className:"widget-datagrid-tb-end",children:e.jsx(pu,{condition:!!n,children:n})})]})})}),wu=ui(t=>{var n,r;const{className:i,exporting:o,numberOfItems:s,onExportCancel:a,selectActionHelper:l}=t,c=Ys(),u="None"!==l.selectionType;return e.jsxs(yu,{className:i,selectionMethod:l.selectionMethod,selection:u,style:t.styles,exporting:o,children:[e.jsx(Su,{...t,data:o?[]:t.data}),e.jsx(Xs,{}),o&&e.jsx(ia,{alertLabel:null!==(n=c.exportDialogLabel)&&void 0!==n?n:"Export progress",cancelLabel:null!==(r=c.cancelExportLabel)&&void 0!==r?r:"Cancel data export",failed:!1,onCancel:a,open:o,progress:t.processedRows,total:s})]})}),Su=ui(n=>{var r;const{CellComponent:i,columnsHidable:o,data:s,emptyPlaceholderRenderer:a,hasMoreItems:l,headerContent:c,headerTitle:u,loadMoreButtonCaption:d,numberOfItems:h,page:f,pageSize:p,paginationType:g,paging:v,pagingPosition:m,preview:b,showRefreshIndicator:y,selectActionHelper:_,setPage:w,visibleColumns:S}=n,x=Ys(),C=!!c,P=v&&("top"===m||"both"===m),E=v&&("bottom"===m||"both"===m),O=v?e.jsx(Oi,{canNextPage:l,canPreviousPage:0!==f,gotoPage:e=>w&&w(()=>e),nextPage:()=>w&&w(e=>e+1),numberOfItems:h,page:f,pageSize:p,showPagingButtons:n.showPagingButtons,previousPage:()=>w&&w(e=>e-1),pagination:g}):null,A=function(e,t){const n=e.map(e=>e.getCssWidth()),r=[];t.selectItemColumn&&r.push("48px");r.push(...n),t.visibilitySelectorColumn&&r.push("54px");return{gridTemplateColumns:r.join(" ")}}(S,{selectItemColumn:_.showCheckboxColumn,visibilitySelectorColumn:o}),k="None"!==_.selectionType;return e.jsxs(t.Fragment,{children:[e.jsx(_u,{pagination:P?O:void 0}),C&&e.jsx(bu,{headerTitle:u,children:c}),e.jsx(fu,{children:e.jsxs(oa,{"aria-multiselectable":k?"Multi"===_.selectionType:void 0,style:A,children:[e.jsx(au,{availableColumns:n.availableColumns,columns:S,setIsResizing:n.setIsResizing,columnsDraggable:n.columnsDraggable,columnsFilterable:n.columnsFilterable,columnsHidable:n.columnsHidable,columnsResizable:n.columnsResizable,columnsSortable:n.columnsSortable,columnsSwap:n.columnsSwap,filterRenderer:n.filterRenderer,headerWrapperRenderer:n.headerWrapperRenderer,id:n.id,isLoading:n.columnsLoading,preview:n.preview}),e.jsx(ms,{}),y?e.jsx(Pi,{}):null,e.jsxs(fa,{isFirstLoad:n.isFirstLoad,isFetchingNextBatch:n.isFetchingNextBatch,loadingType:n.loadingType,columnsHidable:o,columnsSize:S.length,rowsSize:s.length,pageSize:p,pagination:n.paginationType,hasMoreItems:l,setPage:w,children:[e.jsx(hu,{preview:null!==(r=n.preview)&&void 0!==r&&r,interactive:x.gridInteractive,Cell:i,columns:S,columnsHidable:o,rows:s,rowClass:n.rowClass,selectableWrapper:n.headerWrapperRenderer,selectActionHelper:_,focusController:n.focusController,eventsController:n.cellEventsController,pageSize:n.pageSize}),(0===s.length||b)&&a&&a(t=>e.jsx("div",{className:wi("td",{"td-borders":!b}),style:{gridColumn:"span ".concat(S.length+(o?1:0)+(_.showCheckboxColumn?1:0))},children:e.jsx("div",{className:"empty-placeholder",children:t})},"row-footer"))]})]})}),e.jsx(mu,{pagination:E?O:void 0,paginationType:g,loadMoreButtonCaption:d,hasMoreItems:l,setPage:w})]})});const xu=null!==(Pu=(Cu=window)[Kr])&&void 0!==Pu?Pu:Cu[Kr]=t.createContext(void 0);var Cu,Pu;const Eu=Di();const Ou=t.memo(function(n){const r=Qs(),i=(o=n.selectionHelper,t.useMemo(()=>{if("Multi"===(null==o?void 0:o.type))return o},[o]));var o;return e.jsx(Eu.Provider,{value:r,children:e.jsx(xu.Provider,{value:i,children:n.children})})});Ou.displayName="WidgetHeaderContext";const Au=Ou;let ku=()=>({emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let t=this.events[e]||[],r=0,i=t.length;r<i;r++)t[r](...n)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var n;this.events[e]=null===(n=this.events[e])||void 0===n?void 0:n.filter(e=>t!==e)}}});class Tu{constructor(e){_defineProperty(this,"_status","idle"),_defineProperty(this,"datasource",void 0),_defineProperty(this,"columns",void 0),_defineProperty(this,"offset",0),_defineProperty(this,"loaded",0),_defineProperty(this,"limit",10),_defineProperty(this,"totalCount",void 0),_defineProperty(this,"shouldSendHeaders",!1),_defineProperty(this,"emitter",void 0),_defineProperty(this,"getters",[]),_defineProperty(this,"readController",void 0),_defineProperty(this,"send",()=>(this.emitLoadStart(),this._status="awaiting",this.offset=0,this.datasource.setLimit(this.limit),this.datasource.setOffset(this.offset),this.datasource.reload(),new Promise(e=>this.on("loadend",()=>e())))),_defineProperty(this,"abort",()=>{var e;this._status="aborted",null===(e=this.readController)||void 0===e||e.abort(),this.emitAbort(),this.emitLoadEnd(),this.dispose()}),_defineProperty(this,"onsourcechange",e=>{const t=e.offset===this.offset&&e.limit===this.limit&&"available"===e.status;"awaiting"===this._status&&t&&(this.datasource=e,this.shouldSendHeaders&&(this.sendHeaders(),this.shouldSendHeaders=!1),this.read())}),_defineProperty(this,"onpropertieschange",e=>{"reading"===this._status&&(this.columns=e,this.getters=this.getGetters(e),this.read())});const{ds:t,columns:n,withHeaders:r=!1,limit:i=0}=e;this.limit=Math.max(i,this.limit),this.emitter=ku(),this.datasource=t,this.totalCount=t.totalCount,this.columns=n,this.getters=this.getGetters(n),this.shouldSendHeaders=r}get status(){return this._status}on(e,t){return this.emitter.on(e,t)}emitLoadStart(){this.emitter.emit("loadstart",this.createProgressEvent("loadstart"))}emitHeaders(e){this.emitter.emit("headers",e)}emitData(e){this.emitter.emit("data",e)}emitProgress(){this.emitter.emit("progress",this.createProgressEvent("progress"))}emitAbort(){this.emitter.emit("abort",this.createProgressEvent("abort"))}emitEnd(){this.emitter.emit("end",this.createProgressEvent("end"))}emitLoadEnd(){this.emitter.emit("loadend",this.createProgressEvent("loadend"))}createProgressEvent(e){return new ProgressEvent(e,{lengthComputable:"number"==typeof this.totalCount,loaded:this.loaded,total:this.totalCount})}sendHeaders(){const e=this.columns.map(e=>{var t,n,r,i,o;return{name:e.header&&(o=e.header,o&&"available"===o.status&&o.value)&&null!==(t=null===(n=e.header.value)||void 0===n?void 0:n.toString())&&void 0!==t?t:"",type:null!==(r=null===(i=e.attribute)||void 0===i?void 0:i.type.toString())&&void 0!==r?r:""}});this.emitHeaders(e)}async read(){this._status="reading",this.readController&&(this.readController.abort(),this.readController=void 0);const{items:e=[]}=this.datasource,t=function(){if("scheduler"in window)return{yield:async()=>window.scheduler.yield()};return{yield:async()=>new Promise(e=>setTimeout(e))}}(),n=new AbortController;this.readController=n;const r=e.length;let i=!0,o=0;for(;o<r&&!n.signal.aborted;){const n=Math.min(o+100,r);for(;o<n;o++)for(const t of this.getters)i&&(i="loading"!==t.get(e[o]).status);await t.yield()}this.readController=void 0,i&&!n.signal.aborted&&this.finalizeRead(e)}finalizeRead(e){const t=(n=e,r=this.columns,n.map(function(e){return t=>e.map(e=>Iu[e.showContentAs](t,e))}(r)));var n,r;this.sendChunk(t),this.datasource.hasMoreItems?this.fetchNext():this.end()}sendChunk(e){this._status="sending",this.loaded+=e.length,this.emitData(e),this.emitProgress()}fetchNext(){this._status="awaiting",this.offset+=this.limit,this.datasource.setOffset(this.offset)}end(){this._status="end",this.emitEnd(),this.emitLoadEnd(),this.dispose()}dispose(){this.emitter.events={}}getGetters(e){return e.map(e=>{let t="attribute"===e.showContentAs?e.attribute:"dynamicText"===e.showContentAs?e.dynamicText:e.exportValue;return null!=t||(t={get:()=>({status:"available",value:"n/a"})}),t})}}const Iu={attribute(e,t){if(void 0===t.attribute)return"";const n=t.attribute.get(e);return"available"!==n.status?"":"boolean"==typeof n.value?n.value:n.value instanceof i?n.value.toNumber():n.displayValue},dynamicText(e,t){if(void 0===t.dynamicText)return"";const n=t.dynamicText.get(e);switch(n.status){case"available":return n.value;case"unavailable":return"n/a";default:return""}},customContent(e,t){var n,r;return null!==(n=null===(r=t.exportValue)||void 0===r?void 0:r.get(e).value)&&void 0!==n?n:""}};class ju{constructor(e){_defineProperty(this,"datasource",null),_defineProperty(this,"columns",[]),_defineProperty(this,"properties",[]),_defineProperty(this,"emitter",void 0),_defineProperty(this,"locked",!1),_defineProperty(this,"progressStore",void 0),_defineProperty(this,"oncolumnschange",e=>{!1===this.locked&&(this.columns=e)}),_defineProperty(this,"onsourcechange",e=>{this.datasource=e}),_defineProperty(this,"onpropertieschange",e=>{this.properties=e}),_defineProperty(this,"abort",()=>this.emitter.emit("abort")),this.progressStore=e,this.emitter=ku(),this.emitter.on("columnschange",this.oncolumnschange),this.emitter.on("propertieschange",this.onpropertieschange),this.emitter.on("sourcechange",this.onsourcechange)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.emitter.emit(e,...n)}connectProgress(e){e.on("loadstart",this.progressStore.onloadstart),e.on("progress",this.progressStore.onprogress);const t=this.emitter.on("exportend",()=>{this.progressStore.onloadend(),t()})}async exportData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===this.datasource)return void console.error("Export controller: datasource is missing.");0!==this.properties.length&&0!==this.columns.length||console.error("Export controller: no columns to export.");const n=this.createFilter(this.columns.slice()),r={offset:this.datasource.offset,limit:this.datasource.limit};this.locked=!0;let i=new Tu({ds:this.datasource,columns:n(this.properties),...t});this.connectProgress(i);const o=[this.emitter.on("sourcechange",i.onsourcechange),this.emitter.on("propertieschange",e=>{var t;return null===(t=i)||void 0===t?void 0:t.onpropertieschange(n(e))}),this.emitter.on("abort",i.abort)];e(i),await i.send(),o.forEach(e=>e()),i=null,this.datasource.setLimit(r.limit),this.datasource.setOffset(r.offset),this.datasource.reload();const s=this.emitter.on("sourcechange",e=>{e.limit===r.limit&&e.offset===r.offset&&(this.emitter.emit("exportend"),this.locked=!1,s())})}createFilter(e){const t=e=>"customContent"!==e.showContentAs||void 0!==e.exportValue;return n=>e.map(e=>n[e]).filter(t)}}const Nu="com.mendix.widgets.web.datagrid.export";function Ru(){var e,t;return null!==(t=(e=window)[Nu])&&void 0!==t?t:e[Nu]=new Map}function Mu(e,n,r){const[i]=t.useState(()=>function(e,t){return{key:e,controller:new ju(t)}}(e.name,r)),o=t.useCallback(()=>null==i?void 0:i.controller.abort(),[i]);return t.useEffect(()=>(function(e){Ru().set(e.key,e.controller)}(i),()=>{null==i||i.controller.abort(),function(e){if(!e)return;const t=Ru();t.get(e.key)===e.controller&&t.delete(e.key)}(i)}),[i]),t.useEffect(()=>{null==i||i.controller.emit("sourcechange",e.datasource)},[e.datasource,i]),t.useEffect(()=>{null==i||i.controller.emit("propertieschange",e.columns)},[e.columns,i]),t.useEffect(()=>{null==i||i.controller.emit("columnschange",n.visibleColumns.map(e=>e.columnIndex))},[n.visibleColumns,i]),[o]}function Du(e){return e.reduce((e,t)=>{var n,r,i,o,s,a;switch(t.eventName){case"onClick":e.onClick=null!==(n=e.onClick)&&void 0!==n?n:[],e.onClick.push(t);break;case"onDoubleClick":e.onDoubleClick=null!==(r=e.onDoubleClick)&&void 0!==r?r:[],e.onDoubleClick.push(t);break;case"onKeyDown":e.onKeyDown=null!==(i=e.onKeyDown)&&void 0!==i?i:[],e.onKeyDown.push(t);break;case"onKeyUp":e.onKeyUp=null!==(o=e.onKeyUp)&&void 0!==o?o:[],e.onKeyUp.push(t);break;case"onMouseDown":e.onMouseDown=null!==(s=e.onMouseDown)&&void 0!==s?s:[],e.onMouseDown.push(t);break;case"onFocus":e.onFocus=null!==(a=e.onFocus)&&void 0!==a?a:[],e.onFocus.push(t)}return e},{})}function Lu(e,t){const n=Du(t);return{onClick(t){var r;null===(r=n.onClick)||void 0===r||r.forEach(n=>Fu(e,t,n))},onDoubleClick(t){var r;null===(r=n.onDoubleClick)||void 0===r||r.forEach(n=>Fu(e,t,n))},onKeyUp(t){var r;null===(r=n.onKeyUp)||void 0===r||r.forEach(n=>Fu(e,t,n))},onKeyDown(t){var r;null===(r=n.onKeyDown)||void 0===r||r.forEach(n=>Fu(e,t,n))},onMouseDown(t){var r;null===(r=n.onMouseDown)||void 0===r||r.forEach(n=>Fu(e,t,n))},onFocus(t){var r;null===(r=n.onFocus)||void 0===r||r.forEach(n=>Fu(e,t,n))}}}function Fu(e,t,n){const r=e();(!n.filter||n.filter(r,t))&&n.handler(r,t)}const Vu=e=>({eventName:"onClick",filter:(e,t)=>"single"===e.clickTrigger&&"none"===e.selectionMethod||"single"===e.clickTrigger&&"checkbox"===e.selectionMethod&&!t.metaKey&&!t.ctrlKey,handler:t=>{let{item:n}=t;return e(n)}}),zu=e=>({eventName:"onDoubleClick",filter:(e,t)=>"none"===e.selectionMethod?"double"===e.clickTrigger:"double"===e.clickTrigger&&!t.metaKey&&!t.ctrlKey,handler:t=>{let{item:n}=t;return e(n)}}),Hu=(e,t)=>"Space"===t.code&&"none"!==e.clickTrigger?!t.shiftKey||"none"===e.selectionMethod:"Enter"===t.code&&"none"!==e.clickTrigger,Bu=e=>{let t=!1;return[{eventName:"onKeyDown",filter:Hu,handler:()=>t=!0},{eventName:"onKeyUp",filter:(e,n)=>Hu(e,n)&&t,handler:n=>{let{item:r}=n;t=!1,e(r)}}]};function Ku(e){return[Vu(e),zu(e),(t=e=>{e.preventDefault(),e.stopPropagation()},{eventName:"onKeyDown",filter:(e,t)=>function(e){return"Space"===e.code&&e.target===e.currentTarget}(t),handler:(e,n)=>t(n)}),...Bu(e)];var t}function Wu(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}function qu(){document.body.style.userSelect="none"}const Uu=()=>{Uu.timeoutId&&clearTimeout(Uu.timeoutId),Uu.timeoutId=window.setTimeout(()=>{Wu(),document.body.style.userSelect="",Uu.timeoutId=void 0},250)},Gu=e=>({eventName:"onClick",filter:(e,t)=>"rowClick"===e.selectionMethod?"single"!==e.clickTrigger:"checkbox"===e.selectionMethod&&(t.metaKey||t.ctrlKey),handler:(t,n)=>{let{item:r,selectionMode:i}=t,o=!1;o||(o="toggle"===i),o||(o=n.metaKey),o||(o=n.ctrlKey),e(r,n.shiftKey,o)}}),Ju=e=>({eventName:"onKeyUp",filter:(e,t)=>"none"!==e.selectionMethod&&function(e){return"Space"===e.code&&e.shiftKey}(t),handler:t=>{let{item:n}=t;return e(n,!1,!0)}});const Xu=e=>({eventName:"onClick",handler:(t,n)=>e({type:"Mouse",reactEvent:n})}),Yu=e=>({eventName:"onKeyDown",handler:(t,n)=>e({type:"Keyboard",reactEvent:n})}),$u=e=>({eventName:"onFocus",handler:(t,n)=>e({type:"Focus",reactEvent:n})});function Zu(e){return[Xu(e),Yu(e),$u(e)]}class Qu{constructor(e){_defineProperty(this,"entries",void 0),this.entries=e}getClickEntry(){const{onClick:e=[],onDoubleClick:t=[]}=Du(this.entries);let n=0;return{eventName:"onClick",handler:(r,i)=>{Date.now()-n>320?(e.forEach(e=>this.runEntry(e,r,i)),n=Date.now()):(t.forEach(e=>this.runEntry(e,r,i)),n=0)}}}runEntry(e,t,n){var r,i;(null===(r=null===(i=e.filter)||void 0===i?void 0:i.call(e,t,n))||void 0===r||r)&&e.handler(t,n)}}class ed{constructor(e,t,n,r,i,o){_defineProperty(this,"contextFactory",void 0),_defineProperty(this,"selectFx",void 0),_defineProperty(this,"selectAllFx",void 0),_defineProperty(this,"selectAdjacentFx",void 0),_defineProperty(this,"executeActionFx",void 0),_defineProperty(this,"focusTargetFx",void 0),this.contextFactory=e,this.selectFx=t,this.selectAllFx=n,this.selectAdjacentFx=r,this.executeActionFx=i,this.focusTargetFx=o}getProps(e){return Lu(()=>this.contextFactory(e),this.getEntries())}getEntries(){const e=[...(t=this.selectFx,n=this.selectAllFx,r=this.selectAdjacentFx,[(i=Wu,{eventName:"onMouseDown",filter:e=>"none"!==e.selectionMethod,handler:i}),Gu(t),Ju(t),zr(()=>{qu(),n("selectAll")},()=>Uu()),Br(r)].flat()),...Ku(this.executeActionFx),...Zu(this.focusTargetFx)];var t,n,r,i;const o=e.filter(e=>"onClick"===e.eventName||"onDoubleClick"===e.eventName),s=e.filter(e=>"onClick"!==e.eventName&&"onDoubleClick"!==e.eventName);return[new Qu(o).getClickEntry(),...s]}}const td=e=>({eventName:"onClick",filter:e=>"checkbox"===e.selectionMethod,handler:(t,n)=>{let{item:r}=t;return e(r,n.shiftKey,!0)}});function nd(e,t,n){return[td(e),...Br(n),...zr(()=>{qu(),t("selectAll")},()=>Uu())]}class rd{constructor(e,t,n,r,i){_defineProperty(this,"contextFactory",void 0),_defineProperty(this,"selectFx",void 0),_defineProperty(this,"selectAllFx",void 0),_defineProperty(this,"selectAdjacentFx",void 0),_defineProperty(this,"focusTargetFx",void 0),_defineProperty(this,"getProps",e=>Lu(()=>this.contextFactory(e),[...nd(this.selectFx,this.selectAllFx,this.selectAdjacentFx),...Zu(this.focusTargetFx)])),this.contextFactory=e,this.selectFx=t,this.selectAllFx=n,this.selectAdjacentFx=r,this.focusTargetFx=i}}class id extends Wr{constructor(e,t,n,r,i,o){super(e,t),_defineProperty(this,"_selectionMode",void 0),_defineProperty(this,"pageSize",void 0),_defineProperty(this,"_selectionMethod",void 0),_defineProperty(this,"_showSelectAllToggle",void 0),this._selectionMode=o,this._selectionMethod=n,this._showSelectAllToggle=r,this.pageSize=i}get selectionMethod(){return"None"===this.selectionType?"none":this._selectionMethod}get showCheckboxColumn(){return"checkbox"===this.selectionMethod}get showSelectAllToggle(){return this._showSelectAllToggle&&"Multi"===this.selectionType}get selectionMode(){return"checkbox"===this.selectionMethod?"toggle":this._selectionMode}}const od="com.mendix.widgets.web.plugin.externalEvents";class sd{constructor(){_defineProperty(this,"channels",void 0),_defineProperty(this,"id",Math.random().toString().slice(2)),this.channels=new Map}disposeChannel(e){const t=this.channels.get(e);return t&&(t.events={}),this.channels.delete(e)}getChannel(e){let t=this.channels.get(e);return t||(t=ku(),this.channels.set(e,t),t)}emit(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];null===(n=this.channels.get(e))||void 0===n||n.emit(t,...i)}subscribe(e,t,n){return this.getChannel(e).on(t,n),()=>this.unsubscribe(e,t,n)}unsubscribe(e,t,n){const r=this.channels.get(e);if(!r)return;const i=r.events[t];i&&(r.events[t]=i.filter(e=>e!==n));0===Object.values(r.events).flat().reduce((e,t)=>t?e+1:e,0)&&this.disposeChannel(e)}}function ad(){var e,t;return null!==(t=(e=window)[od])&&void 0!==t?t:e[od]=function(){if(Object.prototype.hasOwnProperty.call(window,od))throw new Error("Widget plugin external events: plugin already initialized!");return new sd}()}function ld(e,n,r){t.useEffect(()=>{if(void 0!==e)return ad().subscribe(e,n,r)},[e,n])}const cd=Object.freeze({reset:{value:"reset.value",filters:"reset.filters"},set:{value:"set.value"},selection:{clear:"selection.clear"}});const ud=function(){return ad().emit(...arguments)};function dd(e,n){var r;r=t.useRef({inputChannel:e,event:cd.reset.filters,onEvent:(e,t)=>{e(n,cd.reset.value,...t)}}).current,ld(r.inputChannel,r.event,t.useRef(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.onEvent(ud,t)}).current)}function hd(e){const n=Zs();dd(n.name,n.filtersChannelName),function(e){let{widgetName:n,listener:r}=e;const{current:i}=t.useRef(r);ld(n,cd.selection.clear,i)}({widgetName:n.name,listener:()=>null==e?void 0:e.onClearSelection()})}class fd{constructor(e){_defineProperty(this,"atom",void 0),this.atom=e,Nn(this,{props:Qe})}get props(){return this.atom.props}}class pd{constructor(e){_defineProperty(this,"props",void 0),this.props=e,Nn(this,{props:Xe.ref,setProps:Zt})}setProps(e){this.props=e}}class gd{constructor(e){_defineProperty(this,"atom",void 0),_defineProperty(this,"gate",void 0),this.atom=new pd(e),this.gate=new fd(this.atom)}setProps(e){this.atom.setProps(e)}}class vd extends Oo{constructor(){super(...arguments),_defineProperty(this,"id","SelectAllModule@".concat(Ur())),_defineProperty(this,"setProps",e=>{throw new Error("".concat(this.id," is not initialized yet"))})}init(e,t){this.extend(t);const n=new gd(e);return this.setProps=e=>n.setProps(e),this.bind(ps.selectAllGate).toConstant(n.gate),this.bind(ps.queryGate).toConstant(n.gate),this.bind(ps.query).toInstance(Zi).inSingletonScope(),this.bind(ps.selectAllProgressService).toInstance(Qi).inSingletonScope(),this.bind(ps.selectAllService).toInstance(eo).inSingletonScope(),this}}class md{constructor(){_defineProperty(this,"filters",new Map),_defineProperty(this,"settingsBuffer",new Map),_defineProperty(this,"_state",new Map),_defineProperty(this,"metaKey","CustomFilterHost"),Mn(this,{hydrate:Zt})}get settings(){return new Map([...this.filters].map(e=>{let[t,[n]]=e;return[t,n.toJSON()]}))}set settings(e){this.settingsBuffer=e}observe(e,t){this.unobserve(e);const n=tn(()=>{this.settingsBuffer.has(e)&&t.fromJSON(this.settingsBuffer.get(e))}),r=tn(()=>{this._state.set(e,t.condition)}),i=this.settingsBuffer.has(e),o=this._state.get(e);!i&&o&&t.fromViewState(o);this.filters.set(e,[t,()=>{n(),r(),this.filters.delete(e),this._state.delete(e)}])}unobserve(e){var t;this.filters.has(e)&&(null===(t=this.filters.get(e))||void 0===t||t[1]())}toJSON(){return[...this.settings.entries()]}fromJSON(e){null!=e&&Array.isArray(e)&&(this.settings=new Map(e))}get condWithMeta(){const e={};for(const[t,[n]]of this.filters)e[t]=n.condition;const[t,n]=function(e){const t={length:0,keys:[]},n=[];for(const[r,i]of Object.entries(e))t.keys.push(r),void 0!==i&&(t[n.length]=r,n.push(i));t.length=n.length;const i=JSON.stringify(t);switch(n.length){case 0:return[void 0,i];case 1:return[n[0],i];default:return[r.and(...n),i]}}(e);return{cond:t,meta:n}}hydrate(e){let{cond:t,meta:n}=e;const r=function(e,t){const n=JSON.parse(t),r={};for(const e of n.keys)r[e]=void 0;return 0===n.length?r:1===n.length&&n[0]?(r[n[0]]=e,r):e&&zi(e)?(e.args.forEach((e,t)=>{r[n[t]]=e}),r):r}(t,n);this._state=new Map(Object.entries(r))}}class bd extends gd{constructor(e,t){super(e),_defineProperty(this,"locked",void 0),this.locked=t}setProps(e){this.locked()||super.setProps(e)}}function yd(e){return void 0!==e.itemSelection}function _d(e){return!!e.itemSelection&&"checkbox"===e.itemSelectionMethod}function wd(e){return"localStorage"===e.configurationStorageType||!("attribute"!==e.configurationStorageType||!e.configurationAttribute)}class Sd extends Oo{constructor(){super(...arguments),_defineProperty(this,"id","DatagridContainer@".concat(Ur())),_defineProperty(this,"setProps",e=>{throw new Error("".concat(this.id," is not initialized yet"))})}init(e,t,n){this.extend(t);const r=n.get(ps.selectAllService),i=n.get(ps.selectAllProgressService);this.bind(ps.selectAllService).toConstant(r),this.bind(ps.selectAllProgressService).toConstant(i),this.bind(ps.exportProgressService).toInstance(Qi).inSingletonScope();const o=this.get(ps.exportProgressService),s=new bd(e,function(){return o.inProgress||i.inProgress});this.setProps=e=>s.setProps(e),this.bind(ps.mainGate).toConstant(s.gate),this.bind(ps.queryGate).toConstant(s.gate);const a=function(e){const t="".concat(e.name,":Datagrid@").concat(Ur());return Object.freeze({checkboxColumnEnabled:_d(e),filtersChannelName:"".concat(t,":events"),id:t,name:e.name,refreshIntervalMs:1e3*e.refreshInterval,selectAllCheckboxEnabled:e.showSelectAllToggle,selectionEnabled:yd(e),selectorColumnEnabled:e.columnsHidable,settingsStorageEnabled:wd(e)})}(e);return this.bind(ps.config).toConstant(a),this.bind(ps.columnsStore).toInstance(is).inSingletonScope(),this.bind(ps.basicDate).toInstance(os).inSingletonScope(),this.bind(ps.combinedFilter).toInstance($i).inSingletonScope(),this.bind(ps.exportProgressService).toInstance(Qi).inSingletonScope(),this.bind(ps.filterAPI).toInstance(Li).inSingletonScope(),this.bind(ps.filterHost).toInstance(md).inSingletonScope(),this.bind(ps.paramsService).toInstance(ds).inSingletonScope(),this.bind(ps.personalizationService).toInstance(ls).inSingletonScope(),this.bind(ps.query).toInstance(Zi).inSingletonScope(),this.bind(ps.paginationService).toInstance(fs).inSingletonScope(),this.bind(ps.parentChannelName).toConstant(a.filtersChannelName),this.bind(ps.loaderVM).toInstance(hs).inSingletonScope(),this.bind(ps.selectionCounterVM).toInstance(to).inSingletonScope(),this.bind(ps.selectAllBarVM).toInstance(ko).inSingletonScope(),this.bind(ps.selectionDialogVM).toInstance(To).inSingletonScope(),this.bind(ps.refreshInterval).toConstant(1e3*e.refreshInterval),this.bind(ps.combinedFilterConfig).toConstant({stableKey:e.name,inputs:[this.get(ps.filterHost),this.get(ps.columnsStore)]}),this.bind(ps.loaderConfig).toConstant({showSilentRefresh:e.refreshInterval>1,refreshIndicator:e.refreshIndicator}),this.bind(ps.paginationConfig).toConstant({pagination:e.pagination,showPagingButtons:e.showPagingButtons,showNumberOfRows:e.showNumberOfRows,pageSize:e.pageSize}),this.bind(ps.selectionCounterPosition).toConstant(e.selectionCounterPosition),this.bind(ps.enableSelectAll).toConstant(e.enableSelectAll),this.postInit(e,a),this}postInit(e,t){this.get(ps.paramsService),this.get(ps.paginationService),t.settingsStorageEnabled&&this.get(ps.personalizationService),this.get(ps.combinedFilter).hydrate(e.datasource.filter)}}class xd{constructor(){_defineProperty(this,"components",new Set),_defineProperty(this,"isSetupCalled",!1)}add(e){this.components.add(e)}remove(e){this.components.delete(e)}setup(){if(this.isSetupCalled)throw new Error("setup method has already been called.");this.isSetupCalled=!0;const[e,t]=Yi();for(const t of this.components){var n;const r=null===(n=t.setup)||void 0===n?void 0:n.call(t);r&&e(r)}return t}}class Cd extends xd{}class Pd extends Oo{constructor(){super(),_defineProperty(this,"id","DatagridRootContainer@".concat(Ur())),this.bind(ps.setupService).toInstance(Cd).inSingletonScope()}}function Ed(e){const[n,r]=qr(function(){const t=new Pd,n=(new vd).init(e,t);return[(new Sd).init(e,t,n),n]});return function(e){const n=qr(e);t.useEffect(()=>n.setup(),[n])}(()=>n.get(ps.setupService)),t.useEffect(()=>{n.setProps(e),r.setProps(e)}),n}const Od=ui(n=>{var r,i,o,s;const a=na(),l=$s(),u=ra(),d=ea(),f=ta(),p=null!==(r=a.props.datasource.items)&&void 0!==r?r:[],[m]=Mu(n,l,d),b=Fr(a.props.itemSelection,a.props.datasource,n.onSelectionChange,n.keepSelection?"always keep":"always clear"),y=function(e,n){return t.useMemo(()=>{var t;return new id(e.itemSelection,n,e.itemSelectionMethod,e.showSelectAllToggle,null!==(t=e.pageSize)&&void 0!==t?t:5,e.itemSelectionMode)},[n])}(n,b),_=function(e){const n=t.useMemo(()=>new c(e.onClickTrigger,e.onClick),[]);return t.useEffect(()=>{n.update(e.onClick)}),n}({onClickTrigger:n.onClickTrigger,onClick:n.onClick});hd(y);const w=y.showCheckboxColumn?l.visibleColumns.length+1:l.visibleColumns.length,S=function(e){let{rows:n,columns:r,pageSize:i}=e;const o=t.useRef(null);return t.useMemo(()=>{const e=new v(n,r,i);return null===o.current?o.current=new h(new g,e):o.current.updateGridLayout(e),o.current},[n,r,i])}({rows:p.length,columns:w,pageSize:n.pageSize}),x=function(e,n,r){return t.useMemo(()=>new ed(t=>({item:t,pageSize:e.pageSize,selectionType:e.selectionType,selectionMethod:e.selectionMethod,selectionMode:e.selectionMode,clickTrigger:n.clickTrigger}),e.onSelect,e.onSelectAll,e.onSelectAdjacent,n.onExecuteAction,r.dispatch),[e,n,r])}(y,_,S),C=function(e,n){return t.useMemo(()=>new rd(t=>({item:t,pageSize:e.pageSize,selectionType:e.selectionType,selectionMethod:e.selectionMethod,selectionMode:e.selectionMode}),e.onSelect,e.onSelectAll,e.onSelectAdjacent,n.dispatch),[e,n])}(y,S);return e.jsx(aa.Provider,{value:qr({selectionHelper:b,selectActionHelper:y,cellEventsController:x,checkboxEventsController:C,focusController:S}),children:e.jsx(wu,{className:n.class,CellComponent:Ci,columnsDraggable:n.columnsDraggable,columnsFilterable:n.columnsFilterable,columnsHidable:n.columnsHidable,columnsResizable:n.columnsResizable,columnsSortable:n.columnsSortable,data:p,emptyPlaceholderRenderer:t.useCallback(t=>"custom"===n.showEmptyPlaceholder?t(n.emptyPlaceholder):e.jsx("div",{}),[n.emptyPlaceholder,n.showEmptyPlaceholder]),filterRenderer:t.useCallback((e,t)=>e(l.columnFilters[t].renderFilterWidgets()),[l.columnFilters]),headerTitle:null===(i=n.filterSectionTitle)||void 0===i?void 0:i.value,headerContent:n.filtersPlaceholder&&e.jsx(Au,{selectionHelper:b,children:n.filtersPlaceholder}),hasMoreItems:null!==(o=n.datasource.hasMoreItems)&&void 0!==o&&o,headerWrapperRenderer:t.useCallback((e,t)=>t,[]),id:t.useMemo(()=>"DataGrid".concat(Ur()),[]),numberOfItems:n.datasource.totalCount,onExportCancel:m,page:u.currentPage,pageSize:n.pageSize,paginationType:n.pagination,loadMoreButtonCaption:null===(s=n.loadMoreButtonCaption)||void 0===s?void 0:s.value,paging:u.showPagination,pagingPosition:n.pagingPosition,showPagingButtons:n.showPagingButtons,rowClass:t.useCallback(e=>{var t,r;return null!==(t=null===(r=n.rowClass)||void 0===r||null===(r=r.get(e))||void 0===r?void 0:r.value)&&void 0!==t?t:""},[n.rowClass]),setPage:u.setPage,styles:n.style,exporting:d.inProgress,processedRows:d.loaded,visibleColumns:l.visibleColumns,availableColumns:l.availableColumns,setIsResizing:e=>l.setIsResizing(e),columnsSwap:(e,t)=>{let[n,r]=t;return l.swapColumns(e,[n,r])},selectActionHelper:y,cellEventsController:x,checkboxEventsController:C,focusController:S,isFirstLoad:f.isFirstLoad,isFetchingNextBatch:f.isFetchingNextBatch,showRefreshIndicator:f.showRefreshIndicator,loadingType:n.loadingType,columnsLoading:!l.loaded})})});return Od.displayName="DatagridComponent",function(t){const n=Ed(t);return e.jsx(Xr,{container:n,isolated:!0,children:e.jsx(Od,{...t})})}});
