import*as e from"react";import{useLayoutEffect as t,useEffect as n,useRef as o,useCallback as r,useState as i,createElement as l}from"react";import*as c from"react-dom";var s,u={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/s=u,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if("string"===i||"number"===i)n.push(r);else if(Array.isArray(r)){if(r.length){var l=t.apply(null,r);l&&n.push(l)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var c in r)e.call(r,c)&&r[c]&&n.push(c)}}}return n.join(" ")}s.exports?(t.default=t,s.exports=t):window.classNames=t}();var a=u.exports;function f(){return"undefined"!=typeof window}function d(e){return g(e)?(e.nodeName||"").toLowerCase():"#document"}function m(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function p(e){var t;return null==(t=(g(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function g(e){return!!f()&&(e instanceof Node||e instanceof m(e).Node)}function v(e){return!!f()&&(e instanceof Element||e instanceof m(e).Element)}function h(e){return!!f()&&(e instanceof HTMLElement||e instanceof m(e).HTMLElement)}function y(e){return!(!f()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof m(e).ShadowRoot)}function w(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=T(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function b(e){return["table","td","th"].includes(d(e))}function x(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function E(e){const t=R(),n=v(e)?T(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function R(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function P(e){return["html","body","#document"].includes(d(e))}function T(e){return m(e).getComputedStyle(e)}function k(e){return v(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function L(e){if("html"===d(e))return e;const t=e.assignedSlot||e.parentNode||y(e)&&e.host||p(e);return y(t)?t.host:t}function C(e){const t=L(e);return P(t)?e.ownerDocument?e.ownerDocument.body:e.body:h(t)&&w(t)?t:C(t)}function M(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=C(e),i=r===(null==(o=e.ownerDocument)?void 0:o.body),l=m(r);if(i){const e=function(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}(l);return t.concat(l,l.visualViewport||[],w(r)?r:[],e&&n?M(e):[])}return t.concat(r,M(r,[],n))}function S(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function O(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&y(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function D(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function A(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function F(e){return!A().includes("jsdom/")&&(!B()&&0===e.width&&0===e.height||B()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function B(){const e=/android/i;return e.test(D())||e.test(A())}function I(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function W(e){return(null==e?void 0:e.ownerDocument)||document}function H(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function N(e){return"composedPath"in e?e.composedPath()[0]:e.target}function _(e){return h(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}const V=Math.min,j=Math.max,K=Math.round,X=Math.floor,Y=e=>({x:e,y:e}),z={left:"right",right:"left",bottom:"top",top:"bottom"},q={start:"end",end:"start"};function $(e,t,n){return j(e,V(t,n))}function U(e,t){return"function"==typeof e?e(t):e}function G(e){return e.split("-")[0]}function J(e){return e.split("-")[1]}function Q(e){return"x"===e?"y":"x"}function Z(e){return"y"===e?"height":"width"}function ee(e){return["top","bottom"].includes(G(e))?"y":"x"}function te(e){return Q(ee(e))}function ne(e,t,n){void 0===n&&(n=!1);const o=J(e),r=te(e),i=Z(r);let l="x"===r?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=re(l)),[l,re(l)]}function oe(e){return e.replace(/start|end/g,(e=>q[e]))}function re(e){return e.replace(/left|right|bottom|top/g,(e=>z[e]))}function ie(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function le(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function ce(e,t,n){let{reference:o,floating:r}=e;const i=ee(t),l=te(t),c=Z(l),s=G(t),u="y"===i,a=o.x+o.width/2-r.width/2,f=o.y+o.height/2-r.height/2,d=o[c]/2-r[c]/2;let m;switch(s){case"top":m={x:a,y:o.y-r.height};break;case"bottom":m={x:a,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:f};break;case"left":m={x:o.x-r.width,y:f};break;default:m={x:o.x,y:o.y}}switch(J(t)){case"start":m[l]-=d*(n&&u?-1:1);break;case"end":m[l]+=d*(n&&u?-1:1)}return m}async function se(e,t){var n;void 0===t&&(t={});const{x:o,y:r,platform:i,rects:l,elements:c,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:a="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=U(t,e),p=ie(m),g=c[d?"floating"===f?"reference":"floating":f],v=le(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(g)))||n?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:a,strategy:s})),h="floating"===f?{...l.floating,x:o,y:r}:l.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),w=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=le(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:h,offsetParent:y,strategy:s}):h);return{top:(v.top-b.top+p.top)/w.y,bottom:(b.bottom-v.bottom+p.bottom)/w.y,left:(v.left-b.left+p.left)/w.x,right:(b.right-v.right+p.right)/w.x}}const ue=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:l,middlewareData:c}=t,s=await async function(e,t){const{placement:n,platform:o,elements:r}=e,i=await(null==o.isRTL?void 0:o.isRTL(r.floating)),l=G(n),c=J(n),s="y"===ee(n),u=["left","top"].includes(l)?-1:1,a=i&&s?-1:1,f=U(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:p}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&"number"==typeof p&&(m="end"===c?-1*p:p),s?{x:m*a,y:d*u}:{x:d*u,y:m*a}}(t,e);return l===(null==(n=c.offset)?void 0:n.placement)&&null!=(o=c.arrow)&&o.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:l}}}}};function ae(e){const t=T(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=h(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:o,c=K(n)!==i||K(o)!==l;return c&&(n=i,o=l),{width:n,height:o,$:c}}function fe(e){return v(e)?e:e.contextElement}function de(e){const t=fe(e);if(!h(t))return Y(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=ae(t);let l=(i?K(n.width):n.width)/o,c=(i?K(n.height):n.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const me=Y(0);function pe(e){const t=m(e);return R()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:me}function ge(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),i=fe(e);let l=Y(1);t&&(o?v(o)&&(l=de(o)):l=de(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==m(e))&&t}(i,n,o)?pe(i):Y(0);let s=(r.left+c.x)/l.x,u=(r.top+c.y)/l.y,a=r.width/l.x,f=r.height/l.y;if(i){const e=m(i),t=o&&v(o)?m(o):o;let n=e,r=n.frameElement;for(;r&&o&&t!==n;){const e=de(r),t=r.getBoundingClientRect(),o=T(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,l=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;s*=e.x,u*=e.y,a*=e.x,f*=e.y,s+=i,u+=l,n=m(r),r=n.frameElement}}return le({width:a,height:f,x:s,y:u})}const ve=[":popover-open",":modal"];function he(e){return ve.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function ye(e){return ge(p(e)).left+k(e).scrollLeft}function we(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=m(e),o=p(e),r=n.visualViewport;let i=o.clientWidth,l=o.clientHeight,c=0,s=0;if(r){i=r.width,l=r.height;const e=R();(!e||e&&"fixed"===t)&&(c=r.offsetLeft,s=r.offsetTop)}return{width:i,height:l,x:c,y:s}}(e,n);else if("document"===t)o=function(e){const t=p(e),n=k(e),o=e.ownerDocument.body,r=j(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=j(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ye(e);const c=-n.scrollTop;return"rtl"===T(o).direction&&(l+=j(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:c}}(p(e));else if(v(t))o=function(e,t){const n=ge(e,!0,"fixed"===t),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=h(e)?de(e):Y(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:r*i.x,y:o*i.y}}(t,n);else{const n=pe(e);o={...t,x:t.x-n.x,y:t.y-n.y}}return le(o)}function be(e,t){const n=L(e);return!(n===t||!v(n)||P(n))&&("fixed"===T(n).position||be(n,t))}function xe(e,t,n){const o=h(t),r=p(t),i="fixed"===n,l=ge(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const s=Y(0);if(o||!o&&!i)if(("body"!==d(t)||w(r))&&(c=k(t)),o){const e=ge(t,!0,i,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=ye(r));return{x:l.left+c.scrollLeft-s.x,y:l.top+c.scrollTop-s.y,width:l.width,height:l.height}}function Ee(e,t){return h(e)&&"fixed"!==T(e).position?t?t(e):e.offsetParent:null}function Re(e,t){const n=m(e);if(!h(e)||he(e))return n;let o=Ee(e,t);for(;o&&b(o)&&"static"===T(o).position;)o=Ee(o,t);return o&&("html"===d(o)||"body"===d(o)&&"static"===T(o).position&&!E(o))?n:o||function(e){let t=L(e);for(;h(t)&&!P(t);){if(E(t))return t;if(x(t))return null;t=L(t)}return null}(e)||n}const Pe={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i="fixed"===r,l=p(o),c=!!t&&he(t.floating);if(o===l||c&&i)return n;let s={scrollLeft:0,scrollTop:0},u=Y(1);const a=Y(0),f=h(o);if((f||!f&&!i)&&(("body"!==d(o)||w(l))&&(s=k(o)),h(o))){const e=ge(o);u=de(o),a.x=e.x+o.clientLeft,a.y=e.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+a.x,y:n.y*u.y-s.scrollTop*u.y+a.y}},getDocumentElement:p,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[..."clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let o=M(e,[],!1).filter((e=>v(e)&&"body"!==d(e))),r=null;const i="fixed"===T(e).position;let l=i?L(e):e;for(;v(l)&&!P(l);){const t=T(l),n=E(l);n||"fixed"!==t.position||(r=null),(i?!n&&!r:!n&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||w(l)&&!n&&be(e,l))?o=o.filter((e=>e!==l)):r=t,l=L(l)}return t.set(e,o),o}(t,this._c):[].concat(n),o],l=i[0],c=i.reduce(((e,n)=>{const o=we(t,n,r);return e.top=j(o.top,e.top),e.right=V(o.right,e.right),e.bottom=V(o.bottom,e.bottom),e.left=j(o.left,e.left),e}),we(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Re,getElementRects:async function(e){const t=this.getOffsetParent||Re,n=this.getDimensions;return{reference:xe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ae(e);return{width:t,height:n}},getScale:de,isElement:v,isRTL:function(e){return"rtl"===T(e).direction}};function Te(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:c="function"==typeof IntersectionObserver,animationFrame:s=!1}=o,u=fe(e),a=r||i?[...u?M(u):[],...M(t)]:[];a.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const f=u&&c?function(e,t){let n,o=null;const r=p(e);function i(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function l(c,s){void 0===c&&(c=!1),void 0===s&&(s=1),i();const{left:u,top:a,width:f,height:d}=e.getBoundingClientRect();if(c||t(),!f||!d)return;const m={rootMargin:-X(a)+"px "+-X(r.clientWidth-(u+f))+"px "+-X(r.clientHeight-(a+d))+"px "+-X(u)+"px",threshold:j(0,V(1,s))||1};let p=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!p)return l();t?l(!1,t):n=setTimeout((()=>{l(!1,1e-7)}),100)}p=!1}try{o=new IntersectionObserver(g,{...m,root:r.ownerDocument})}catch(e){o=new IntersectionObserver(g,m)}o.observe(e)}(!0),i}(u,n):null;let d,m=-1,g=null;l&&(g=new ResizeObserver((e=>{let[o]=e;o&&o.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),u&&!s&&g.observe(u),g.observe(t));let v=s?ge(e):null;return s&&function t(){const o=ge(e);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||n();v=o,d=requestAnimationFrame(t)}(),n(),()=>{var e;a.forEach((e=>{r&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==f||f(),null==(e=g)||e.disconnect(),g=null,s&&cancelAnimationFrame(d)}}const ke=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=U(e,t),u={x:n,y:o},a=await se(t,s),f=ee(G(r)),d=Q(f);let m=u[d],p=u[f];if(i){const e="y"===d?"bottom":"right";m=$(m+a["y"===d?"top":"left"],m,m-a[e])}if(l){const e="y"===f?"bottom":"right";p=$(p+a["y"===f?"top":"left"],p,p-a[e])}const g=c.fn({...t,[d]:m,[f]:p});return{...g,data:{x:g.x-n,y:g.y-o}}}}},Le=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:c,platform:s,elements:u}=t,{mainAxis:a=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=U(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const h=G(r),y=G(c)===c,w=await(null==s.isRTL?void 0:s.isRTL(u.floating)),b=d||(y||!g?[re(c)]:function(e){const t=re(e);return[oe(e),t,oe(t)]}(c));d||"none"===p||b.push(...function(e,t,n,o){const r=J(e);let i=function(e,t,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?r:o:t?o:r;case"left":case"right":return t?i:l;default:return[]}}(G(e),"start"===n,o);return r&&(i=i.map((e=>e+"-"+r)),t&&(i=i.concat(i.map(oe)))),i}(c,g,p,w));const x=[c,...b],E=await se(t,v),R=[];let P=(null==(o=i.flip)?void 0:o.overflows)||[];if(a&&R.push(E[h]),f){const e=ne(r,l,w);R.push(E[e[0]],E[e[1]])}if(P=[...P,{placement:r,overflows:R}],!R.every((e=>e<=0))){var T,k;const e=((null==(T=i.flip)?void 0:T.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==(k=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:k.placement;if(!n)switch(m){case"bestFit":{var L;const e=null==(L=P.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:L[0];e&&(n=e);break}case"initialPlacement":n=c}if(r!==n)return{reset:{placement:n}}}return{}}}},Ce=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:l,elements:c,middlewareData:s}=t,{element:u,padding:a=0}=U(e,t)||{};if(null==u)return{};const f=ie(a),d={x:n,y:o},m=te(r),p=Z(m),g=await l.getDimensions(u),v="y"===m,h=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=i.reference[p]+i.reference[m]-d[m]-i.floating[p],x=d[m]-i.reference[m],E=await(null==l.getOffsetParent?void 0:l.getOffsetParent(u));let R=E?E[w]:0;R&&await(null==l.isElement?void 0:l.isElement(E))||(R=c.floating[w]||i.floating[p]);const P=b/2-x/2,T=R/2-g[p]/2-1,k=V(f[h],T),L=V(f[y],T),C=k,M=R-g[p]-L,S=R/2-g[p]/2+P,O=$(C,S,M),D=!s.arrow&&null!=J(r)&&S!==O&&i.reference[p]/2-(S<C?k:L)-g[p]/2<0,A=D?S<C?S-C:S-M:0;return{[m]:d[m]+A,data:{[m]:O,centerOffset:S-O-A,...D&&{alignmentOffset:A}},reset:D}}}),Me=(e,t,n)=>{const o=new Map,r={platform:Pe,...n},i={...r.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:l}=n,c=i.filter(Boolean),s=await(null==l.isRTL?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:r}),{x:a,y:f}=ce(u,o,s),d=o,m={},p=0;for(let n=0;n<c.length;n++){const{name:i,fn:g}=c[n],{x:v,y:h,data:y,reset:w}=await g({x:a,y:f,initialPlacement:o,placement:d,strategy:r,middlewareData:m,rects:u,platform:l,elements:{reference:e,floating:t}});a=null!=v?v:a,f=null!=h?h:f,m={...m,[i]:{...m[i],...y}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(u=!0===w.rects?await l.getElementRects({reference:e,floating:t,strategy:r}):w.rects),({x:a,y:f}=ce(u,d,s))),n=-1)}return{x:a,y:f,placement:d,strategy:r,middlewareData:m}})(e,t,{...r,platform:i})};var Se="undefined"!=typeof document?t:n;function Oe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;0!=o--;)if(!Oe(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;0!=o--;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;0!=o--;){const n=r[o];if(("_owner"!==n||!e.$$typeof)&&!Oe(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function De(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ae(e,t){const n=De(e);return Math.round(t*n)/n}function Fe(t){const n=e.useRef(t);return Se((()=>{n.current=t})),n}const Be=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:o}="function"==typeof e?e(t):e;return n&&(r=n,{}.hasOwnProperty.call(r,"current"))?null!=n.current?Ce({element:n.current,padding:o}).fn(t):{}:n?Ce({element:n,padding:o}).fn(t):{};var r}}),Ie=(e,t)=>({...ke(e),options:[e,t]}),We=(e,t)=>({...Le(e),options:[e,t]}),He=(e,t)=>({...Be(e),options:[e,t]}),Ne={...e},_e=Ne.useInsertionEffect||(e=>e());function Ve(t){const n=e.useRef((()=>{}));return _e((()=>{n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return null==n.current?void 0:n.current(...t)}),[])}var je="undefined"!=typeof document?t:n;let Ke=!1,Xe=0;const Ye=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Xe++;const ze=Ne.useId||function(){const[t,n]=e.useState((()=>Ke?Ye():void 0));return je((()=>{null==t&&n(Ye())}),[]),e.useEffect((()=>{Ke=!0}),[]),t};const qe=e.createContext(null),$e=e.createContext(null),Ue=()=>{var t;return(null==(t=e.useContext(qe))?void 0:t.id)||null},Ge=()=>e.useContext($e);function Je(e){return"data-floating-ui-"+e}function Qe(e){const t=o(e);return je((()=>{t.current=e})),t}const Ze=Je("safe-polygon");function et(e,t,n){return n&&!I(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}function tt(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),o=n;for(;o.length;)o=e.filter((e=>{var t;return null==(t=o)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(o);return n}const nt="data-floating-ui-focusable";function ot(e){return h(e.target)&&"BUTTON"===e.target.tagName}function rt(e){return _(e)}const it={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},lt={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ct=e=>{var t,n;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function st(t){const{open:n=!1,onOpenChange:o,elements:r}=t,i=ze(),l=e.useRef({}),[c]=e.useState((()=>function(){const e=new Map;return{emit(t,n){var o;null==(o=e.get(t))||o.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,(null==(o=e.get(t))?void 0:o.filter((e=>e!==n)))||[])}}}())),s=null!=Ue(),[u,a]=e.useState(r.reference),f=Ve(((e,t,n)=>{l.current.openEvent=e?t:void 0,c.emit("openchange",{open:e,event:t,reason:n,nested:s}),null==o||o(e,t,n)})),d=e.useMemo((()=>({setPositionReference:a})),[]),m=e.useMemo((()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference})),[u,r.reference,r.floating]);return e.useMemo((()=>({dataRef:l,open:n,onOpenChange:f,elements:m,events:c,floatingId:i,refs:d})),[n,f,m,c,i,d])}function ut(t){void 0===t&&(t={});const{nodeId:n}=t,o=st({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||o,i=r.elements,[l,s]=e.useState(null),[u,a]=e.useState(null),f=(null==i?void 0:i.domReference)||l,d=e.useRef(null),m=Ge();je((()=>{f&&(d.current=f)}),[f]);const p=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:o="absolute",middleware:r=[],platform:i,elements:{reference:l,floating:s}={},transform:u=!0,whileElementsMounted:a,open:f}=t,[d,m]=e.useState({x:0,y:0,strategy:o,placement:n,middlewareData:{},isPositioned:!1}),[p,g]=e.useState(r);Oe(p,r)||g(r);const[v,h]=e.useState(null),[y,w]=e.useState(null),b=e.useCallback((e=>{e!==P.current&&(P.current=e,h(e))}),[]),x=e.useCallback((e=>{e!==T.current&&(T.current=e,w(e))}),[]),E=l||v,R=s||y,P=e.useRef(null),T=e.useRef(null),k=e.useRef(d),L=null!=a,C=Fe(a),M=Fe(i),S=Fe(f),O=e.useCallback((()=>{if(!P.current||!T.current)return;const e={placement:n,strategy:o,middleware:p};M.current&&(e.platform=M.current),Me(P.current,T.current,e).then((e=>{const t={...e,isPositioned:!1!==S.current};D.current&&!Oe(k.current,t)&&(k.current=t,c.flushSync((()=>{m(t)})))}))}),[p,n,o,M,S]);Se((()=>{!1===f&&k.current.isPositioned&&(k.current.isPositioned=!1,m((e=>({...e,isPositioned:!1}))))}),[f]);const D=e.useRef(!1);Se((()=>(D.current=!0,()=>{D.current=!1})),[]),Se((()=>{if(E&&(P.current=E),R&&(T.current=R),E&&R){if(C.current)return C.current(E,R,O);O()}}),[E,R,O,C,L]);const A=e.useMemo((()=>({reference:P,floating:T,setReference:b,setFloating:x})),[b,x]),F=e.useMemo((()=>({reference:E,floating:R})),[E,R]),B=e.useMemo((()=>{const e={position:o,left:0,top:0};if(!F.floating)return e;const t=Ae(F.floating,d.x),n=Ae(F.floating,d.y);return u?{...e,transform:"translate("+t+"px, "+n+"px)",...De(F.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:t,top:n}}),[o,u,F.floating,d.x,d.y]);return e.useMemo((()=>({...d,update:O,refs:A,elements:F,floatingStyles:B})),[d,O,A,F,B])}({...t,elements:{...i,...u&&{reference:u}}}),g=e.useCallback((e=>{const t=v(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;a(t),p.refs.setReference(t)}),[p.refs]),h=e.useCallback((e=>{(v(e)||null===e)&&(d.current=e,s(e)),(v(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!v(e))&&p.refs.setReference(e)}),[p.refs]),y=e.useMemo((()=>({...p.refs,setReference:h,setPositionReference:g,domReference:d})),[p.refs,h,g]),w=e.useMemo((()=>({...p.elements,domReference:f})),[p.elements,f]),b=e.useMemo((()=>({...p,...r,refs:y,elements:w,nodeId:n})),[p,y,w,n,r]);return je((()=>{r.dataRef.current.floatingContext=b;const e=null==m?void 0:m.nodesRef.current.find((e=>e.id===n));e&&(e.context=b)})),e.useMemo((()=>({...p,context:b,refs:y,elements:w})),[p,y,w,b])}function at(t,n){void 0===n&&(n={});const{open:o,onOpenChange:r,events:i,dataRef:l,elements:c}=t,{enabled:s=!0,visibleOnly:u=!0}=n,a=e.useRef(!1),f=e.useRef(),d=e.useRef(!0);e.useEffect((()=>{if(!s)return;const e=m(c.domReference);function t(){!o&&h(c.domReference)&&c.domReference===S(W(c.domReference))&&(a.current=!0)}function n(){d.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",n,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",n,!0)}}),[c.domReference,o,s]),e.useEffect((()=>{if(s)return i.on("openchange",e),()=>{i.off("openchange",e)};function e(e){let{reason:t}=e;"reference-press"!==t&&"escape-key"!==t||(a.current=!0)}}),[i,s]),e.useEffect((()=>()=>{clearTimeout(f.current)}),[]);const p=e.useMemo((()=>({onPointerDown(e){F(e.nativeEvent)||(d.current=!1)},onMouseLeave(){a.current=!1},onFocus(e){if(a.current)return;const t=N(e.nativeEvent);if(u&&v(t))try{if(/apple/i.test(navigator.vendor)&&D().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!d.current&&!_(t))return}r(!0,e.nativeEvent,"focus")},onBlur(e){a.current=!1;const t=e.relatedTarget,n=e.nativeEvent,o=v(t)&&t.hasAttribute(Je("focus-guard"))&&"outside"===t.getAttribute("data-type");f.current=window.setTimeout((()=>{var e;const i=S(c.domReference?c.domReference.ownerDocument:document);(t||i!==c.domReference)&&(O(null==(e=l.current.floatingContext)?void 0:e.refs.floating.current,i)||O(c.domReference,i)||o||r(!1,n,"focus"))}))}})),[l,c.domReference,r,u]);return e.useMemo((()=>s?{reference:p}:{}),[s,p])}const ft="active",dt="selected";function mt(e,t,n){const o=new Map,r="item"===n;let i=e;if(r&&e){const{[ft]:t,[dt]:n,...o}=e;i=o}return{..."floating"===n&&{tabIndex:-1,[nt]:""},...i,...t.map((t=>{const o=t?t[n]:null;return"function"==typeof o?e?o(e):null:o})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,i]=t;var l;r&&[ft,dt].includes(n)||(0===n.indexOf("on")?(o.has(n)||o.set(n,[]),"function"==typeof i&&(null==(l=o.get(n))||l.push(i),e[n]=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==(e=o.get(n))?void 0:e.map((e=>e(...r))).find((e=>void 0!==e))})):e[n]=i)})),e):e),{})}}const pt=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function gt(e,t){const[n,o]=e;let r=!1;const i=t.length;for(let e=0,l=i-1;e<i;l=e++){const[i,c]=t[e]||[0,0],[s,u]=t[l]||[0,0];c>=o!=u>=o&&n<=(s-i)*(o-c)/(u-c)+i&&(r=!r)}return r}function vt(e){void 0===e&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=e;let r,i=!1,l=null,c=null,s=performance.now();const u=e=>{let{x:n,y:u,placement:a,elements:f,onClose:d,nodeId:m,tree:p}=e;return function(e){function g(){clearTimeout(r),d()}if(clearTimeout(r),!f.domReference||!f.floating||null==a||null==n||null==u)return;const{clientX:h,clientY:y}=e,w=[h,y],b=N(e),x="mouseleave"===e.type,E=O(f.floating,b),R=O(f.domReference,b),P=f.domReference.getBoundingClientRect(),T=f.floating.getBoundingClientRect(),k=a.split("-")[0],L=n>T.right-T.width/2,C=u>T.bottom-T.height/2,M=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(w,P),S=T.width>P.width,D=T.height>P.height,A=(S?P:T).left,F=(S?P:T).right,B=(D?P:T).top,I=(D?P:T).bottom;if(E&&(i=!0,!x))return;if(R&&(i=!1),R&&!x)return void(i=!0);if(x&&v(e.relatedTarget)&&O(f.floating,e.relatedTarget))return;if(p&&tt(p.nodesRef.current,m).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===k&&u>=P.bottom-1||"bottom"===k&&u<=P.top+1||"left"===k&&n>=P.right-1||"right"===k&&n<=P.left+1)return g();let W=[];switch(k){case"top":W=[[A,P.top+1],[A,T.bottom-1],[F,T.bottom-1],[F,P.top+1]];break;case"bottom":W=[[A,T.top+1],[A,P.bottom-1],[F,P.bottom-1],[F,T.top+1]];break;case"left":W=[[T.right-1,I],[T.right-1,B],[P.left+1,B],[P.left+1,I]];break;case"right":W=[[P.right-1,I],[P.right-1,B],[T.left+1,B],[T.left+1,I]]}if(!gt([h,y],W)){if(i&&!M)return g();if(!x&&o){const t=function(e,t){const n=performance.now(),o=n-s;if(null===l||null===c||0===o)return l=e,c=t,s=n,null;const r=e-l,i=t-c,u=Math.sqrt(r*r+i*i);return l=e,c=t,s=n,u/o}(e.clientX,e.clientY);if(null!==t&&t<.1)return g()}gt([h,y],function(e){let[n,o]=e;switch(k){case"top":return[[S?n+t/2:L?n+4*t:n-4*t,o+t+1],[S?n-t/2:L?n+4*t:n-4*t,o+t+1],...[[T.left,L||S?T.bottom-t:T.top],[T.right,L?S?T.bottom-t:T.top:T.bottom-t]]];case"bottom":return[[S?n+t/2:L?n+4*t:n-4*t,o-t],[S?n-t/2:L?n+4*t:n-4*t,o-t],...[[T.left,L||S?T.top+t:T.bottom],[T.right,L?S?T.top+t:T.bottom:T.top+t]]];case"left":{const e=[n+t+1,D?o+t/2:C?o+4*t:o-4*t],r=[n+t+1,D?o-t/2:C?o+4*t:o-4*t];return[...[[C||D?T.right-t:T.left,T.top],[C?D?T.right-t:T.left:T.right-t,T.bottom]],e,r]}case"right":return[[n-t,D?o+t/2:C?o+4*t:o-4*t],[n-t,D?o-t/2:C?o+4*t:o-4*t],...[[C||D?T.left+t:T.right,T.top],[C?D?T.left+t:T.right:T.left+t,T.bottom]]]}}([n,u]))?!i&&o&&(r=window.setTimeout(g,40)):g()}}};return u.__options={blockPointerEvents:n},u}function ht(t){var n;const{position:o,showTooltip:i,setShowTooltip:l,arrowElement:c,openOn:s}=t,{refs:u,floatingStyles:a,context:f,middlewareData:d,placement:m}=ut({placement:o,open:i,onOpenChange:l,middleware:[(p=8,{...ue(p),options:[p,g]}),We({fallbackPlacements:["top","right","bottom","left"]}),Ie(),He({element:c})],whileElementsMounted:Te});var p,g;const y=function(t,n){void 0===n&&(n={});const{open:o,onOpenChange:r,dataRef:i,events:l,elements:c}=t,{enabled:s=!0,delay:u=0,handleClose:a=null,mouseOnly:f=!1,restMs:d=0,move:m=!0}=n,p=Ge(),g=Ue(),h=Qe(a),y=Qe(u),w=Qe(o),b=e.useRef(),x=e.useRef(-1),E=e.useRef(),R=e.useRef(-1),P=e.useRef(!0),T=e.useRef(!1),k=e.useRef((()=>{})),L=e.useRef(!1),C=e.useCallback((()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[i]);e.useEffect((()=>{if(s)return l.on("openchange",e),()=>{l.off("openchange",e)};function e(e){let{open:t}=e;t||(clearTimeout(x.current),clearTimeout(R.current),P.current=!0,L.current=!1)}}),[s,l]),e.useEffect((()=>{if(!s)return;if(!h.current)return;if(!o)return;function e(e){C()&&r(!1,e,"hover")}const t=W(c.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[c.floating,o,r,s,h,C]);const M=e.useCallback((function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");const o=et(y.current,"close",b.current);o&&!E.current?(clearTimeout(x.current),x.current=window.setTimeout((()=>r(!1,e,n)),o)):t&&(clearTimeout(x.current),r(!1,e,n))}),[y,r]),S=Ve((()=>{k.current(),E.current=void 0})),D=Ve((()=>{if(T.current){const e=W(c.floating).body;e.style.pointerEvents="",e.removeAttribute(Ze),T.current=!1}}));e.useEffect((()=>{if(s&&v(c.domReference)){var e;const t=c.domReference;return o&&t.addEventListener("mouseleave",u),null==(e=c.floating)||e.addEventListener("mouseleave",u),m&&t.addEventListener("mousemove",n,{once:!0}),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",l),()=>{var e;o&&t.removeEventListener("mouseleave",u),null==(e=c.floating)||e.removeEventListener("mouseleave",u),m&&t.removeEventListener("mousemove",n),t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",l)}}function t(){return!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type)}function n(e){if(clearTimeout(x.current),P.current=!1,f&&!I(b.current)||d>0&&!et(y.current,"open"))return;const t=et(y.current,"open",b.current);t?x.current=window.setTimeout((()=>{w.current||r(!0,e,"hover")}),t):r(!0,e,"hover")}function l(e){if(t())return;k.current();const n=W(c.floating);if(clearTimeout(R.current),L.current=!1,h.current&&i.current.floatingContext){o||clearTimeout(x.current),E.current=h.current({...i.current.floatingContext,tree:p,x:e.clientX,y:e.clientY,onClose(){D(),S(),M(e,!0,"safe-polygon")}});const t=E.current;return n.addEventListener("mousemove",t),void(k.current=()=>{n.removeEventListener("mousemove",t)})}("touch"!==b.current||!O(c.floating,e.relatedTarget))&&M(e)}function u(e){t()||i.current.floatingContext&&(null==h.current||h.current({...i.current.floatingContext,tree:p,x:e.clientX,y:e.clientY,onClose(){D(),S(),M(e)}})(e))}}),[c,s,t,f,d,m,M,S,D,r,o,w,p,y,h,i]),je((()=>{var e;if(s&&o&&null!=(e=h.current)&&e.__options.blockPointerEvents&&C()){T.current=!0;const e=c.floating;if(v(c.domReference)&&e){var t;const n=W(c.floating).body;n.setAttribute(Ze,"");const o=c.domReference,r=null==p||null==(t=p.nodesRef.current.find((e=>e.id===g)))||null==(t=t.context)?void 0:t.elements.floating;return r&&(r.style.pointerEvents=""),n.style.pointerEvents="none",o.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",o.style.pointerEvents="",e.style.pointerEvents=""}}}}),[s,o,g,c,p,h,C]),je((()=>{o||(b.current=void 0,L.current=!1,S(),D())}),[o,S,D]),e.useEffect((()=>()=>{S(),clearTimeout(x.current),clearTimeout(R.current),D()}),[s,c.domReference,S,D]);const A=e.useMemo((()=>{function e(e){b.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e;function n(){P.current||w.current||r(!0,t,"hover")}f&&!I(b.current)||o||0===d||L.current&&e.movementX**2+e.movementY**2<2||(clearTimeout(R.current),"touch"===b.current?n():(L.current=!0,R.current=window.setTimeout(n,d)))}}}),[f,r,o,w,d]),F=e.useMemo((()=>({onMouseEnter(){clearTimeout(x.current)},onMouseLeave(e){M(e.nativeEvent,!1)}})),[M]);return e.useMemo((()=>s?{reference:A,floating:F}:{}),[s,A,F])}(f,{enabled:["hover","hoverFocus"].includes(s),move:!1,delay:{open:25,close:0},restMs:25,handleClose:vt()}),w=at(f,{enabled:"hoverFocus"===s}),b=function(t,n){void 0===n&&(n={});const{open:o,onOpenChange:r,dataRef:i,elements:{domReference:l}}=t,{enabled:c=!0,event:s="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:f=!0}=n,d=e.useRef(),m=e.useRef(!1),p=e.useMemo((()=>({onPointerDown(e){d.current=e.pointerType},onMouseDown(e){const t=d.current;0===e.button&&"click"!==s&&(I(t,!0)&&a||(!o||!u||i.current.openEvent&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=d.current;"mousedown"===s&&d.current?d.current=void 0:I(t,!0)&&a||(!o||!u||i.current.openEvent&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){d.current=void 0,e.defaultPrevented||!f||ot(e)||(" "!==e.key||rt(l)||(e.preventDefault(),m.current=!0),"Enter"===e.key&&r(!o||!u,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!f||ot(e)||rt(l)||" "===e.key&&m.current&&(m.current=!1,r(!o||!u,e.nativeEvent,"click"))}})),[i,l,s,a,f,r,o,u]);return e.useMemo((()=>c?{reference:p}:{}),[c,p])}(f,{toggle:i,enabled:"click"===s}),x=function(t,n){void 0===n&&(n={});const{open:o,onOpenChange:r,elements:i,dataRef:l}=t,{enabled:c=!0,escapeKey:s=!0,outsidePress:u=!0,outsidePressEvent:a="pointerdown",referencePress:f=!1,referencePressEvent:d="pointerdown",ancestorScroll:m=!1,bubbles:p,capture:g}=n,y=Ge(),w=Ve("function"==typeof u?u:()=>!1),b="function"==typeof u?w:u,x=e.useRef(!1),E=e.useRef(!1),{escapeKey:k,outsidePress:C}=ct(p),{escapeKey:S,outsidePress:D}=ct(g),A=e.useRef(!1),F=Ve((e=>{var t;if(!o||!c||!s||"Escape"!==e.key)return;if(A.current)return;const n=null==(t=l.current.floatingContext)?void 0:t.nodeId,i=y?tt(y.nodesRef.current,n):[];if(!k&&(e.stopPropagation(),i.length>0)){let e=!0;if(i.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),B=Ve((e=>{var t;const n=()=>{var t;F(e),null==(t=N(e))||t.removeEventListener("keydown",n)};null==(t=N(e))||t.addEventListener("keydown",n)})),I=Ve((e=>{var t;const n=x.current;x.current=!1;const o=E.current;if(E.current=!1,"click"===a&&o)return;if(n)return;if("function"==typeof b&&!b(e))return;const c=N(e),s="["+Je("inert")+"]",u=W(i.floating).querySelectorAll(s);let f=v(c)?c:null;for(;f&&!P(f);){const e=L(f);if(P(e)||!v(e))break;f=e}if(u.length&&v(c)&&!c.matches("html,body")&&!O(c,i.floating)&&Array.from(u).every((e=>!O(f,e))))return;if(h(c)&&j){const t=c.clientWidth>0&&c.scrollWidth>c.clientWidth,n=c.clientHeight>0&&c.scrollHeight>c.clientHeight;let o=n&&e.offsetX>c.clientWidth;if(n&&"rtl"===T(c).direction&&(o=e.offsetX<=c.offsetWidth-c.clientWidth),o||t&&e.offsetY>c.clientHeight)return}const d=null==(t=l.current.floatingContext)?void 0:t.nodeId,m=y&&tt(y.nodesRef.current,d).some((t=>{var n;return H(e,null==(n=t.context)?void 0:n.elements.floating)}));if(H(e,i.floating)||H(e,i.domReference)||m)return;const p=y?tt(y.nodesRef.current,d):[];if(p.length>0){let e=!0;if(p.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),_=Ve((e=>{var t;const n=()=>{var t;I(e),null==(t=N(e))||t.removeEventListener(a,n)};null==(t=N(e))||t.addEventListener(a,n)}));e.useEffect((()=>{if(!o||!c)return;l.current.__escapeKeyBubbles=k,l.current.__outsidePressBubbles=C;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function n(){window.clearTimeout(e),A.current=!0}function u(){e=window.setTimeout((()=>{A.current=!1}),R()?5:0)}const f=W(i.floating);s&&(f.addEventListener("keydown",S?B:F,S),f.addEventListener("compositionstart",n),f.addEventListener("compositionend",u)),b&&f.addEventListener(a,D?_:I,D);let d=[];return m&&(v(i.domReference)&&(d=M(i.domReference)),v(i.floating)&&(d=d.concat(M(i.floating))),!v(i.reference)&&i.reference&&i.reference.contextElement&&(d=d.concat(M(i.reference.contextElement)))),d=d.filter((e=>{var t;return e!==(null==(t=f.defaultView)?void 0:t.visualViewport)})),d.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{s&&(f.removeEventListener("keydown",S?B:F,S),f.removeEventListener("compositionstart",n),f.removeEventListener("compositionend",u)),b&&f.removeEventListener(a,D?_:I,D),d.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[l,i,s,b,a,o,r,m,c,k,C,F,S,B,I,D,_]),e.useEffect((()=>{x.current=!1}),[b,a]);const V=e.useMemo((()=>({onKeyDown:F,[it[d]]:e=>{f&&r(!1,e.nativeEvent,"reference-press")}})),[F,r,f,d]),j=e.useMemo((()=>({onKeyDown:F,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[lt[a]]:()=>{x.current=!0}})),[F,a]);return e.useMemo((()=>c?{reference:V,floating:j}:{}),[c,V,j])}(f,{outsidePress:!0}),E=function(t,n){var o;void 0===n&&(n={});const{open:r,floatingId:i}=t,{enabled:l=!0,role:c="dialog"}=n,s=null!=(o=pt.get(c))?o:c,u=ze(),a=null!=Ue(),f=e.useMemo((()=>"tooltip"===s||"label"===c?{["aria-"+("label"===c?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===s?"dialog":s,"aria-controls":r?i:void 0,..."listbox"===s&&{role:"combobox"},..."menu"===s&&{id:u},..."menu"===s&&a&&{role:"menuitem"},..."select"===c&&{"aria-autocomplete":"none"},..."combobox"===c&&{"aria-autocomplete":"list"}}),[s,i,a,r,u,c]),d=e.useMemo((()=>{const e={id:i,...s&&{role:s}};return"tooltip"===s||"label"===c?e:{...e,..."menu"===s&&{"aria-labelledby":u}}}),[s,i,u,c]),m=e.useCallback((e=>{let{active:t,selected:n}=e;const o={role:"option",...t&&{id:i+"-option"}};switch(c){case"select":return{...o,"aria-selected":t&&n};case"combobox":return{...o,...t&&{"aria-selected":!0}}}return{}}),[i,c]);return e.useMemo((()=>l?{reference:f,floating:d,item:m}:{}),[l,f,d,m])}(f,{role:"tooltip"}),k={onFocus:r((()=>l(!0)),[l]),onBlur:r((()=>l(!1)),[l])},C=m.split("-")[0],S=m.split("-")[1],D=["top","bottom"].includes(C)&&"start"===S&&null!==(n=null==c?void 0:c.offsetWidth)&&void 0!==n?n:0,A={top:"bottom",right:"left",bottom:"top",left:"right"}[C];let F;if(d.arrow){const{x:e,y:t}=d.arrow;F={left:e?e-D:"",top:null!=t?t:""}}const{getReferenceProps:B,getFloatingProps:_}=function(t){void 0===t&&(t=[]);const n=t.map((e=>null==e?void 0:e.reference)),o=t.map((e=>null==e?void 0:e.floating)),r=t.map((e=>null==e?void 0:e.item)),i=e.useCallback((e=>mt(e,t,"reference")),n),l=e.useCallback((e=>mt(e,t,"floating")),o),c=e.useCallback((e=>mt(e,t,"item")),r);return e.useMemo((()=>({getReferenceProps:i,getFloatingProps:l,getItemProps:c})),[i,l,c])}([w,y,b,x,E]);return{arrowStyles:F,blurFocusEvents:k,floatingStyles:a,getFloatingProps:_,getReferenceProps:B,refs:u,staticSide:A}}const yt=e=>{const{trigger:t,htmlMessage:n,textMessage:o,openOn:r,position:c,preview:s,renderMethod:u}=e,[f,d]=i(null!=s&&s),[m,p]=i(null),{arrowStyles:g,blurFocusEvents:v,floatingStyles:h,getFloatingProps:y,getReferenceProps:w,refs:b,staticSide:x}=ht({position:c,showTooltip:f,setShowTooltip:d,arrowElement:m,openOn:r});return l("div",{className:a(e.class,"widget-tooltip","widget-tooltip-".concat(c))},l("div",{className:"widget-tooltip-trigger",ref:null==b?void 0:b.setReference,...s||null==w?void 0:w({..."hoverFocus"!==r||s?void 0:v})},t),f&&(o||n)?l("div",{className:"widget-tooltip-content",ref:null==b?void 0:b.setFloating,style:h,...null==y?void 0:y()},"text"===u?o:n,l("div",{className:"widget-tooltip-arrow-".concat(x),ref:p,style:g})):null)};function wt(e){var t,n,o;return l(yt,{class:e.class,htmlMessage:e.htmlMessage,name:e.name,openOn:e.openOn,position:(n=e.tooltipPosition,o=e.arrowPosition,"".concat(n).concat("none"===o?"":"-"+o)),renderMethod:e.renderMethod,style:e.style,trigger:e.trigger,textMessage:null===(t=e.textMessage)||void 0===t?void 0:t.value,tabIndex:e.tabIndex})}export{wt as default};
