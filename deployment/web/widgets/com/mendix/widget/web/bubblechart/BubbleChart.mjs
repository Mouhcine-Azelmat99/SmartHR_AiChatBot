import{usePlotChartDataSeries as e,ChartWidget as t,traceEqual as i}from"../../../shared/charts/esm/shared-charts.mjs";import r from"big.js";import{memo as o,useCallback as n,createElement as s}from"react";const a=Object.is;function l(e){return"object"==typeof e&&null!==e}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(l(e)&&l(t)){const r=new Set(Object.keys(e).concat(Object.keys(t)));for(const o of r)if(!i(e[o],t[o],o))return!1;return!0}return a(e,t)}function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c,h={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var f,g=(c||(c=1,f=h,function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var n=typeof o;if("string"===n||"number"===n)i.push(o);else if(Array.isArray(o)){if(o.length){var s=t.apply(null,o);s&&i.push(s)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){i.push(o.toString());continue}for(var a in o)e.call(o,a)&&o[a]&&i.push(a)}}}return i.join(" ")}f.exports?(t.default=t,f.exports=t):window.classNames=t}()),h.exports),v=d(g);const m=(e,t,i)=>{const r=((e,t,i)=>{if(e.autosize){var r,o;let n=1;const s=((null!==(r=null==i?void 0:i.width)&&void 0!==r?r:0)+(null!==(o=null==i?void 0:i.height)&&void 0!==o?o:0))/2/(1/(e.sizeref/100));return t.length>0&&(n=Math.max(...t)/s),Math.round(1e3*n)/1e3}if(e.sizeref>0)return 1/(e.sizeref/100);return 1})(e,t.size,i);return{sizemode:"diameter",sizeref:r}},p={xaxis:{zeroline:!0,fixedrange:!0,gridcolor:"#d7d7d7",zerolinecolor:"#d7d7d7"},yaxis:{fixedrange:!0,gridcolor:"#d7d7d7",zeroline:!0,zerolinecolor:"#d7d7d7"}},b={responsive:!0},y={},x=o((function(i){var o,a;const l=e(i.lines,n(((e,t,o)=>{let{getExpressionValue:n}=o;const s=(e=>{var t;const i=[];let o,n;if("static"===e.dataSet?(o=e.staticDataSource,n=e.staticSizeAttribute):(o=e.dynamicDataSource,n=e.dynamicSizeAttribute),null!==(t=o)&&void 0!==t&&t.items)for(const e of o.items){var s;const t=null===(s=n)||void 0===s?void 0:s.get(e),o=(null==t?void 0:t.value)instanceof r?Number(t.value.toString()):null==t?void 0:t.value;o&&i.push(r(o).toNumber())}return i})(e),a=m(e,{size:s},{width:i.width,widthUnit:i.widthUnit,height:i.height,heightUnit:i.heightUnit}),l="static"===e.dataSet?e.staticMarkerColor:e.dynamicMarkerColor;return{type:"scatter",mode:"markers",marker:{color:l?n(l,t.dataSourceItems):void 0,symbol:["circle"],size:s,...a}}}),[]));return s(t,{type:"BubbleChart",className:v("widget-bubble-chart",i.class),data:null!=l?l:[],width:i.width,widthUnit:i.widthUnit,height:i.height,heightUnit:i.heightUnit,showLegend:i.showLegend,xAxisLabel:null===(o=i.xAxisLabel)||void 0===o?void 0:o.value,yAxisLabel:null===(a=i.yAxisLabel)||void 0===a?void 0:a.value,gridLinesMode:i.gridLines,playground:i.playground,customLayout:i.customLayout,customConfig:i.customConfigurations,layoutOptions:p,configOptions:b,seriesOptions:y,enableThemeConfig:i.enableThemeConfig})}),((e,t)=>u(e,t,((e,t,r)=>"lines"===r?u(e,t,i):a(e,t)))));export{x as BubbleChart};
